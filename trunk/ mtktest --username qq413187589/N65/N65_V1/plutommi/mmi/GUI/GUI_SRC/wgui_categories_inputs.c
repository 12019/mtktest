/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/

/*****************************************************************************
 *
 * Filename:
 * ---------
 *   wgui_categories_inputs.c
 *
 * Project:
 * --------
 *   Maui_Software
 *
 * Description:
 * ------------
 * Input/Editor related categoreis.
 *
 * Author:
 * -------
 * -------
 *
 *============================================================================
 *             HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *------------------------------------------------------------------------------
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *============================================================================
 ****************************************************************************/

#include "MMI_features.h"

#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
#include "EditorPenGprot.h"
#endif 
#include "stdC.h"
#include "L4Dr1.h"
#include "MMIDataType.h"
#include "DebugInitDef.h"
#include "GlobalDefs.h"
#ifdef __MMI_UI_SMALL_SCREEN_SUPPORT__
#include "HistoryGprot.h"
#endif 
#include "FrameworkStruct.h"
#include "EventsDef.h"
#include "wgui_inputs.h"
#include "wgui_categories_defs.h"
#include "gui_themes.h"
#include "wgui_categories.h"
#include "wgui_categories_inputs.h"
#include "wgui_status_icons.h"
#include "ScrMemMgrGprot.h"
//#include "t9def.h"
#include "TimerEvents.h"
#include "bididef.h"
#include "IMERes.h"
#include "gui_setting.h"
/*PMT IRE START*/
#ifdef __MMI_INDIC_ALG__
#include "IndicEngineGprot.h"
/*PMT IRE END*/
#endif 
#if defined(__MMI_SMART_MESSAGE_MO__) && !defined(__MMI_MESSAGES_EMS__)
#include "SmsGuiInterfaceType.h"
#include "MessagesResourceData.h"
#endif /* defined(__MMI_SMART_MESSAGE_MO__) && !defined(__MMI_MESSAGES_EMS__) */ 

#include "ChatGtype.h"
#include "wgui_draw_manager.h"
#include "IMERes.h"
#include "wgui_ems.h"

#ifdef __MMI_DUAL_SIM_MASTER__
#include "MTPNP_PFAL_CC.h"
#endif  /* __MMI_DUAL_SIM_MASTER__ */

S32 redraw_on_input_method_change = 0;


#if defined(__MMI_TOUCH_SCREEN__)
S32 wgui_information_bar_input_mode_display_width = 0;
S32 wgui_information_bar_input_mode_display_height = 0;
S32 wgui_information_bar_input_mode_height = 0;
#endif



#ifdef __UI_PAGING_IN_MULTILINE_EDITOR__
static U8 shared_data[GUI_SHARED_BYTES];
#endif

#ifdef UI_SMALL_CATEGORY_EDITOR
BOOL g_small_editor_category_present = FALSE;
#endif 
#include "BIDIDEF.h"
#include "BIDIProt.h"
/* MTK Terry for removing compile warnings */
extern void draw_scrolling_title(void);
extern void setup_scrolling_title(void);
extern void close_scrolling_title(void);
extern void register_EMS_inputbox_input_callback(void (*f) (void));

/* MTK steven for removing compile warnings */
extern void resize_singleline_inputbox(S32 width, S32 height);
extern void EntrySymbolPickerScreen(void);

#ifdef __MMI_T9__
extern void InuptMethodEnterInlineMultilineScreen(void);
extern void T9SynT9WithInputBoxMultilineInputBox(void);

#ifdef UI_SMALL_CATEGORY_EDITOR
#if defined(__MMI_T9_SM_CHINESE__) || defined(__MMI_T9_TR_CHINESE__)
extern void T9TrResizeSelectionArea(void);
#endif /* defined(__MMI_T9_SM_CHINESE__) || defined(__MMI_T9_TR_CHINESE__) */
#endif 
#endif /* __MMI_T9__ */ 
/* MTK end */
extern void mmi_idle_star_key_disable_long_press(void);
// add by ailsa for timer revised API
extern void StopTimer(U16 timerid);
/* Cat_215 Start */
U8 cat_215_text_utf8_length;

/* Cat_215 End */
//to customize input methods
// __CUSTPACK_MULTIBIN     Terry   BEGIN
U8 MMI_english_input_mode_set[INPUT_MODE_MAX_NUM];

U8 MMI_qsearch_input_mode_set[INPUT_MODE_MAX_NUM];

U8 MMI_all_input_mode_set[INPUT_MODE_MAX_NUM];

/* Begin AP input mode set */
U8 MMI_AP_set_input_mode_set = 0;
S16 MMI_AP_required_input_mode_set[INPUT_MODE_MAX_NUM];

/* End AP input mode set */

#if defined(__MMI_MIXED_LANG_SUPPORT__) || defined(__MMI_PREFER_WRITING_LANG__)
ime_writing_lang_struct g_ime_writing_lang_array[MAX_WRITING_LANG]; 
#endif

const U8 MMI_implement_input_mode_set[] = 
{
    INPUT_MODE_MULTITAP_UPPERCASE_ABC,
    INPUT_MODE_MULTITAP_LOWERCASE_ABC,
    INPUT_MODE_123,
#if defined (__MMI_MULTITAP_THAI__)
    INPUT_MODE_MULTITAP_THAI,
#endif 

#if defined(__MMI_MULTITAP_SPANISH__)
    INPUT_MODE_MULTITAP_UPPERCASE_SPANISH,
    INPUT_MODE_MULTITAP_LOWERCASE_SPANISH,
#endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
#if defined(__MMI_MULTITAP_DANISH__)
    INPUT_MODE_MULTITAP_UPPERCASE_DANISH,
    INPUT_MODE_MULTITAP_LOWERCASE_DANISH,
#endif /* defined(__MMI_MULTITAP_DANISH__) */ 
#if defined(__MMI_MULTITAP_POLISH__)
    INPUT_MODE_MULTITAP_UPPERCASE_POLISH,
    INPUT_MODE_MULTITAP_LOWERCASE_POLISH,
#endif /* defined(__MMI_MULTITAP_POLISH__) */ 
#if defined(__MMI_MULTITAP_FRENCH__)
    INPUT_MODE_MULTITAP_UPPERCASE_FRENCH,
    INPUT_MODE_MULTITAP_LOWERCASE_FRENCH,
#endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
#if defined(__MMI_MULTITAP_GERMAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_GERMAN,
    INPUT_MODE_MULTITAP_LOWERCASE_GERMAN,
#endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
#if defined(__MMI_MULTITAP_ITALIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN,
#endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
#if defined(__MMI_MULTITAP_RUSSIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN,
#endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
#if defined(__MMI_MULTITAP_BULGARIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN,
#endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
#if defined(__MMI_MULTITAP_UKRAINIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN,
#endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
#if defined(__MMI_MULTITAP_TURKISH__)
    INPUT_MODE_MULTITAP_UPPERCASE_TURKISH,
    INPUT_MODE_MULTITAP_LOWERCASE_TURKISH,
#endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
#if defined(__MMI_MULTITAP_PORTUGUESE__)
    INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE,
    INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE,
#endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
#if defined(__MMI_MULTITAP_INDONESIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN,
#endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
#if defined(__MMI_MULTITAP_CZECH__)
    INPUT_MODE_MULTITAP_UPPERCASE_CZECH,
    INPUT_MODE_MULTITAP_LOWERCASE_CZECH,
#endif /* defined(__MMI_MULTITAP_CZECH__) */ 
#if defined(__MMI_MULTITAP_MALAY__)
    INPUT_MODE_MULTITAP_UPPERCASE_MALAY,
    INPUT_MODE_MULTITAP_LOWERCASE_MALAY,
#endif /* defined(__MMI_MULTITAP_MALAY__) */ 
#if defined(__MMI_MULTITAP_VIETNAMESE__)
    INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE,
    INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE,
#endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
#if defined(__MMI_MULTITAP_FINNISH__)
    INPUT_MODE_MULTITAP_UPPERCASE_FINNISH,
    INPUT_MODE_MULTITAP_LOWERCASE_FINNISH,
#endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
#if defined(__MMI_MULTITAP_HUNGARIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN,
#endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
#if defined(__MMI_MULTITAP_SWEDISH__)
    INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH,
    INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH,
#endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
#if defined(__MMI_MULTITAP_HEBREW__)
    INPUT_MODE_MULTITAP_HEBREW,
#endif 
#if defined(__MMI_MULTITAP_SLOVAK__)
    INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK,
    INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK,
#endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
#if defined(__MMI_MULTITAP_DUTCH__)
    INPUT_MODE_MULTITAP_UPPERCASE_DUTCH,
    INPUT_MODE_MULTITAP_LOWERCASE_DUTCH,
#endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
#if defined(__MMI_MULTITAP_NORWEGIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN,
#endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
#if defined(__MMI_MULTITAP_ARABIC__)
    INPUT_MODE_MULTITAP_ARABIC,
#endif 
#if 0//defined(__MMI_MULTITAP_ARABIC__) /*ALEX.XIE*/
    INPUT_MODE_ARABIC_NUMERIC,
#endif 
#if defined(__MMI_MULTITAP_PERSIAN__)
    INPUT_MODE_MULTITAP_PERSIAN,
#endif
#if defined(__MMI_MULTITAP_URDU__)
    INPUT_MODE_MULTITAP_URDU,
#endif
#if defined(__MMI_MULTITAP_CROATIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN,
#endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
#if defined(__MMI_MULTITAP_ROMANIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN,
#endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
#if defined(__MMI_MULTITAP_SLOVENIAN__)
    INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN,
#endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
#if defined(__MMI_MULTITAP_GREEK__)
    INPUT_MODE_MULTITAP_UPPERCASE_GREEK,
    INPUT_MODE_MULTITAP_LOWERCASE_GREEK,
#endif /* defined(__MMI_MULTITAP_GREEK__) */ 

#if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
    INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC,
    INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC,
    INPUT_MODE_123_SYMBOLS,
#endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
#if defined(__MMI_T9__)
#if defined(__MMI_T9_TR_CHINESE__) && defined(__MMI_T9_MULTITAP_PHONETIC_INPUT__)
    INPUT_MODE_TR_MULTITAP_BOPOMO,
#endif 
#if defined(__MMI_T9_SM_CHINESE__) && defined(__MMI_T9_MULTITAP_PHONETIC_INPUT__)
    INPUT_MODE_SM_MULTITAP_PINYIN,
#endif 

#if defined(__MMI_T9_TR_CHINESE__) && defined(__MMI_T9_STROKE_INPUT__)
    INPUT_MODE_TR_STROKE,
#endif 
#if defined(__MMI_T9_SM_CHINESE__) && defined(__MMI_T9_STROKE_INPUT__)
    INPUT_MODE_SM_STROKE,
#endif 
#if defined(__MMI_T9_TR_CHINESE__) && defined(__MMI_T9_SMART_PHONETIC_INPUT__) && defined(__MMI_T9_AMB_BPMF_INPUT__)
    INPUT_MODE_TR_BOPOMO,
#endif 
#if defined(__MMI_T9_SM_CHINESE__) && defined(__MMI_T9_SMART_PHONETIC_INPUT__)
    INPUT_MODE_SM_PINYIN,
#endif 

#if defined(__MMI_T9_ENGLISH__)
    INPUT_MODE_SMART_UPPERCASE_ABC,
    INPUT_MODE_SMART_LOWERCASE_ABC,
#if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
    INPUT_MODE_SMART_FIRST_UPPERCASE_ABC,
#endif
#endif /* defined(__MMI_T9_ENGLISH__) */ 

#if defined(__MMI_T9_SPANISH__)
    INPUT_MODE_SMART_UPPERCASE_SPANISH,
    INPUT_MODE_SMART_LOWERCASE_SPANISH,
#endif /* defined(__MMI_T9_SPANISH__) */ 
#if defined(__MMI_T9_DANISH__)
    INPUT_MODE_SMART_UPPERCASE_DANISH,
    INPUT_MODE_SMART_LOWERCASE_DANISH,
#endif /* defined(__MMI_T9_DANISH__) */ 
#if defined(__MMI_T9_POLISH__)
    INPUT_MODE_SMART_UPPERCASE_POLISH,
    INPUT_MODE_SMART_LOWERCASE_POLISH,
#endif /* defined(__MMI_T9_POLISH__) */ 
#if defined(__MMI_T9_FRENCH__)
    INPUT_MODE_SMART_UPPERCASE_FRENCH,
    INPUT_MODE_SMART_LOWERCASE_FRENCH,
#endif /* defined(__MMI_T9_FRENCH__) */ 
#if defined(__MMI_T9_GERMAN__)
    INPUT_MODE_SMART_UPPERCASE_GERMAN,
    INPUT_MODE_SMART_LOWERCASE_GERMAN,
#endif /* defined(__MMI_T9_GERMAN__) */ 
#if defined(__MMI_T9_ITALIAN__)
    INPUT_MODE_SMART_UPPERCASE_ITALIAN,
    INPUT_MODE_SMART_LOWERCASE_ITALIAN,
#endif /* defined(__MMI_T9_ITALIAN__) */ 
#if defined(__MMI_T9_RUSSIAN__)
    INPUT_MODE_SMART_UPPERCASE_RUSSIAN,
    INPUT_MODE_SMART_LOWERCASE_RUSSIAN,
#endif /* defined(__MMI_T9_RUSSIAN__) */ 
    /* PMT BULGARIAN START 20051201 */
#if defined(__MMI_T9_BULGARIAN__)
    INPUT_MODE_SMART_UPPERCASE_BULGARIAN,
    INPUT_MODE_SMART_LOWERCASE_BULGARIAN,
#endif /* defined(__MMI_T9_BULGARIAN__) */ 
#if defined(__MMI_T9_THAI__)
    INPUT_MODE_SMART_THAI,
#endif 
#if defined(__MMI_T9_CZECH__)
    INPUT_MODE_SMART_UPPERCASE_CZECH,
    INPUT_MODE_SMART_LOWERCASE_CZECH,
#endif /* defined(__MMI_T9_CZECH__) */ 
#if defined(__MMI_T9_INDONESIAN__)
    INPUT_MODE_SMART_UPPERCASE_INDONESIAN,
    INPUT_MODE_SMART_LOWERCASE_INDONESIAN,
#endif /* defined(__MMI_T9_INDONESIAN__) */ 
#if defined(__MMI_T9_TURKISH__)
    INPUT_MODE_SMART_UPPERCASE_TURKISH,
    INPUT_MODE_SMART_LOWERCASE_TURKISH,
#endif /* defined(__MMI_T9_TURKISH__) */ 

#if defined(__MMI_T9_PORTUGUESE__)
    INPUT_MODE_SMART_UPPERCASE_PORTUGUESE,
    INPUT_MODE_SMART_LOWERCASE_PORTUGUESE,
#endif /* defined(__MMI_T9_PORTUGUESE__) */ 

#if defined(__MMI_T9_VIETNAMESE__)
    INPUT_MODE_SMART_UPPERCASE_VIETNAMESE,
    INPUT_MODE_SMART_LOWERCASE_VIETNAMESE,
#endif /* defined(__MMI_T9_VIETNAMESE__) */ 

#if defined(__MMI_T9_FINNISH__)
    INPUT_MODE_SMART_UPPERCASE_FINNISH,
    INPUT_MODE_SMART_LOWERCASE_FINNISH,
#endif /* defined(__MMI_T9_FINNISH__) */ 
#if defined(__MMI_T9_HUNGARIAN__)
    INPUT_MODE_SMART_UPPERCASE_HUNGARIAN,
    INPUT_MODE_SMART_LOWERCASE_HUNGARIAN,
#endif /* defined(__MMI_T9_HUNGARIAN__) */ 
#if defined(__MMI_T9_ARABIC__)
    INPUT_MODE_SMART_ARABIC,
#endif 
#if defined(__MMI_T9_GREEK__)
    INPUT_MODE_SMART_UPPERCASE_GREEK,
    INPUT_MODE_SMART_LOWERCASE_GREEK,
#endif /* defined(__MMI_T9_GREEK__) */ 
#if defined(__MMI_T9_HEBREW__)
    INPUT_MODE_SMART_HEBREW,
#endif 
#if defined(__MMI_T9_HINDI__)
    INPUT_MODE_SMART_HINDI,
#endif 
#if defined(__MMI_T9_NORWEGIAN__)
    INPUT_MODE_SMART_UPPERCASE_NORWEGIAN,
    INPUT_MODE_SMART_LOWERCASE_NORWEGIAN,
#endif /* defined(__MMI_T9_NORWEGIAN__) */ 
#if defined(__MMI_T9_DUTCH__)
    INPUT_MODE_SMART_UPPERCASE_DUTCH,
    INPUT_MODE_SMART_LOWERCASE_DUTCH,
#endif /* defined(__MMI_T9_DUTCH__) */ 
#if defined(__MMI_T9_SLOVENIAN__)
    INPUT_MODE_SMART_UPPERCASE_SLOVENIAN,
    INPUT_MODE_SMART_LOWERCASE_SLOVENIAN,
#endif /* defined(__MMI_T9_SLOVENIAN__) */ 
#if defined(__MMI_T9_SWEDISH__)
    INPUT_MODE_SMART_UPPERCASE_SWEDISH,
    INPUT_MODE_SMART_LOWERCASE_SWEDISH,
#endif /* defined(__MMI_T9_SWEDISH__) */ 
#if defined(__MMI_T9_MALAY__)
    INPUT_MODE_SMART_UPPERCASE_MALAY,
    INPUT_MODE_SMART_LOWERCASE_MALAY,
#endif /* defined(__MMI_T9_MALAY__) */ 
#if defined(__MMI_T9_CROATIAN__)
    INPUT_MODE_SMART_UPPERCASE_CROATIAN,
    INPUT_MODE_SMART_LOWERCASE_CROATIAN,
#endif /* defined(__MMI_T9_CROATIAN__) */ 
#if defined(__MMI_T9_SLOVAK__)
    INPUT_MODE_SMART_UPPERCASE_SLOVAK,
    INPUT_MODE_SMART_LOWERCASE_SLOVAK,
#endif /* defined(__MMI_T9_SLOVAK__) */ 
#if defined(__MMI_T9_ROMANIAN__)
    INPUT_MODE_SMART_UPPERCASE_ROMANIAN,
    INPUT_MODE_SMART_LOWERCASE_ROMANIAN,
#endif /* defined(__MMI_T9_ROMANIAN__) */ 
#elif defined(__MMI_ZI__)
#if defined(__MMI_ZI_TR_CHINESE__) && defined(__MMI_ZI_MULTITAP_PHONETIC_INPUT__)
    INPUT_MODE_TR_MULTITAP_BOPOMO,
#endif 
#if defined(__MMI_ZI_SM_CHINESE__) && defined(__MMI_ZI_MULTITAP_PHONETIC_INPUT__)
    INPUT_MODE_SM_MULTITAP_PINYIN,
#endif 
#if defined(__MMI_ZI_TR_CHINESE__) && defined(__MMI_ZI_STROKE_INPUT__)
    INPUT_MODE_TR_STROKE,
#endif 
#if defined(__MMI_ZI_SM_CHINESE__) && defined(__MMI_ZI_STROKE_INPUT__)
    INPUT_MODE_SM_STROKE,
#endif 
#if defined(__MMI_ZI_TR_CHINESE__) && defined(__MMI_ZI_SMART_PHONETIC_INPUT__)
    INPUT_MODE_TR_BOPOMO,
#endif 
#if defined(__MMI_ZI_SM_CHINESE__) && defined(__MMI_ZI_SMART_PHONETIC_INPUT__)
    INPUT_MODE_SM_PINYIN,
#endif 
#if defined(__MMI_ZI_PRC_ENGLISH__) || defined(__MMI_ZI_UK_ENGLISH__)
    INPUT_MODE_SMART_UPPERCASE_ABC,
    INPUT_MODE_SMART_LOWERCASE_ABC,
#if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
    INPUT_MODE_SMART_FIRST_UPPERCASE_ABC,
#endif
#endif /* defined(__MMI_ZI_PRC_ENGLISH__) || defined(__MMI_ZI_UK_ENGLISH__) */ 
#if defined(__MMI_ZI_THAI__)
    INPUT_MODE_SMART_THAI,
#endif 
#if defined(__MMI_ZI_ARABIC__)
    INPUT_MODE_SMART_ARABIC,
#endif 
#if defined(__MMI_ZI_PERSIAN__)
    INPUT_MODE_SMART_PERSIAN,
#endif
#if defined(__MMI_ZI_HINDI__)
    INPUT_MODE_SMART_HINDI,
#endif 
#if defined(__MMI_ZI_BENGALI__)
    INPUT_MODE_SMART_BENGALI,
#endif 

#if defined(__MMI_ZI_MARATHI__)
    INPUT_MODE_SMART_MARATHI,
#endif 

#if defined(__MMI_ZI_PUNJABI__)
    INPUT_MODE_SMART_PUNJABI,
#endif 

#if defined(__MMI_ZI_TAMIL__)
    INPUT_MODE_SMART_TAMIL,
#endif 

#if defined(__MMI_ZI_TELUGU__)
    INPUT_MODE_SMART_TELUGU,
#endif 

#if defined(__MMI_ZI_URDU__)
    INPUT_MODE_SMART_URDU,
#endif 
#if defined(__MMI_ZI_HEBREW__)
    INPUT_MODE_SMART_HEBREW,
#endif 
#if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
    INPUT_MODE_SMART_UPPERCASE_SPANISH,
    INPUT_MODE_SMART_LOWERCASE_SPANISH,
#endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
#if defined(__MMI_ZI_DANISH__)
    INPUT_MODE_SMART_UPPERCASE_DANISH,
    INPUT_MODE_SMART_LOWERCASE_DANISH,
#endif /* defined(__MMI_ZI_DANISH__) */ 
#if defined(__MMI_ZI_POLISH__)
    INPUT_MODE_SMART_UPPERCASE_POLISH,
    INPUT_MODE_SMART_LOWERCASE_POLISH,
#endif /* defined(__MMI_ZI_POLISH__) */ 
#if defined(__MMI_ZI_NORWEGIAN__)
    INPUT_MODE_SMART_UPPERCASE_NORWEGIAN,
    INPUT_MODE_SMART_LOWERCASE_NORWEGIAN,
#endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
#if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
    INPUT_MODE_SMART_UPPERCASE_FRENCH,
    INPUT_MODE_SMART_LOWERCASE_FRENCH,
#endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
#if defined(__MMI_ZI_GERMAN__)
    INPUT_MODE_SMART_UPPERCASE_GERMAN,
    INPUT_MODE_SMART_LOWERCASE_GERMAN,
#endif /* defined(__MMI_ZI_GERMAN__) */ 
#if defined(__MMI_ZI_ITALIAN__)
    INPUT_MODE_SMART_UPPERCASE_ITALIAN,
    INPUT_MODE_SMART_LOWERCASE_ITALIAN,
#endif /* defined(__MMI_ZI_ITALIAN__) */ 
#if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
    INPUT_MODE_SMART_UPPERCASE_RUSSIAN,
    INPUT_MODE_SMART_LOWERCASE_RUSSIAN,
#endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
#if defined(__MMI_ZI_BULGARIAN__)
    INPUT_MODE_SMART_UPPERCASE_BULGARIAN,
    INPUT_MODE_SMART_LOWERCASE_BULGARIAN,
#endif /* defined(__MMI_ZI_BULGARIAN__) */ 
#if defined(__MMI_ZI_UKRAINIAN__)
    INPUT_MODE_SMART_UPPERCASE_UKRAINIAN,
    INPUT_MODE_SMART_LOWERCASE_UKRAINIAN,
#endif /* defined(__MMI_ZI_UKRAINIAN__) */ 
#if defined(__MMI_ZI_TURKISH__)
    INPUT_MODE_SMART_UPPERCASE_TURKISH,
    INPUT_MODE_SMART_LOWERCASE_TURKISH,
#endif /* defined(__MMI_ZI_TURKISH__) */ 
#if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
    INPUT_MODE_SMART_UPPERCASE_PORTUGUESE,
    INPUT_MODE_SMART_LOWERCASE_PORTUGUESE,
#endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
#if defined(__MMI_ZI_INDONESIAN__)
    INPUT_MODE_SMART_UPPERCASE_INDONESIAN,
    INPUT_MODE_SMART_LOWERCASE_INDONESIAN,
#endif /* defined(__MMI_ZI_INDONESIAN__) */ 
#if defined(__MMI_ZI_CZECH__)
    INPUT_MODE_SMART_UPPERCASE_CZECH,
    INPUT_MODE_SMART_LOWERCASE_CZECH,
#endif /* defined(__MMI_ZI_CZECH__) */ 
#if defined(__MMI_ZI_MALAY__)
    INPUT_MODE_SMART_UPPERCASE_MALAY,
    INPUT_MODE_SMART_LOWERCASE_MALAY,
#endif /* defined(__MMI_ZI_MALAY__) */ 
#if defined(__MMI_ZI_VIETNAMESE__)
    INPUT_MODE_SMART_UPPERCASE_VIETNAMESE,
    INPUT_MODE_SMART_LOWERCASE_VIETNAMESE,
#endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
#if defined(__MMI_ZI_SLOVAK__)
    INPUT_MODE_SMART_UPPERCASE_SLOVAK,
    INPUT_MODE_SMART_LOWERCASE_SLOVAK,
#endif /* defined(__MMI_ZI_SLOVAK__) */ 
#if defined(__MMI_ZI_DUTCH__)
    INPUT_MODE_SMART_UPPERCASE_DUTCH,
    INPUT_MODE_SMART_LOWERCASE_DUTCH,
#endif /* defined(__MMI_ZI_DUTCH__) */ 
#if defined(__MMI_ZI_SWEDISH__)
    INPUT_MODE_SMART_UPPERCASE_SWEDISH,
    INPUT_MODE_SMART_LOWERCASE_SWEDISH,
#endif /* defined(__MMI_ZI_SWEDISH__) */ 
#if defined(__MMI_ZI_CROATIAN__)
    INPUT_MODE_SMART_UPPERCASE_CROATIAN,
    INPUT_MODE_SMART_LOWERCASE_CROATIAN,
#endif /* defined(__MMI_ZI_CROATIAN__) */ 
#if defined(__MMI_ZI_ROMANIAN__)
    INPUT_MODE_SMART_UPPERCASE_ROMANIAN,
    INPUT_MODE_SMART_LOWERCASE_ROMANIAN,
#endif /* defined(__MMI_ZI_ROMANIAN__) */ 
#if defined(__MMI_ZI_SLOVENIAN__)
    INPUT_MODE_SMART_UPPERCASE_SLOVENIAN,
    INPUT_MODE_SMART_LOWERCASE_SLOVENIAN,
#endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
#if defined(__MMI_ZI_GREEK__)
    INPUT_MODE_SMART_UPPERCASE_GREEK,
    INPUT_MODE_SMART_LOWERCASE_GREEK,
#endif /* defined(__MMI_ZI_GREEK__) */ 
#if defined(__MMI_ZI_FINNISH__)
    INPUT_MODE_SMART_UPPERCASE_FINNISH,
    INPUT_MODE_SMART_LOWERCASE_FINNISH,
#endif /* defined(__MMI_ZI_FINNISH__) */ 
#if defined(__MMI_ZI_HUNGARIAN__)
    INPUT_MODE_SMART_UPPERCASE_HUNGARIAN,
    INPUT_MODE_SMART_LOWERCASE_HUNGARIAN,
#endif /* defined(__MMI_ZI_HUNGARIAN__) */ 

#elif defined(__MMI_KA__)
    INPUT_MODE_SM_PINYIN,
    INPUT_MODE_SM_STROKE,

#elif defined(__MMI_CSTAR__)

#if defined(__MMI_CSTAR_TR_CHINESE__) && defined(__MMI_CSTAR_MULTITAP_PHONETIC_INPUT__)
    INPUT_MODE_TR_MULTITAP_BOPOMO,
#endif 

#if defined(__MMI_TOUCH_SCREEN__)
#if defined(__MMI_CSTAR_SM_CHINESE__) && defined(__MMI_CSTAR_MULTITAP_PHONETIC_INPUT__)
    INPUT_MODE_SM_MULTITAP_PINYIN,
#endif 
#endif

#if defined(__MMI_CSTAR_TR_CHINESE__) && defined(__MMI_CSTAR_STROKE_INPUT__)
    INPUT_MODE_TR_STROKE,
#endif 
#if defined(__MMI_CSTAR_SM_CHINESE__) && defined(__MMI_CSTAR_STROKE_INPUT__)
    INPUT_MODE_SM_STROKE,
#endif 
/* there is no Smart BoPoMo in CStar */
//#if defined(__MMI_CSTAR_TR_CHINESE__) && defined(__MMI_CSTAR_SMART_PHONETIC_INPUT__)
//    INPUT_MODE_TR_BOPOMO,
//#endif 

#if defined(__MMI_CSTAR_SM_CHINESE__) && defined(__MMI_CSTAR_SMART_PHONETIC_INPUT__)
    INPUT_MODE_SM_PINYIN,
#endif 

#if defined(__MMI_CSTAR_ENGLISH__)
    INPUT_MODE_SMART_UPPERCASE_ABC,
    INPUT_MODE_SMART_LOWERCASE_ABC,
#if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
    INPUT_MODE_SMART_FIRST_UPPERCASE_ABC,
#endif
#endif

#if defined(__MMI_CSTAR_THAI__)
    INPUT_MODE_SMART_THAI,
#endif 

#if defined(__MMI_CSTAR_ARABIC__)
    INPUT_MODE_SMART_ARABIC,
#endif 
#if defined(__MMI_CSTAR_PERSIAN__)
    INPUT_MODE_SMART_PERSIAN,
#endif
#if defined(__MMI_CSTAR_HINDI__)
    INPUT_MODE_SMART_HINDI,
#endif 
#if defined(__MMI_CSTAR_HEBREW__)
    INPUT_MODE_SMART_HEBREW,
#endif

#if defined(__MMI_CSTAR_SPANISH__)
    INPUT_MODE_SMART_UPPERCASE_SPANISH,
    INPUT_MODE_SMART_LOWERCASE_SPANISH,
#endif /* #if defined(__MMI_CSTAR_SPANISH__) */ 
#if defined(__MMI_CSTAR_DANISH__)
    INPUT_MODE_SMART_UPPERCASE_DANISH,
    INPUT_MODE_SMART_LOWERCASE_DANISH,
#endif /* defined(__MMI_ZI_DANISH__) */ 
#if defined(__MMI_CSTAR_POLISH__)
    INPUT_MODE_SMART_UPPERCASE_POLISH,
    INPUT_MODE_SMART_LOWERCASE_POLISH,
#endif /* defined(__MMI_ZI_POLISH__) */ 
#if defined(__MMI_CSTAR_NORWEGIAN__)
    INPUT_MODE_SMART_UPPERCASE_NORWEGIAN,
    INPUT_MODE_SMART_LOWERCASE_NORWEGIAN,
#endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
#if defined(__MMI_CSTAR_FRENCH__)
    INPUT_MODE_SMART_UPPERCASE_FRENCH,
    INPUT_MODE_SMART_LOWERCASE_FRENCH,
#endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
#if defined(__MMI_CSTAR_GERMAN__)
    INPUT_MODE_SMART_UPPERCASE_GERMAN,
    INPUT_MODE_SMART_LOWERCASE_GERMAN,
#endif /* defined(__MMI_ZI_GERMAN__) */ 
#if defined(__MMI_CSTAR_ITALIAN__)
    INPUT_MODE_SMART_UPPERCASE_ITALIAN,
    INPUT_MODE_SMART_LOWERCASE_ITALIAN,
#endif /* defined(__MMI_ZI_ITALIAN__) */ 
#if defined(__MMI_CSTAR_RUSSIAN__)
    INPUT_MODE_SMART_UPPERCASE_RUSSIAN,
    INPUT_MODE_SMART_LOWERCASE_RUSSIAN,
#endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
#if defined(__MMI_CSTAR_BULGARIAN__)
    INPUT_MODE_SMART_UPPERCASE_BULGARIAN,
    INPUT_MODE_SMART_LOWERCASE_BULGARIAN,
#endif /* defined(__MMI_ZI_BULGARIAN__) */ 
#if defined(__MMI_CSTAR_TURKISH__)
    INPUT_MODE_SMART_UPPERCASE_TURKISH,
    INPUT_MODE_SMART_LOWERCASE_TURKISH,
#endif /* defined(__MMI_ZI_TURKISH__) */ 
#if defined(__MMI_CSTAR_PORTUGUESE__)
    INPUT_MODE_SMART_UPPERCASE_PORTUGUESE,
    INPUT_MODE_SMART_LOWERCASE_PORTUGUESE,
#endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
#if defined(__MMI_CSTAR_INDONESIAN__)
    INPUT_MODE_SMART_UPPERCASE_INDONESIAN,
    INPUT_MODE_SMART_LOWERCASE_INDONESIAN,
#endif /* defined(__MMI_ZI_INDONESIAN__) */ 
#if defined(__MMI_CSTAR_CZECH__)
    INPUT_MODE_SMART_UPPERCASE_CZECH,
    INPUT_MODE_SMART_LOWERCASE_CZECH,
#endif /* defined(__MMI_ZI_CZECH__) */ 
#if defined(__MMI_CSTAR_MALAY__)
    INPUT_MODE_SMART_UPPERCASE_MALAY,
    INPUT_MODE_SMART_LOWERCASE_MALAY,
#endif /* defined(__MMI_ZI_MALAY__) */ 
#if defined(__MMI_CSTAR_VIETNAMESE__)
    INPUT_MODE_SMART_UPPERCASE_VIETNAMESE,
    INPUT_MODE_SMART_LOWERCASE_VIETNAMESE,
#endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
#if defined(__MMI_CSTAR_SLOVAK__)
    INPUT_MODE_SMART_UPPERCASE_SLOVAK,
    INPUT_MODE_SMART_LOWERCASE_SLOVAK,
#endif /* defined(__MMI_ZI_SLOVAK__) */ 
#if defined(__MMI_CSTAR_DUTCH__)
    INPUT_MODE_SMART_UPPERCASE_DUTCH,
    INPUT_MODE_SMART_LOWERCASE_DUTCH,
#endif /* defined(__MMI_ZI_DUTCH__) */ 
#if defined(__MMI_CSTAR_SWEDISH__)
    INPUT_MODE_SMART_UPPERCASE_SWEDISH,
    INPUT_MODE_SMART_LOWERCASE_SWEDISH,
#endif /* defined(__MMI_ZI_SWEDISH__) */ 
#if defined(__MMI_CSTAR_CROATIAN__)
    INPUT_MODE_SMART_UPPERCASE_CROATIAN,
    INPUT_MODE_SMART_LOWERCASE_CROATIAN,
#endif /* defined(__MMI_ZI_CROATIAN__) */ 
#if defined(__MMI_CSTAR_ROMANIAN__)
    INPUT_MODE_SMART_UPPERCASE_ROMANIAN,
    INPUT_MODE_SMART_LOWERCASE_ROMANIAN,
#endif /* defined(__MMI_ZI_ROMANIAN__) */ 
#if defined(__MMI_CSTAR_SLOVENIAN__)
    INPUT_MODE_SMART_UPPERCASE_SLOVENIAN,
    INPUT_MODE_SMART_LOWERCASE_SLOVENIAN,
#endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
#if defined(__MMI_CSTAR_GREEK__)
    INPUT_MODE_SMART_UPPERCASE_GREEK,
    INPUT_MODE_SMART_LOWERCASE_GREEK,
#endif /* defined(__MMI_ZI_GREEK__) */ 
#if defined(__MMI_CSTAR_FINNISH__)
    INPUT_MODE_SMART_UPPERCASE_FINNISH,
    INPUT_MODE_SMART_LOWERCASE_FINNISH,
#endif /* defined(__MMI_ZI_FINNISH__) */ 
#if defined(__MMI_CSTAR_HUNGARIAN__)
    INPUT_MODE_SMART_UPPERCASE_HUNGARIAN,
    INPUT_MODE_SMART_LOWERCASE_HUNGARIAN,
#endif /* defined(__MMI_ZI_HUNGARIAN__) */ 

#elif defined(__MMI_ITAP__)
#if defined(__MMI_ITAP_TR_CHINESE__) && defined(__MMI_ITAP_MULTITAP_PHONETIC_INPUT__)
/* under construction !*/
#endif 
#if defined(__MMI_ITAP_SM_CHINESE__) && defined(__MMI_ITAP_MULTITAP_PHONETIC_INPUT__)
/* under construction !*/
#endif 
#if defined(__MMI_ITAP_TR_CHINESE__)
/* under construction !*/
#endif 
#if defined(__MMI_ITAP_SM_CHINESE__)
/* under construction !*/
#endif 
#if defined(__MMI_ITAP_TR_CHINESE__) && defined(__MMI_ITAP_SMART_PHONETIC_INPUT__)
/* under construction !*/
#endif 
#if defined(__MMI_ITAP_SM_CHINESE__) && defined(__MMI_ITAP_SMART_PHONETIC_INPUT__)
/* under construction !*/
#endif 
#if defined(__MMI_ITAP_ENGLISH__)
/* under construction !*/
/* under construction !*/
#endif /* defined(__MMI_ITAP_ENGLISH__) */ 
#endif 
#ifdef __MMI_MULTITAP_HINDI__
    INPUT_MODE_MULTITAP_HINDI,
#endif 

#ifdef __MMI_MULTITAP_MARATHI__
    INPUT_MODE_MULTITAP_MARATHI,
#endif 
#if defined (__MMI_MULTITAP_TAMIL__) 
    INPUT_MODE_MULTITAP_TAMIL,
#endif
#if defined (__MMI_MULTITAP_BENGALI__)
    INPUT_MODE_MULTITAP_BENGALI,
#endif 
#if defined (__MMI_MULTITAP_PUNJABI__) 
    INPUT_MODE_MULTITAP_PUNJABI,
#endif
#if defined (__MMI_MULTITAP_TELUGU__) 
    INPUT_MODE_MULTITAP_TELUGU,
#endif 

    0xff,
};

//MTK end
// __CUSTPACK_MULTIBIN     Terry   END

#if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
MMI_BOOL is_fisrt_entry_WCSS_editor = TRUE;
#endif 

/* MTK Elvis to store the zero key hander for idleScreenDigitHandler */
FuncPtr storeZeroKeyFuncPtrs[1][4];
extern FuncPtr currKeyFuncPtrs[MAX_KEYS][MAX_KEY_TYPE];
extern FuncPtr wgui_key_handlers[MAX_KEYS][MAX_KEY_TYPE];

/* MTK end */

/* W05.36 Fix Vietnamese Tone Input Issue */
extern void set_current_input_box_type(mmi_editor_inoutbox_enum input_box_type);

/* MTK Elvis for R2L characters */
extern BOOL r2lMMIFlag;
/* Ailsa for removing smart abc ABC from INPUT_TYPE_ALPHANUMERIC_PASSWORD */
MMI_BOOL mmi_is_alphanum_pass = MMI_FALSE;

/*PMT IRE START*/
#if defined (__MMI_BIDI_ALG__)
/*PMT IRE END*/
extern U8 MMI_bidi_input_type;
#endif 
/* MTK end */

extern S32 MMI_title_height;

#ifdef __MMI_T9__
#include "t9definition.h"
#include "t9api.h"
extern void T9SetInputboxLSKFunction(FuncPtr f);
extern void InuptMethodEnterCategory5(void);
extern void InuptMethodExitCategory5(void);
extern void T9InputMethodExit(void);
extern void T9UpdateLSKString(void);
#elif defined __MMI_ZI__
extern void ZiSetInputboxLSKFunction(FuncPtr f);
extern void ZiUpdateLSKString(void);
extern void ZiInuptMethodEnterSinglelineInputBox(void);
extern void ZiInuptMethodExitSinglelineInputBox(void);
extern void ZiInuptMethodEnterCategory5(void);
extern void ZiInuptMethodExitCategory5(void);
extern void ZiInputMethodExit(void);
extern void ZiInuptMethodEnterInline_Multiline_InputBox(void);
#elif defined __MMI_CSTAR__
#include "CStarHMI.h"
extern void CstarInputMethodEnterInlineMultilineInputBox(void);
extern void CstarSetInputboxLSKFunction(FuncPtr f);
extern void CstarUpdateLSKString(void);
extern void CstarInputMethodEnterSinglelineInputBox(void);
extern void CstarInputMethodExitSinglelineInputBox(void);
extern void CstarInputMethodEnterCategory5(void);
extern void CstarInputMethodExitCategory5(void);
extern void CstarInputMethodExit(void);
#elif defined __MMI_KA__
extern void KonKaSetInputboxLSKFunction(FuncPtr f);
extern void KonkaInuptMethodEnterSinglelineInputBox(void);
extern void KonkaInuptMethodExitSinglelineInputBox(void);
extern void KonkaInuptMethodEnterCategory5(void);
extern void KonkaInuptMethodExitCategory5(void);
extern void KonkaInputMethodExit(void);
#elif defined __MMI_ITAP__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif 
extern U8 mmi_phb_convert_to_0x81(S8 *input_name, BOOL is_convert);

/* MTK end */
extern U8 MMI_current_input_mode;
extern void (*inputbox_change_mode) (void);

/* extern byte MMI_allow_only_english_input_modes; */
U8 MMI_allow_only_english_input_modes = 0;


/* Store the message of current multibox dispaly on sub lcd */
extern UI_string_type SUBLCD_MMI_message_string;

/** Store the address of icon display on content area of current sub lcd scrren */
extern PU8 SUBLCD_MMI_message_icon;

#if defined (__MMI_WALLPAPER_ON_BOTTOM__)
static U8 editor_scr_bg_opacity;    /* 070505 Calvin added */
#endif /* defined (__MMI_WALLPAPER_ON_BOTTOM__) */ 
/*PMT IRE START*/
#ifdef __MMI_INDIC_ALG__
U8 add_template_ems_flag=0;
U8 add_template_multiline_flag =0;
extern void gui_multi_line_post_template_addition_adjustment(multi_line_input_box *b);
#endif /* __MMI_INDIC_ALG__ */
/*PMT IRE END*/

void wgui_show_input_mode(U8 input_mode, PU8 inputbox_information_icon);
void wgui_input_information_background(S32 x1, S32 y1, S32 x2, S32 y2);

void wgui_inputbox_phone_number_input_complete_multitap_star_key(void);

void wgui_inputbox_phone_number_input_complete_multitap_zero_key(void);
MMI_BOOL mmi_ime_ui_screen_state_query(void);

#ifdef __MMI_MULTITAP_FOR_STAR_AND_POUND__
extern void wgui_handle_inputbox_change_input_mode_bymultitapthai(void);
extern void wgui_handle_qsearch_change_input_mode_bymultitapthai(void);
extern void wgui_handle_symbol_picker_bymultitapthai(void);
#endif /* __MMI_MULTITAP_THAI__ */ 


/*****************************************************************************
 * FUNCTION
 *  wgui_is_r2l_display
 * DESCRIPTION
 *  query r2lMMIFlag
 *  Input Parameter      void
 * PARAMETERS
 *  void
 * RETURNS
 *  MMI_BOOL
 *****************************************************************************/
MMI_BOOL wgui_is_r2l_display(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (r2lMMIFlag)
    {
        return MMI_TRUE;
    }
    else
    {
        return MMI_FALSE;
    }

}

/* Validation callbacks for input boxes   */
/*----------------------------------------------------------------------------
Function:         wgui_inputbox_not_empty_callback
Description:      Function pointer store the address of function which is called when
               input box is not empty
Input Parameters: void
Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/
void (*wgui_inputbox_not_empty_callback) (void) = NULL;

/*----------------------------------------------------------------------------
Function:         wgui_inputbox_empty_callback
Description:      Function pointer store the address of function which is called when
               input box is empty
Input Parameters: void
Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/
void (*wgui_inputbox_empty_callback) (void) = NULL;


/*****************************************************************************
 * FUNCTION
 *  Register_pound_key_buffer_flush_test_function
 * DESCRIPTION
 *  
 * PARAMETERS
 *  FuncPtr     [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void (*wgui_inputbox_validation_callback) (U8 *text, U8 *cursor, S32 text_length) = NULL;

BOOL(*wgui_check_pound_key_buffer_flush) (void) = NULL;
void Register_pound_key_buffer_flush_test_function(BOOL(*FuncPtr) (void))
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_check_pound_key_buffer_flush = FuncPtr;
}

/* Begin AP input mode set */
S16 english_only_input_mode[] = 
{
    INPUT_MODE_MULTITAP_UPPERCASE_ABC,
    INPUT_MODE_MULTITAP_LOWERCASE_ABC,
    INPUT_MODE_123,
    INPUT_MODE_SMART_UPPERCASE_ABC,
    INPUT_MODE_SMART_LOWERCASE_ABC,
    INPUT_MODE_SMART_FIRST_UPPERCASE_ABC,
    INPUT_MODE_MULTITAP_UPPERCASE_SPANISH,
    INPUT_MODE_MULTITAP_LOWERCASE_SPANISH,
    INPUT_MODE_MMI_LOWERCASE_SPANISH,
    INPUT_MODE_SMART_UPPERCASE_SPANISH,
    INPUT_MODE_SMART_LOWERCASE_SPANISH,
    INPUT_MODE_MULTITAP_UPPERCASE_DANISH,
    INPUT_MODE_MULTITAP_LOWERCASE_DANISH,
    INPUT_MODE_MMI_LOWERCASE_DANISH,
    INPUT_MODE_SMART_UPPERCASE_DANISH,
    INPUT_MODE_SMART_LOWERCASE_DANISH,
    INPUT_MODE_MULTITAP_UPPERCASE_POLISH,
    INPUT_MODE_MULTITAP_LOWERCASE_POLISH,
    INPUT_MODE_MMI_LOWERCASE_POLISH,
    INPUT_MODE_SMART_UPPERCASE_POLISH,
    INPUT_MODE_SMART_LOWERCASE_POLISH,
    INPUT_MODE_MULTITAP_UPPERCASE_FRENCH,
    INPUT_MODE_MULTITAP_LOWERCASE_FRENCH,
    INPUT_MODE_MMI_LOWERCASE_FRENCH,
    INPUT_MODE_SMART_UPPERCASE_FRENCH,
    INPUT_MODE_SMART_LOWERCASE_FRENCH,
    INPUT_MODE_MULTITAP_UPPERCASE_GERMAN,
    INPUT_MODE_MULTITAP_LOWERCASE_GERMAN,
    INPUT_MODE_MMI_LOWERCASE_GERMAN,
    INPUT_MODE_SMART_UPPERCASE_GERMAN,
    INPUT_MODE_SMART_LOWERCASE_GERMAN,
    INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN,
    INPUT_MODE_MMI_LOWERCASE_ITALIAN,
    INPUT_MODE_SMART_UPPERCASE_ITALIAN,
    INPUT_MODE_SMART_LOWERCASE_ITALIAN,
    INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE,
    INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE,
    INPUT_MODE_MMI_LOWERCASE_PORTUGUESE,
    INPUT_MODE_SMART_UPPERCASE_PORTUGUESE,
    INPUT_MODE_SMART_LOWERCASE_PORTUGUESE,
    INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN,
    INPUT_MODE_MMI_LOWERCASE_INDONESIAN,
    INPUT_MODE_SMART_UPPERCASE_INDONESIAN,
    INPUT_MODE_SMART_LOWERCASE_INDONESIAN,
    INPUT_MODE_MULTITAP_UPPERCASE_CZECH,
    INPUT_MODE_MULTITAP_LOWERCASE_CZECH,
    INPUT_MODE_MMI_LOWERCASE_CZECH,
    INPUT_MODE_SMART_UPPERCASE_CZECH,
    INPUT_MODE_SMART_LOWERCASE_CZECH,
    INPUT_MODE_MULTITAP_UPPERCASE_MALAY,
    INPUT_MODE_MULTITAP_LOWERCASE_MALAY,
    INPUT_MODE_MMI_LOWERCASE_MALAY,
    INPUT_MODE_SMART_UPPERCASE_MALAY,
    INPUT_MODE_SMART_LOWERCASE_MALAY,
    INPUT_MODE_MULTITAP_UPPERCASE_FINNISH,
    INPUT_MODE_MULTITAP_LOWERCASE_FINNISH,
    INPUT_MODE_MMI_LOWERCASE_FINNISH,
    INPUT_MODE_SMART_UPPERCASE_FINNISH,
    INPUT_MODE_SMART_LOWERCASE_FINNISH,
    INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN,
    INPUT_MODE_MMI_LOWERCASE_HUNGARIAN,
    INPUT_MODE_SMART_UPPERCASE_HUNGARIAN,
    INPUT_MODE_SMART_LOWERCASE_HUNGARIAN,
    INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK,
    INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK,
    INPUT_MODE_MMI_LOWERCASE_SLOVAK,
    INPUT_MODE_SMART_UPPERCASE_SLOVAK,
    INPUT_MODE_SMART_LOWERCASE_SLOVAK,
    INPUT_MODE_MULTITAP_UPPERCASE_DUTCH,
    INPUT_MODE_MULTITAP_LOWERCASE_DUTCH,
    INPUT_MODE_MMI_LOWERCASE_DUTCH,
    INPUT_MODE_SMART_UPPERCASE_DUTCH,
    INPUT_MODE_SMART_LOWERCASE_DUTCH,
    INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN,
    INPUT_MODE_MMI_LOWERCASE_NORWEGIAN,
    INPUT_MODE_SMART_UPPERCASE_NORWEGIAN,
    INPUT_MODE_SMART_LOWERCASE_NORWEGIAN,
    INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH,
    INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH,
    INPUT_MODE_MMI_LOWERCASE_SWEDISH,
    INPUT_MODE_SMART_UPPERCASE_SWEDISH,
    INPUT_MODE_SMART_LOWERCASE_SWEDISH,
    INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN,
    INPUT_MODE_MMI_LOWERCASE_CROATIAN,
    INPUT_MODE_SMART_UPPERCASE_CROATIAN,
    INPUT_MODE_SMART_LOWERCASE_CROATIAN,
    INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN,
    INPUT_MODE_MMI_LOWERCASE_ROMANIAN,
    INPUT_MODE_SMART_UPPERCASE_ROMANIAN,
    INPUT_MODE_SMART_LOWERCASE_ROMANIAN,
    INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN,
    INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN,
    INPUT_MODE_MMI_LOWERCASE_SLOVENIAN,
    INPUT_MODE_SMART_UPPERCASE_SLOVENIAN,
    INPUT_MODE_SMART_LOWERCASE_SLOVENIAN,
    -1
};


/*****************************************************************************
 * FUNCTION
 *  wgui_is_english_only_input_mode
 * DESCRIPTION
 *  test if this input mode is english only input mode
 * PARAMETERS
 *  input_mode      [IN]        
 * RETURNS
 *  MMI_BOOL MMI_TRUE --> english only input mode , MMI_FALSE --> else
 *****************************************************************************/
MMI_BOOL wgui_is_english_only_input_mode(S16 input_mode)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    int i = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    while (english_only_input_mode[i] != (S16) - 1)
    {
        if (english_only_input_mode[i] == input_mode)
        {
            return MMI_TRUE;
        }
        i++;
    }
    return MMI_FALSE;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_change_to_english_only_mode
 * DESCRIPTION
 *  Changes the current input mode to next english only input mode
 * PARAMETERS
 *  initial_mode        [IN]        Initial input mode
 * RETURNS
 *  void
 *****************************************************************************/
static void wgui_change_to_english_only_mode(int initial_mode)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    int k = initial_mode;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    while ((wgui_is_english_only_input_mode(MMI_AP_required_input_mode_set[k]) != MMI_TRUE))
    {
        k++;
    }
    MMI_current_input_mode = (U8) MMI_AP_required_input_mode_set[k];
}

/* Begin AP input mode set */

extern const sIMEModeDetails *gIMEModeArray;


/*****************************************************************************
 * FUNCTION
 *  wgui_ap_inputset_set_current_or_find_next_loaded_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  current_index       [IN]        
 * RETURNS
 *  
 *****************************************************************************/
S32 wgui_ap_inputset_set_current_or_find_next_loaded_input_mode(S32 current_index)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 i = 0, j = 0;;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    i = current_index;
    while (1)
    {

        if (MMI_AP_required_input_mode_set[i] == gIMEModeArray[j].IME_Mode_ID)
        {
            return i;
        }
        else
        {
            j++;
            if (j > INPUT_MODE_MAX_NUM + 1)
            {
                if (MMI_AP_required_input_mode_set[i + 1] == -1)
                {
                    i = 0;
                }
                else
                {
                    i++;
                }
                j = 0;
            }

        }
    }
}


/*****************************************************************************
 * FUNCTION
 *  change_input_mode
 * DESCRIPTION
 *  Changes the current input mode (cyclic "ABC"->"abc"->"123"->"ABC")
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void change_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U8 i;
#if !defined(__MMI_TOUCH_SCREEN__)
    U8 old_input_mode = MMI_current_input_mode;
#endif
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* Begin AP input mode set */
    if (MMI_AP_set_input_mode_set)
    {
        i = 0;
        while (MMI_AP_required_input_mode_set[i] != MMI_current_input_mode && MMI_AP_required_input_mode_set[i] != -1)
        {
            i++;
        }
    #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
        do
        {
            if (MMI_AP_required_input_mode_set[i] == -1 ||  /* cannot be found */
                MMI_AP_required_input_mode_set[i + 1] == -1)    /* cyclic to the first one */
            {
            #if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
             #endif
                {
                    MMI_current_input_mode =
                        (U8)
                        MMI_AP_required_input_mode_set[wgui_ap_inputset_set_current_or_find_next_loaded_input_mode(0)];
                }
            }
            else
            {
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
                    {
                        MMI_current_input_mode =
                            (U8)
                            MMI_AP_required_input_mode_set[wgui_ap_inputset_set_current_or_find_next_loaded_input_mode
                                                           (i + 1)];
                    }
                }
            i++;
        }
        while (MMI_current_input_mode == INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC ||
               MMI_current_input_mode == INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC ||
               MMI_current_input_mode == INPUT_MODE_123_SYMBOLS);
    #else /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ // #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
        if (MMI_AP_required_input_mode_set[i] == -1 ||      /* cannot be found */
            MMI_AP_required_input_mode_set[i + 1] == -1)    /* cyclic to the first one */
        {
            i = 0;
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
            {
                MMI_current_input_mode =
                    (U8) MMI_AP_required_input_mode_set[wgui_ap_inputset_set_current_or_find_next_loaded_input_mode(0)];
            }
        }
        else    /* next one */
        {
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
                {
                    MMI_current_input_mode =
                        (U8)
                    MMI_AP_required_input_mode_set[wgui_ap_inputset_set_current_or_find_next_loaded_input_mode(i + 1)];
                }
            }
    #endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 

    }
    else    /* else of if(MMI_AP_set_input_mode_set) */
    {
        /* End AP input mode set */
        if (MMI_allow_only_english_input_modes)
        {
            i = 0;
            while (MMI_english_input_mode_set[i] != MMI_current_input_mode && MMI_english_input_mode_set[i] != 0xff)
            {
                i++;
            }
        #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
            do
            {
                if (MMI_english_input_mode_set[i] == 0xff)  /* cannot be found */
                {
                    i = 0;
                    MMI_current_input_mode = MMI_english_input_mode_set[0];     /* set to first one */
                }
                else if (MMI_english_input_mode_set[i + 1] == 0xff)
                {
                    i = 0;
                    MMI_current_input_mode = MMI_english_input_mode_set[0];     /* cyclic to the first one */
                }
                else
                {
                    MMI_current_input_mode = MMI_english_input_mode_set[i + 1]; /* set to next one */
                }
                i++;

            } while (MMI_current_input_mode == INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC ||
                     MMI_current_input_mode == INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC ||
                     MMI_current_input_mode == INPUT_MODE_123_SYMBOLS);
        #else /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
            if (MMI_english_input_mode_set[i] == 0xff)  /* cannot be found */
            {
                MMI_current_input_mode = MMI_english_input_mode_set[0];
            }
            else if (MMI_english_input_mode_set[i + 1] == 0xff) /* cyclic to the first one */
            {
                MMI_current_input_mode = MMI_english_input_mode_set[0];
            }
            else
            {
                MMI_current_input_mode = MMI_english_input_mode_set[i + 1];     /* set to next one */
            }
        #endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
        }
        else    /* else of if(MMI_allow_only_english_input_modes) */
        {
#if 0
/* under construction !*/
/* under construction !*/
#endif
                i = 0;
                while (MMI_all_input_mode_set[i] != MMI_current_input_mode && MMI_all_input_mode_set[i] != 0xff)
                {
                    i++;
                }
            #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
                do
                {
                    if (MMI_all_input_mode_set[i] == 0xff)  /* cannot be found */
                    {
                        i = 0;
                        MMI_current_input_mode = MMI_all_input_mode_set[0];
                    }
                    if (MMI_all_input_mode_set[i + 1] == 0xff)  /* cyclic to the first one */
                    {
                        i = 0;
                        MMI_current_input_mode = MMI_all_input_mode_set[0];
                    }
                    else
                    {
                            MMI_current_input_mode = MMI_all_input_mode_set[i + 1];
                    }
                    i++;
                } while (MMI_current_input_mode == INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC ||
                         MMI_current_input_mode == INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC ||
                         MMI_current_input_mode == INPUT_MODE_123_SYMBOLS);
            #else /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
                if (MMI_all_input_mode_set[i] == 0xff)  /* cannot be found */
                {
                    MMI_current_input_mode = MMI_all_input_mode_set[0];
                }
                else if (MMI_all_input_mode_set[i + 1] == 0xff) /* cyclic to the first one */
                {
                    MMI_current_input_mode = MMI_all_input_mode_set[0];

                }
                else
                {
                        MMI_current_input_mode = MMI_all_input_mode_set[i + 1];
                }
            #endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
            #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
            #else /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
            #endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
/* under construction !*/
/* under construction !*/
#endif
        }
        /* Begin AP input mode set */

        //Ailsa for removing smart abc, ABC from INPUT_TYPE_ALPHANUMERIC_PASSWORD
        while (mmi_is_alphanum_pass && 
               wgui_is_smart_input_mode(MMI_current_input_mode, MMI_FALSE))
        {

            if(MMI_allow_only_english_input_modes)
            {
                if (MMI_english_input_mode_set[i+1] == 0xff) /* cyclic to the first one */
                {
                    i = 0;
                    MMI_current_input_mode = MMI_english_input_mode_set[i];
                }
                else
                {
                    i++;
                    MMI_current_input_mode = MMI_english_input_mode_set[i];
                }
            }
            else
            {
                if (MMI_all_input_mode_set[i+1] == 0xff) /* cyclic to the first one */
                {
                    i = 0;
                    MMI_current_input_mode = MMI_all_input_mode_set[i];
                }
                else
                {
                    i++;
                    MMI_current_input_mode = MMI_all_input_mode_set[i];
                }
            }
        }

    }
    /* End AP input mode set */
    /* W06.10 Fix RSK Display Issue */
#if !defined(__MMI_TOUCH_SCREEN__)
    if ( MMI_current_input_mode != old_input_mode)
    {
    #ifdef __MMI_T9__
        T9InputMethodExit();
    #elif defined(__MMI_ZI__)
        ZiInputMethodExit();
    #elif defined(__MMI_CSTAR__)
        CstarInputMethodExit();
    #elif defined(__MMI_KA__)
        KonkaInputMethodExit();
    #elif defined(__MMI_ITAP__)
/* under construction !*/
    #endif 
    }
#endif /* !defined(__MMI_TOUCH_SCREEN__) */ 

    /* W06.10 Fix E-Dict Null Pointer Function Issue */
    if (wgui_check_pound_key_buffer_flush)
    {
        if (wgui_check_pound_key_buffer_flush())
        {
            multiline_inputbox_delete_all_characters();
        }
    }

    inputbox_change_mode();
    set_MMI_current_input_type();
}


/*****************************************************************************
 * FUNCTION
 *  change_singleline_input_mode
 * DESCRIPTION
 *  Changes the current input mode (cyclic "ABC"->"abc"->"123"->"ABC")
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void change_singleline_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U8 i;
    U8 *MMI_input_mode_set;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    i = 0;

    if (MMI_allow_only_english_input_modes)
    {
        MMI_input_mode_set = MMI_english_input_mode_set;
    }
    else
    {
        MMI_input_mode_set = MMI_all_input_mode_set;
    }
    while (MMI_input_mode_set[i] != MMI_current_input_mode && MMI_input_mode_set[i] != 0xff)
    {
        i++;
    }
    
    do
    {
        if (MMI_input_mode_set[i] == 0xff)
        {
            i = 0;
            MMI_current_input_mode = MMI_input_mode_set[0];
        }
        if (MMI_input_mode_set[i + 1] == 0xff)
        {
            i = 0;
            MMI_current_input_mode = MMI_input_mode_set[0];
        }
        else
        {
            MMI_current_input_mode = MMI_input_mode_set[i + 1];
        }
        i++;
    } while (wgui_is_smart_input_mode(MMI_current_input_mode, MMI_FALSE) || wgui_is_Chinese_input_mode(MMI_current_input_mode));

    inputbox_change_mode();
    set_MMI_current_input_type();
}



/*****************************************************************************
 * FUNCTION
 *  change_singleline_inputbox_input_mode
 * DESCRIPTION
 *  change the input mode of single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void change_singleline_inputbox_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    change_singleline_inputbox_mode(MMI_current_input_mode);
}

/* MTK Elvis to add some APIs for Qsearch */


/*****************************************************************************
 * FUNCTION
 *  change_qsearch_singleline_inputbox_input_mode
 * DESCRIPTION
 *  change the input mode of single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void change_qsearch_singleline_inputbox_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    change_qsearch_singleline_inputbox_mode(MMI_current_input_mode);
}

/* MTK end */


/*****************************************************************************
 * FUNCTION
 *  change_multiline_inputbox_input_mode
 * DESCRIPTION
 *  Changes the input mode of the multiline inputbox
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void change_multiline_inputbox_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    change_multiline_inputbox_mode(MMI_current_input_mode);
}

/* Function Added To Display Remaining Character for Single Line Box - Gurinder 23/4/2004 */


/*****************************************************************************
 * FUNCTION
 *  wgui_redraw_singleline_input_box_remaining_characters_display
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_redraw_singleline_input_box_remaining_characters_display(void)
{
#ifndef __MMI_HIDE_SGL_REMAINING_CHAR__
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    color c;

    /* MTK Elvis for R2L characters */
    S32 x1;
    S32 x2;
    S32 y1 = wgui_inputbox_information_bar_y;
    S32 y2 = wgui_inputbox_information_bar_y + wgui_inputbox_information_bar_height - 1;

    /* MTK end */

#if !defined(__MMI_TOUCH_SCREEN__)
    stFontAttribute *f = &MMI_small_font;
    S32 w, n, max_n;
#else /* !defined(__MMI_TOUCH_SCREEN__) */ 
    stFontAttribute *f = &MMI_medium_font;
    S32 w, h, n, max_n;
#endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
    UI_character_type str[32];

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* MTK Elvis for R2L characters */
    if (!r2lMMIFlag)
    {
        x1 = wgui_inputbox_information_bar_x + (wgui_inputbox_information_bar_width >> 1);
        x2 = wgui_inputbox_information_bar_x + wgui_inputbox_information_bar_width - 1;
    }
    else
    {
        x1 = wgui_inputbox_information_bar_x;
        x2 = wgui_inputbox_information_bar_x + (wgui_inputbox_information_bar_width / 2) - 1;

    }
    /* MTK end */

#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 
    /* Warning: Temporary change only UCS2 / ASCII. This has to be done in a more formal manner  */
    n = (MMI_singleline_inputbox.text_length >> 1) - 1;
    max_n = (MMI_singleline_inputbox.available_length >> 1) - 1;
    if ((MMI_singleline_inputbox.flags & UI_SINGLE_LINE_INPUT_BOX_CHECK_GSM_EXTENDED) &&
        (MMI_singleline_inputbox.UCS2_count == 0))
    {
        n += MMI_singleline_inputbox.GSM_ext_count;
    }
    if ((MMI_singleline_inputbox.flags & UI_SINGLE_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING) &&
        (MMI_singleline_inputbox.text[0] == '+'))
    {
        n--;
        max_n--;
    }
    /* if(!(MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_INCLUDE_INFO_AREA)) */
    wgui_input_information_background(x1, y1, x2, y2);
    gui_reset_text_clip();
    gui_sprintf(str, "%d/%d", n, max_n);
    c = *current_MMI_theme->remaining_length_text_color;
    gui_set_font(f);
    gui_set_text_color(c);
    gui_set_text_clip(0, 0, UI_device_width - 1, UI_device_height - 1);
#if !defined(__MMI_TOUCH_SCREEN__)
    w = gui_get_string_width(str);
#else 
    gui_measure_string(str, &w, &h);
#endif 
    /* MTK Elvis for R2L characters */
    if (!r2lMMIFlag)
#if !defined(__MMI_TOUCH_SCREEN__)
        gui_move_text_cursor(x2 - 2 - w, y1 + 2);
#else 
        gui_move_text_cursor(x2 - 2 - w, y1 + (wgui_inputbox_information_bar_height - h) / 2);
#endif 
    else
#if !defined(__MMI_TOUCH_SCREEN__)
        gui_move_text_cursor(x1 + 2 + w, y1 + 2);
#else 
        gui_move_text_cursor(x1 + 2 + w, y1 + (wgui_inputbox_information_bar_height - h) / 2);
#endif 
    /* MTK end */
    gui_print_text(str);
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(x1, y1, x2, y2);
#endif /* (UI_DOUBLE_BUFFER_SUPPORT) */ 

#endif /* __MMI_HIDE_SGL_REMAINING_CHAR__ */ 
}

/* Function Added To Display Information Bar For Single Line Input Box - Gurinder 23/4/2004 */


/*****************************************************************************
 * FUNCTION
 *  wgui_redraw_singleline_input_information_bar
 * DESCRIPTION
 *  redrwa input information bar
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_redraw_singleline_input_information_bar(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    S32 x1 = wgui_inputbox_information_bar_x;
    S32 y1 = wgui_inputbox_information_bar_y;
    S32 x2 = wgui_inputbox_information_bar_x + wgui_inputbox_information_bar_width - 1;
    S32 y2 = wgui_inputbox_information_bar_y + wgui_inputbox_information_bar_height - 1;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 

    wgui_input_information_background(x1, y1, x2, y2);
    wgui_show_input_mode(MMI_current_input_mode, wgui_inputbox_information_icon);
    wgui_redraw_singleline_input_box_remaining_characters_display();
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(x1, y1, x2, y2);
#endif /* (UI_DOUBLE_BUFFER_SUPPORT) */ 
}



/*****************************************************************************
 * FUNCTION
 *  set_singleline_inputbox_category_history
 * DESCRIPTION
 *  Sets the history data for the singleline inputbox from the given history buffer
 * PARAMETERS
 *  history_ID          [IN]        Is the ID used by category screens
 *  history_buffer      [IN]        Is the buffer from which history data is taken
 *  input_type          [?]         
 * RETURNS
 *  Returns true if the history ID is valid
 *****************************************************************************/
U8 set_singleline_inputbox_category_history(U16 history_ID, U8 *history_buffer, S16 *input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (history_buffer != NULL)
    {
        singleline_inputbox_category_history *h = (singleline_inputbox_category_history*) history_buffer;

        if (history_valid(h->history_ID, history_ID))
        {
            MMI_singleline_inputbox.text_length = h->text_length;
            MMI_singleline_inputbox.allocated_length = h->allocated_length;
            MMI_singleline_inputbox.available_length = h->available_length;
            MMI_singleline_inputbox.current_text_p =
                (UI_buffer_type) (MMI_singleline_inputbox.text + h->current_position);
            MMI_singleline_inputbox.text_offset_x = h->text_offset_x;
            MMI_singleline_inputbox.UCS2_count = h->UCS2_count;
            *input_type = h->input_type;
            MMI_singleline_inputbox.flags = h->flags;
        #if defined(__MMI_TOUCH_SCREEN__)
            wgui_setup_virtual_keyboard(h->vk_lang_type);
        #endif 
            return (1);
        }
    }
    return (0);
}


/*****************************************************************************
 * FUNCTION
 *  get_singleline_inputbox_category_history
 * DESCRIPTION
 *  gets the history data for the singleline inputbox from the given history buffer
 * PARAMETERS
 *  history_ID          [IN]        Is the ID used by category screens
 *  history_buffer      [IN]        Is the buffer from which history data is taken
 *  input_type          [IN]        
 * RETURNS
 *  Returns true if the history ID is valid(?)
 *****************************************************************************/
void get_singleline_inputbox_category_history(U16 history_ID, U8 *history_buffer, S16 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (history_buffer != NULL)
    {
        U16 hID = (U16) (history_ID | 0x8000);
        singleline_inputbox_category_history *h = (singleline_inputbox_category_history*) history_buffer;

        h->history_ID = hID;
        h->text_length = (S16) MMI_singleline_inputbox.text_length;
        h->allocated_length = (S16) MMI_singleline_inputbox.allocated_length;
        h->available_length = (S16) MMI_singleline_inputbox.available_length;
        h->current_position = (S16) (MMI_singleline_inputbox.current_text_p - MMI_singleline_inputbox.text);
        h->text_offset_x = (S16) MMI_singleline_inputbox.text_offset_x;
        h->UCS2_count = (S16) MMI_singleline_inputbox.UCS2_count;
        h->input_type = (S16) input_type;
        h->flags = (U32) MMI_singleline_inputbox.flags;
        // W06.48 - add by Ailsa for removing multitap state when exiting category
        h->flags &= ~UI_SINGLE_LINE_INPUT_BOX_STATE_MULTITAP;
    #if defined(__MMI_TOUCH_SCREEN__)
        /* W06.04 Save Virtual Keyboard in the history of single line input box */
        if (GUI_VIRTUAL_KEYBOARD_MAX_LANG == mmi_pen_editor_history_vk_lang_type())
        {
            h->vk_lang_type = MMI_virtual_keyboard.lang_type;
        }
        else
        {
            h->vk_lang_type = mmi_pen_editor_history_vk_lang_type();
        }
    #endif /* defined(__MMI_TOUCH_SCREEN__) */ 
    }
}



/*****************************************************************************
 * FUNCTION
 *  set_multiline_inputbox_category_history
 * DESCRIPTION
 *  Sets the history data for the multiline inputbox from the given history buffer
 * PARAMETERS
 *  history_ID          [IN]        Is the ID used by category screens
 *  history_buffer      [IN]        Is the buffer from which history data is taken
 *  input_type          [?]         
 * RETURNS
 *  Returns true if the history ID is valid
 *****************************************************************************/
U8 set_multiline_inputbox_category_history(U16 history_ID, U8 *history_buffer, S16 *input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    
    MMI_EXIT_WITH_MULTITAP_STATE = MMI_FALSE;
    
    if (history_buffer != NULL)
    {
        multiline_inputbox_category_history *h = (multiline_inputbox_category_history*) history_buffer;

        if (history_valid(h->history_ID, history_ID))
        {
            MMI_multiline_inputbox.text_length = h->text_length;
            MMI_multiline_inputbox.allocated_length = h->allocated_length;
        #if defined(__MMI_SMART_MESSAGE_MO__) && !defined(__MMI_MESSAGES_EMS__)
            if (GetMessagesCurrScrnID() != SCR_ID_MSG_WRITE)
            {
                MMI_multiline_inputbox.available_length = h->available_length;
            }
        #else /* defined(__MMI_SMART_MESSAGE_MO__) && !defined(__MMI_MESSAGES_EMS__) */ 
            MMI_multiline_inputbox.available_length = h->available_length;
        #endif /* defined(__MMI_SMART_MESSAGE_MO__) && !defined(__MMI_MESSAGES_EMS__) */ 
            MMI_multiline_inputbox.n_lines = h->n_lines;
            MMI_multiline_inputbox.text_height = h->text_height;
            MMI_multiline_inputbox.text_offset_x = h->text_offset_x;
            MMI_multiline_inputbox.text_offset_y = h->text_offset_y;
            MMI_multiline_inputbox.cursor_x = h->cursor_x;
            MMI_multiline_inputbox.cursor_y = h->cursor_y;
            MMI_multiline_inputbox.cursor_line_position_counter = h->cursor_line_position_counter;
            MMI_multiline_inputbox.line_before_cursor_line_p =
                (UI_buffer_type) (MMI_multiline_inputbox.text + h->line_before_cursor_line_p);
            MMI_multiline_inputbox.cursor_line_p = (UI_buffer_type) (MMI_multiline_inputbox.text + h->cursor_line_p);
            MMI_multiline_inputbox.cursor_p = (UI_buffer_type) (MMI_multiline_inputbox.text + h->cursor_p);
            MMI_multiline_inputbox.line_after_cursor_line_p =
                (UI_buffer_type) (MMI_multiline_inputbox.text + h->line_after_cursor_line_p);
            MMI_multiline_inputbox.line_after_cursor_line_last_p =
                (UI_buffer_type) (MMI_multiline_inputbox.text + h->line_after_cursor_line_last_p);
            MMI_multiline_inputbox.last_position_p =
                (UI_buffer_type) (MMI_multiline_inputbox.text + h->last_position_p);
            MMI_multiline_inputbox.UCS2_count = h->UCS2_count;
            *input_type = h->input_type;
            MMI_EXIT_WITH_MULTITAP_STATE = h -> multitap_state;
            MMI_multiline_inputbox.flags = h->flags;
            MMI_multiline_inputbox.ext_flags=h->ext_flags;
             /* barcode */
            MMI_multiline_inputbox.current_hilite_idx = h->current_hilite_idx;
            MMI_multiline_inputbox.curr_hilite_text_offset_y = h->curr_hilite_text_offset_y;
            MMI_multiline_inputbox.hilite_list = h->hilite_list;
            MMI_multiline_inputbox.hilite_cb = h->hilite_cb;
        #ifdef __UI_PAGING_IN_MULTILINE_EDITOR__
            if (h->ext_flags & GUI_MULTI_LINE_INPUT_BOX_VIEW_PAGING_MODE)
            {
                memcpy(MMI_multiline_inputbox.text,shared_data, h->previous_shared_bytes);
                MMI_multiline_inputbox.start_id = h->start_page_id;
                MMI_multiline_inputbox.end_id = h->end_page_id;
                MMI_multiline_inputbox.text_offset = h->text_offset;
//PMT SUKRIT START MMSVIEWER             
                ASSERT(MMI_multiline_inputbox.get_page_cb);
                MMI_multiline_inputbox.get_page_cb(
                    MMI_multiline_inputbox.start_id,
                    MMI_multiline_inputbox.end_id,
                    MMI_multiline_inputbox.text + h->previous_shared_bytes);
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
//PMT SUKRIT END MMSVIEWER
            }
        #endif /* __UI_PAGING_IN_MULTILINE_EDITOR__ */ 
        #if defined(__MMI_TOUCH_SCREEN__)
            wgui_setup_virtual_keyboard(h->vk_lang_type);
        #endif 
            return (1);
        }
    }
    return (0);
}


/*****************************************************************************
 * FUNCTION
 *  get_multiline_inputbox_category_history
 * DESCRIPTION
 *  Gets the history data for the multiline inputbox and stores into the given history buffer
 * PARAMETERS
 *  history_ID          [IN]        Is the ID used by category screens
 *  history_buffer      [IN]        Is the buffer from which history data is taken
 *  input_type          [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void get_multiline_inputbox_category_history(U16 history_ID, U8 *history_buffer, S16 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (history_buffer != NULL)
    {
        U32 tmp_flags;  
        S8 i;

        U16 hID = (U16) (history_ID | 0x8000);
        multiline_inputbox_category_history *h = (multiline_inputbox_category_history*) history_buffer;

        h->history_ID = hID;
        h->text_length = (S16) MMI_multiline_inputbox.text_length;
        h->allocated_length = (S16) MMI_multiline_inputbox.allocated_length;
        h->available_length = (S16) MMI_multiline_inputbox.available_length;
        h->n_lines = (S16) MMI_multiline_inputbox.n_lines;
        h->text_height = (S16) MMI_multiline_inputbox.text_height;
        h->text_offset_x = (S16) MMI_multiline_inputbox.text_offset_x;
        h->text_offset_y = (S16) MMI_multiline_inputbox.text_offset_y;
        h->cursor_x = (S16) MMI_multiline_inputbox.cursor_x;
        h->cursor_y = (S16) MMI_multiline_inputbox.cursor_y;
        h->cursor_line_position_counter = (S16) MMI_multiline_inputbox.cursor_line_position_counter;
        h->line_before_cursor_line_p =
            (S16) (MMI_multiline_inputbox.line_before_cursor_line_p - MMI_multiline_inputbox.text);
        h->cursor_line_p = (S16) (MMI_multiline_inputbox.cursor_line_p - MMI_multiline_inputbox.text);
        h->cursor_p = (S16) (MMI_multiline_inputbox.cursor_p - MMI_multiline_inputbox.text);
        h->line_after_cursor_line_p =
            (S16) (MMI_multiline_inputbox.line_after_cursor_line_p - MMI_multiline_inputbox.text);
        h->line_after_cursor_line_last_p =
            (S16) (MMI_multiline_inputbox.line_after_cursor_line_last_p - MMI_multiline_inputbox.text);
        h->last_position_p = (S16) (MMI_multiline_inputbox.last_position_p - MMI_multiline_inputbox.text);
        h->input_type = (S16) input_type;
        h -> multitap_state = (MMI_EXIT_WITH_MULTITAP_STATE | query_multitaps_state());

        
        /* barcode */
        h->current_hilite_idx = MMI_multiline_inputbox.current_hilite_idx;
        h->curr_hilite_text_offset_y = MMI_multiline_inputbox.curr_hilite_text_offset_y;
        h->hilite_list = MMI_multiline_inputbox.hilite_list;
        h->hilite_cb = MMI_multiline_inputbox.hilite_cb;
        h->ext_flags = (U32)MMI_multiline_inputbox.ext_flags;


      /**** ritesh  started*****/
    #ifdef __UI_PAGING_IN_MULTILINE_EDITOR__
        if (MMI_multiline_inputbox.ext_flags & GUI_MULTI_LINE_INPUT_BOX_VIEW_PAGING_MODE)
        {
            h->start_page_id = MMI_multiline_inputbox.start_id;
            h->end_page_id = MMI_multiline_inputbox.end_id;
            h->previous_shared_bytes = MMI_multiline_inputbox.previous_shared_bytes;
            //h->ext_flags = MMI_multiline_inputbox.ext_flags;
            h->text_offset = MMI_multiline_inputbox.text_offset;
            memset(shared_data,0,sizeof(shared_data));
            memcpy((void *)shared_data, (void*)MMI_multiline_inputbox.text, h->previous_shared_bytes);
        }
    #endif /* __UI_PAGING_IN_MULTILINE_EDITOR__ */ 
      /**** ritesh ended here***/
        /* 032605 Calvin modified to ensure 4 byte alignment */
        tmp_flags = MMI_multiline_inputbox.flags;
        /* MTK Elvis 20040116 to disable multitap flag 20040712 to disable highlight flag */
        tmp_flags &= ~UI_MULTI_LINE_INPUT_BOX_STATE_MULTITAP;
        //barcode
        if (MMI_multiline_inputbox.hilite_cb == NULL)
        {
        tmp_flags &= ~UI_MULTI_LINE_INPUT_BOX_WORD_HIGHLIGHT;
        }
        /* MTK end */
        for (i = 0; i < sizeof(U32); i++)
        {
            memcpy((U8*) (&h->flags) + i, (U8*) (&tmp_flags) + i, 1);
        }
        /* Calvin end */

        h->UCS2_count = (S16) MMI_multiline_inputbox.UCS2_count;
    #if defined(__MMI_TOUCH_SCREEN__)
        /* W05.41 Do not Strore Virtual Keyboard into History when View Mode */
        if (!(MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_VIEW_MODE))
        {
            if (GUI_VIRTUAL_KEYBOARD_MAX_LANG == mmi_pen_editor_history_vk_lang_type())
            {
                h->vk_lang_type = MMI_virtual_keyboard.lang_type;
            }
            else
            {
                h->vk_lang_type = mmi_pen_editor_history_vk_lang_type();
            }
        }
        else
        {
            h->vk_lang_type = GUI_VIRTUAL_KEYBOARD_EMPTY_TRAY;
        }
    #endif /* defined(__MMI_TOUCH_SCREEN__) */ 
        h->state = (S8) - 1;    /* MTK 2004-02-13 Wilson, Initialize history buffer state */
    }
}

/* MTK 2004-02-13 Wilson, Set and Get state of multiine inputbox history buffer */


/*****************************************************************************
 * FUNCTION
 *  set_multiline_inputbox_category_history_state
 * DESCRIPTION
 *  Sets the state of history data for state list
 * PARAMETERS
 *  history_ID          [IN]        Is the ID used by category screens
 *  history_buffer      [IN]        Is the buffer into which history data is written
 *  state               [IN]        Is the state to be set to state list
 * RETURNS
 *  void
 *****************************************************************************/
void set_multiline_inputbox_category_history_state(U16 history_ID, U8 *history_buffer, S8 state)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (history_buffer != NULL)
    {
        multiline_inputbox_category_history *h = (multiline_inputbox_category_history*) history_buffer;

        h->state = state;
    }
}


/*****************************************************************************
 * FUNCTION
 *  get_multiline_inputbox_category_history_state
 * DESCRIPTION
 *  Gets the state of history data for state list
 * PARAMETERS
 *  history_ID          [IN]        Is the ID used by category screens
 *  history_buffer      [IN]        Is the buffer into which history data is written
 *  state(?)            [IN]        Is the state to be set to state list
 * RETURNS
 *  void
 *****************************************************************************/
S8 get_multiline_inputbox_category_history_state(U16 history_ID, U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (history_buffer != NULL)
    {
        multiline_inputbox_category_history *h = (multiline_inputbox_category_history*) history_buffer;

        return h->state;
    }
    return (S8) - 1;
}

/* MTK END */

/* Start Dialer Input Boxs */

extern stFontAttribute wgui_dialer_box_f1;
extern stFontAttribute wgui_dialer_box_f2;

/* struxcture handle star key input in dialer box */
multitap_input wgui_dialer_box_star_key_handler;

#if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
multitap_input wgui_dialer_box_zero_key_handler;
#endif 
U8 wgui_dialer_box_active_multitap = WGUI_DIALER_BOX_ACTIVE_MULTITAP_NONE;

#if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
UI_character_type wgui_dialer_box_star_key_string[] = { '*', 'p', 'w', '\0' };

/* MTK Elvis for multitap zero Key */
#ifdef __MMI_MULTITAP_KEY_0__
UI_character_type wgui_dialer_box_zero_key_string[] = { '+', 'p', 'w', '\0' };
#else 
UI_character_type wgui_dialer_box_zero_key_string[] = { '0', '+', '\0' };
#endif 
/* MTK end */
#else /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
UI_character_type wgui_dialer_box_star_key_string[] = { '*', '+', 'p', 'w', '\0' };
#endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
/*----------------------------------------------------------------------------
Function:         wgui_dialer_inputbox_RSK_function
Description:      Function pointer store the address of RSK function handler
Input Parameters: void
Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/
void (*wgui_dialer_inputbox_RSK_function) (void) = NULL;
U8 wgui_dialer_inputbox_RSK_label_clear = 0;

/* store the string of RSK of dialer input box */
UI_string_type wgui_dialer_inputbox_RSK_label_string;

/* store the icon of RSK of dialer input box */
PU8 wgui_dialer_inputbox_RSK_label_icon;

/* used to keep tarck of decimal input in dialer input box */
U8 wgui_dialer_inputbox_decimal_flag = 0;

/* used to chekc if decimal input is enable for dialer box or not */
U8 wgui_dialer_inputbox_decimal_input_mode_flag = 0;

#if(0)

/*	Dependent on the width of the Input box.
	Values must be changed from platform to platform					*/

void dialer_input_box_change_callback(void)
{	s32 text_length=pixtel_UI_dialer_input_box_get_text_length(&MMI_dialer_inputbox);
	UI_font_type f=MMI_dialer_inputbox.text_font;
	if(f==&wgui_dialer_box_f1)
	{	if(text_length>18) MMI_dialer_inputbox.text_font=(&wgui_dialer_box_f2);
	}
	else if(f==&wgui_dialer_box_f2)
	{	if(text_length<=18) MMI_dialer_inputbox.text_font=(&wgui_dialer_box_f1);
		else if(text_length>30) MMI_dialer_inputbox.text_font=(&wgui_dialer_box_f3);
	}
	else if(f==&wgui_dialer_box_f3)
	{	if(text_length<=30) MMI_dialer_inputbox.text_font=(&wgui_dialer_box_f2);
	}
}

#endif /* (0) */ 


/*****************************************************************************
 * FUNCTION
 *  dialer_input_box_change_callback
 * DESCRIPTION
 *  change callback funtion of dialer input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_input_box_change_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    /* MTK Elvis to change the font size while the dialer box is too small to insert chars */
    S32 text_width = 0, text_height = 0, i = 0, j = 0;
    static S32 max_char_height_in_dialer_box = 0;
    UI_buffer_type b_text;
    S32 text_length;
    UI_character_type ch;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    MMI_dialer_inputbox.text_font = (&wgui_dialer_box_f1);

    gui_lock_double_buffer();
    MMI_dialer_inputbox.flags |= UI_DIALER_INPUT_BOX_DISABLE_DRAW;
    gui_show_dialer_input_box(&MMI_dialer_inputbox);
    MMI_dialer_inputbox.flags &= ~UI_DIALER_INPUT_BOX_DISABLE_DRAW;
    gui_unlock_double_buffer();

    /* f=MMI_dialer_inputbox.text_font; */
    gui_measure_string((UI_string_type) MMI_dialer_inputbox.text, &text_width, &text_height);
    text_length = gui_dialer_input_box_get_text_length(&MMI_dialer_inputbox);
    b_text = MMI_dialer_inputbox.text;
    if (max_char_height_in_dialer_box < text_height)
    {
        max_char_height_in_dialer_box = text_height;
    }

    text_width = 0;
    for (i = 0; i < text_length; i++)
    {
        UI_STRING_GET_NEXT_CHARACTER(b_text, ch);
        text_width += gui_get_character_width(ch);
        text_width += MMI_dialer_inputbox.text_gap;
        if (text_width + 1 > MMI_dialer_inputbox.width)
        {
            if (max_char_height_in_dialer_box > 0)
            {
                if (++j >= ((MMI_dialer_inputbox.height / (max_char_height_in_dialer_box + 1))))
                {
                    MMI_dialer_inputbox.text_font = (&wgui_dialer_box_f2);

                    break;
                }
                else
                {
                    text_width = gui_get_character_width(ch);
                    text_width += MMI_dialer_inputbox.text_gap;
                }
            }

        }

    }
}

void dialer_inputbox_complete_multitap_star_key(void);

#if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
void dialer_inputbox_complete_multitap_zero_key(void);
#endif 


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_multitap_complete
 * DESCRIPTION
 *  
 * PARAMETERS
 *  type        [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
extern void MMI_key_0_down(void);
extern void MMI_key_0_up(void);
extern pBOOL isInCall(void);


void dialer_inputbox_handle_multitap_complete(S32 type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_dialer_box_active_multitap != WGUI_DIALER_BOX_ACTIVE_MULTITAP_NONE)
    {
        switch (wgui_dialer_box_active_multitap)
        {
            case WGUI_DIALER_BOX_ACTIVE_MULTITAP_STAR_KEY:
                if (type == WGUI_DIALER_BOX_ACTIVE_MULTITAP_STAR_KEY)
                {
                    return;
                }
                if (MMI_dialer_inputbox.flags & UI_DIALER_INPUT_BOX_STATE_MULTITAP)
                {
                    gui_cancel_timer(dialer_inputbox_complete_multitap_star_key);
                    gui_multitap_input_complete(&wgui_dialer_box_star_key_handler);
                }
                break;
            #if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
            case WGUI_DIALER_BOX_ACTIVE_MULTITAP_ZERO_KEY:
                if (type == WGUI_DIALER_BOX_ACTIVE_MULTITAP_ZERO_KEY)
                {
                    return;
                }
                if (MMI_dialer_inputbox.flags & UI_DIALER_INPUT_BOX_STATE_MULTITAP)
                {
                    gui_cancel_timer(dialer_inputbox_complete_multitap_zero_key);
                    gui_multitap_input_complete(&wgui_dialer_box_zero_key_handler);
                    /* MTK Elvis to store the zero key hander for idleScreenDigitHandler.... */
                    #if 0 /* remove for MAUI_00236173 */
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
                    #endif
                    {
                        SetKeyHandler(storeZeroKeyFuncPtrs[KEY_0][KEY_EVENT_DOWN], KEY_0, KEY_EVENT_DOWN);
                        SetKeyHandler(storeZeroKeyFuncPtrs[KEY_0][KEY_EVENT_UP], KEY_0, KEY_EVENT_UP);
                        SetKeyHandler(storeZeroKeyFuncPtrs[KEY_0][KEY_LONG_PRESS], KEY_0, KEY_LONG_PRESS);
                        SetKeyHandler(UI_dummy_function, KEY_0, KEY_REPEAT);
                    }
                    /* SetKeyHandler(MMI_key_0_down,KEY_0,KEY_EVENT_DOWN); */
                }
                break;
            #endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
        }
        wgui_dialer_box_active_multitap = WGUI_DIALER_BOX_ACTIVE_MULTITAP_NONE;
    }
}


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_key_down
 * DESCRIPTION
 *  Function handles a key down wvwnt of dialer input box
 * PARAMETERS
 *  k           [IN]        
 *  S32(?)      [IN]        MMI_key_code_type :- Key code
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_handle_key_down(MMI_key_code_type k)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    dialer_inputbox_handle_multitap_complete(WGUI_DIALER_BOX_ACTIVE_MULTITAP_ANY);
    dialer_inputbox_direct_input((UI_character_type) ('0' + k));
}


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_complete_multitap_star_key
 * DESCRIPTION
 *  Function handles a multitap star key down input and draw the dialer input box
 * PARAMETERS
 *  void
 *  noen(?)     [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_complete_multitap_star_key(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multitap_input_complete(&wgui_dialer_box_star_key_handler);

    mmi_idle_star_key_disable_long_press(); /* special handler for star key pressed in touch screen dial pad */
}


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_multitap_star_key_down
 * DESCRIPTION
 *  Function handles a multitap star key down input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_handle_multitap_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    dialer_inputbox_handle_multitap_complete(WGUI_DIALER_BOX_ACTIVE_MULTITAP_STAR_KEY);
    wgui_dialer_box_active_multitap = WGUI_DIALER_BOX_ACTIVE_MULTITAP_STAR_KEY;
    gui_change_multitap_input_state(&wgui_dialer_box_star_key_handler);
    if (MMI_dialer_inputbox.text_length <= 2)
    {
        gui_start_timer(MMI_MULTITAP_TIMEOUT, dialer_inputbox_complete_multitap_star_key);
    }
}


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_multitap_star_key_up
 * DESCRIPTION
 *  Function handles a multitap star key up input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_handle_multitap_star_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_start_timer(MMI_MULTITAP_TIMEOUT, dialer_inputbox_complete_multitap_star_key);
}

#if(ENABLE_DIALER_ZERO_KEY_MULTITAP)


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_complete_multitap_zero_key
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_complete_multitap_zero_key(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multitap_input_complete(&wgui_dialer_box_zero_key_handler);
#ifdef __MMI_MULTITAP_KEY_0__
    /* MTK Elvis to store the zero key hander for idleScreenDigitHandler.... */
#if 0 /* remove for MAUI_00236173 */
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
    {
        SetKeyHandler(storeZeroKeyFuncPtrs[KEY_0][KEY_EVENT_DOWN], KEY_0, KEY_EVENT_DOWN);
        SetKeyHandler(storeZeroKeyFuncPtrs[KEY_0][KEY_EVENT_UP], KEY_0, KEY_EVENT_UP);
        SetKeyHandler(storeZeroKeyFuncPtrs[KEY_0][KEY_LONG_PRESS], KEY_0, KEY_LONG_PRESS);
        SetKeyHandler(UI_dummy_function, KEY_0, KEY_REPEAT);
    }
    /* MTK end */
#endif /* __MMI_MULTITAP_KEY_0__ */ 
}


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_multitap_zero_key_down
 * DESCRIPTION
 *  Function handles a zero key down input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_handle_multitap_zero_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    dialer_inputbox_handle_multitap_complete(WGUI_DIALER_BOX_ACTIVE_MULTITAP_ZERO_KEY);
    wgui_dialer_box_active_multitap = WGUI_DIALER_BOX_ACTIVE_MULTITAP_ZERO_KEY;
    gui_change_multitap_input_state(&wgui_dialer_box_zero_key_handler);
    if (MMI_dialer_inputbox.text_length <= 2)
    {
        gui_start_timer(MMI_MULTITAP_TIMEOUT, dialer_inputbox_complete_multitap_zero_key);
    }
}


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_multitap_zero_key_up
 * DESCRIPTION
 *  Function handles a zero key up input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_handle_multitap_zero_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#ifdef __MMI_MULTITAP_KEY_0__
    gui_start_timer(MMI_MULTITAP_TIMEOUT + 400, dialer_inputbox_complete_multitap_zero_key);
#else 
    gui_start_timer(MMI_MULTITAP_TIMEOUT, dialer_inputbox_complete_multitap_zero_key);
#endif 
    /* MTK Terry for Cannon_plus #3504 */
    if (storeZeroKeyFuncPtrs[KEY_0][KEY_EVENT_UP] != dialer_inputbox_handle_multitap_zero_key_up)
    {
        (*storeZeroKeyFuncPtrs[KEY_0][KEY_EVENT_UP]) ();
    }
    /* MTK end */
}

#endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 

MMI_BOOL wgui_dialer_inputbox_zero_ley_long_press_flag = MMI_FALSE;
/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_zero_key_long_press
 * DESCRIPTION
 *  Function handles a zero key long press  input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_handle_zero_key_long_press(void)
{
#if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetKeyHandler(dialer_inputbox_handle_multitap_zero_key_down, KEY_0, KEY_REPEAT);
    wgui_dialer_inputbox_zero_ley_long_press_flag = MMI_TRUE;
#else /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
    SetKeyHandler(UI_dummy_function, KEY_0, KEY_REPEAT);
#endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 

    dialer_inputbox_delete_character();
    /* MTK added by JL 031112, for multitap key register */
#if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
    wgui_dialer_inputbox_zero_ley_long_press_flag = MMI_FALSE;
    dialer_inputbox_handle_multitap_zero_key_down();
    /* MTK Elvis to store the zero key hander for idleScreenDigitHandler.... */
#if 0 /* remove for MAUI_00236173 */
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
    {
        storeZeroKeyFuncPtrs[KEY_0][KEY_EVENT_DOWN] = currKeyFuncPtrs[KEY_0][KEY_EVENT_DOWN];
        storeZeroKeyFuncPtrs[KEY_0][KEY_EVENT_UP] = currKeyFuncPtrs[KEY_0][KEY_EVENT_UP];
        storeZeroKeyFuncPtrs[KEY_0][KEY_LONG_PRESS] = currKeyFuncPtrs[KEY_0][KEY_LONG_PRESS];
        SetKeyHandler(dialer_inputbox_handle_multitap_zero_key_down, KEY_0, KEY_EVENT_DOWN);
        SetKeyHandler(dialer_inputbox_handle_multitap_zero_key_up, KEY_0, KEY_EVENT_UP);
        ClearKeyHandler(KEY_0, KEY_LONG_PRESS);
    }
    /* MTK end */
#endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
    /* MTK end */

}



/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_hash_key_down
 * DESCRIPTION
 *  Function handles a hash key down input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_handle_hash_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    dialer_inputbox_handle_multitap_complete(WGUI_DIALER_BOX_ACTIVE_MULTITAP_ANY);
    dialer_inputbox_direct_input((UI_character_type) '#');
}


/*****************************************************************************
 * FUNCTION
 *  dialer_inputbox_handle_star_key_down
 * DESCRIPTION
 *  Function handles a start key down input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void dialer_inputbox_handle_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    dialer_inputbox_handle_multitap_complete(WGUI_DIALER_BOX_ACTIVE_MULTITAP_ANY);
    dialer_inputbox_direct_input((UI_character_type) '*');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_dialer_inputbox_right_softkey_down
 * DESCRIPTION
 *  Function handles a RSK  key down input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_dialer_inputbox_right_softkey_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* MTK Elvis to complete the active multitap key */
    dialer_inputbox_handle_multitap_complete(WGUI_DIALER_BOX_ACTIVE_MULTITAP_ANY);
    /* MTK end */
    dialer_inputbox_delete_character();
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_dialer_inputbox_right_softkey_up
 * DESCRIPTION
 *  Function handles a RSK  key up input of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_dialer_inputbox_right_softkey_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    /* MTK Terry for reentry issue */
#if defined(__MMI_WITH_C_KEY__)
    static U8 executing = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (1 == executing)
    {
        return;
    }
    executing = 1;
#endif /* defined(__MMI_WITH_C_KEY__) */ 
#ifdef __MMI_MULTITAP_KEY_0__
    if (wgui_dialer_box_active_multitap == WGUI_DIALER_BOX_ACTIVE_MULTITAP_ZERO_KEY)
    {
        gui_cancel_timer(dialer_inputbox_complete_multitap_zero_key);
    }
#else /* __MMI_MULTITAP_KEY_0__ */ 
    if (wgui_dialer_box_active_multitap == WGUI_DIALER_BOX_ACTIVE_MULTITAP_STAR_KEY)
    {
        gui_cancel_timer(dialer_inputbox_complete_multitap_star_key);
    }
#endif /* __MMI_MULTITAP_KEY_0__ */ 
    if (wgui_dialer_inputbox_RSK_function != NULL)
    {
        wgui_dialer_inputbox_RSK_function();
    }
#if defined(__MMI_WITH_C_KEY__)
    executing = 0;
#endif 
}


/*****************************************************************************
 * FUNCTION
 *  wgui_register_dialer_inputbox_handle_right_softkey_up
 * DESCRIPTION
 *  register RSK function of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_register_dialer_inputbox_handle_right_softkey_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    set_right_softkey_function(wgui_handle_dialer_inputbox_right_softkey_up, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_register_dialer_inputbox_handle_clear_key_up
 * DESCRIPTION
 *  register RSK function of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_register_dialer_inputbox_handle_clear_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetKeyHandler(wgui_handle_dialer_inputbox_right_softkey_up, KEY_CLEAR, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_dialer_inputbox_input
 * DESCRIPTION
 *  handle dialer input box set RSK function of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_dialer_inputbox_input(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (gui_dialer_input_box_get_text_length(&MMI_dialer_inputbox) > 0)
    {
    #if defined(__MMI_WITH_C_KEY__)
        if (wgui_dialer_inputbox_RSK_label_clear == 0)
        {
            if (wgui_inputbox_not_empty_callback != NULL)
            {
                wgui_inputbox_not_empty_callback();
            }
            wgui_dialer_inputbox_RSK_label_clear = 1;
            SetKeyHandler(wgui_handle_dialer_inputbox_right_softkey_down, KEY_CLEAR, KEY_EVENT_DOWN);
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_UP);
            SetKeyHandler(wgui_handle_dialer_inputbox_right_softkey_long_press, KEY_CLEAR, KEY_EVENT_LONG_PRESS);
        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        if (wgui_dialer_inputbox_RSK_label_clear == 0)
        {
            set_right_softkey_label((UI_string_type) get_string(STR_GLOBAL_CLEAR));
            set_right_softkey_icon(NULL);
            if (wgui_inputbox_not_empty_callback != NULL)
            {
                wgui_inputbox_not_empty_callback();
            }
            redraw_right_softkey();
            wgui_dialer_inputbox_RSK_label_clear = 1;
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_UP);
            set_right_softkey_function(wgui_handle_dialer_inputbox_right_softkey_down, KEY_EVENT_DOWN);
        #ifdef __MMI_TOUCH_DIAL_SCREEN__
            //SetRightSoftkeyFunction(TouchDialerClearKey,KEY_LONG_PRESS); 
        #endif /* __MMI_TOUCH_DIAL_SCREEN__ */ 
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
    else
    {

    #if defined(__MMI_WITH_C_KEY__)
        if (wgui_dialer_inputbox_RSK_label_clear == 1)
        {
            if (wgui_inputbox_empty_callback != NULL)
            {
                wgui_inputbox_empty_callback();
            }
            wgui_dialer_inputbox_RSK_label_clear = 0;
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_handle_dialer_inputbox_right_softkey_up, KEY_CLEAR, KEY_EVENT_UP);
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_LONG_PRESS);
            if (!wgui_dialer_inputbox_zero_ley_long_press_flag)
                wgui_handle_dialer_inputbox_right_softkey_up();
        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        if (wgui_dialer_inputbox_RSK_label_clear == 1)
        {
        #if(DISABLE_DIALER_BACK_KEY)
            set_right_softkey_function(wgui_handle_dialer_inputbox_right_softkey_up, KEY_EVENT_UP);
            if (wgui_inputbox_empty_callback != NULL)
            {
                wgui_inputbox_empty_callback();
            }
            wgui_dialer_inputbox_RSK_label_clear = 0;
        #else /* (DISABLE_DIALER_BACK_KEY) */ 
            set_right_softkey_label(wgui_dialer_inputbox_RSK_label_string);
            set_right_softkey_icon(wgui_dialer_inputbox_RSK_label_icon);
            if (wgui_inputbox_empty_callback != NULL)
            {
                wgui_inputbox_empty_callback();
            }
            redraw_right_softkey();
            wgui_dialer_inputbox_RSK_label_clear = 0;
            set_right_softkey_function(wgui_register_dialer_inputbox_handle_right_softkey_up, KEY_EVENT_UP);
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_DOWN);
        #endif /* (DISABLE_DIALER_BACK_KEY) */ 
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
}


/*****************************************************************************
 * FUNCTION
 *  register_dialer_inputbox_dialer_keys
 * DESCRIPTION
 *  register key handlers of dialer box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void register_dialer_inputbox_dialer_keys(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    register_dialer_inputbox_keys();
    change_multitap_mode(INPUT_MODE_123);
    clear_multitap_key_handlers();
    register_MMI_key_input_handler();
    register_key_down_handler(dialer_inputbox_handle_key_down);
    register_keyboard_input_handler(dialer_inputbox_numeric_keyboard_input_handler);
#ifdef __MMI_MULTITAP_KEY_0__
    SetKeyHandler(dialer_inputbox_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
#else /* __MMI_MULTITAP_KEY_0__ */ 
    SetKeyHandler(dialer_inputbox_handle_multitap_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
    SetKeyHandler(dialer_inputbox_handle_multitap_star_key_up, KEY_STAR, KEY_EVENT_UP);
#endif /* __MMI_MULTITAP_KEY_0__ */ 
    SetKeyHandler(dialer_inputbox_handle_hash_key_down, KEY_POUND, KEY_EVENT_DOWN);
#if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
#ifdef __MMI_MULTITAP_KEY_0__
    SetKeyHandler(dialer_inputbox_handle_zero_key_long_press, KEY_0, KEY_EVENT_LONG_PRESS);
#else /* __MMI_MULTITAP_KEY_0__ */ 
    SetKeyHandler(dialer_inputbox_handle_multitap_zero_key_down, KEY_0, KEY_EVENT_DOWN);
    SetKeyHandler(dialer_inputbox_handle_multitap_zero_key_up, KEY_0, KEY_EVENT_UP);
#endif /* __MMI_MULTITAP_KEY_0__ */ 
#endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
}


/*****************************************************************************
 * FUNCTION
 *  wgui_dialer_validation_callback
 * DESCRIPTION
 *  validation function of dialer box
 * PARAMETERS
 *  text            [IN]        Text of dialer input box
 *  cursor          [IN]        
 *  text_length     [IN]        Text length
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_dialer_validation_callback(UI_buffer_type text, UI_buffer_type cursor, S32 text_length)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputbox_validation_callback != NULL)
    {
        wgui_inputbox_validation_callback(text, cursor, text_length);
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_dialer_inputbox_right_softkey_long_press
 * DESCRIPTION
 *  function handle long press of RSK
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_dialer_inputbox_right_softkey_long_press(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    dialer_inputbox_delete_all_characters();
}


/*****************************************************************************
 * FUNCTION
 *  wgui_dialer_inputbox_set_border
 * DESCRIPTION
 *  add border for dialer inputbox
 * PARAMETERS
 *  is_border_existing      [IN]        
 *  border_color            [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_dialer_inputbox_set_border(MMI_BOOL is_border_existing, color border_color)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (is_border_existing) /* draw a single border on dialer inputbox */
    {
        MMI_dialer_inputbox.flags |= UI_DIALER_INPUT_BOX_SHOW_BORDER;
    }
    else
    {
        MMI_dialer_inputbox.flags &= ~UI_DIALER_INPUT_BOX_SHOW_BORDER;
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_setup_dialer_inputbox
 * DESCRIPTION
 *  create dialer input box
 * PARAMETERS
 *  x                       [IN]        Start x position of dialer input box
 *  y                       [IN]        Start y position of dialer input box
 *  width                   [IN]        Width of dilaer input box
 *  height                  [IN]        Height of dialer input box
 *  buffer                  [IN]        Text buffer of dialer input box
 *  buffer_size             [IN]        Buffer size
 *  category_screen_ID      [IN]        Category screen iD
 *  RSK_label               [IN]        RSK label
 *  RSK_icon                [IN]        RSK icon
 *  history_buffer          [IN]        History buffer
 *  flags                   [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_setup_dialer_inputbox(
        S32 x,
        S32 y,
        S32 width,
        S32 height,
        U8 *buffer,
        S32 buffer_size,
        U16 category_screen_ID,
        UI_string_type RSK_label,
        PU8 RSK_icon,
        U8 *history_buffer,
        U32 flags)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 l;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    UI_UNUSED_PARAMETER(flags);
#ifndef __MMI_MULTITAP_KEY_0__
    gui_create_multitap_input(
        &wgui_dialer_box_star_key_handler,
        0,
        0,
        0,
        0,
        (UI_string_type) wgui_dialer_box_star_key_string);
    gui_set_multitap_input_callbacks(
        &wgui_dialer_box_star_key_handler,
        dialer_inputbox_multitap_input,
        dialer_inputbox_multitap_input_complete);
#endif /* __MMI_MULTITAP_KEY_0__ */ 
#if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
    gui_create_multitap_input(
        &wgui_dialer_box_zero_key_handler,
        0,
        0,
        0,
        0,
        (UI_string_type) wgui_dialer_box_zero_key_string);
    gui_set_multitap_input_callbacks(
        &wgui_dialer_box_zero_key_handler,
        dialer_inputbox_multitap_input,
        dialer_inputbox_multitap_input_complete);
#endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
    l = gui_strlen((UI_string_type) buffer);
    create_dialer_inputbox_set_buffer((UI_string_type) buffer, buffer_size, l, l);
    MMI_dialer_inputbox.text_font = &wgui_dialer_box_f2;
    MMI_dialer_inputbox.flags |= UI_DIALER_INPUT_BOX_CHARACTER_QUEUE;
#if(ENABLE_DIALER_PLUS_CHARACTER_HANDLING)
    MMI_dialer_inputbox.flags |= UI_DIALER_INPUT_BOX_PLUS_CHARACTER_HANDLING;
#endif 
    register_dialer_inputbox_keys();
    move_dialer_inputbox(x, y);
    resize_dialer_inputbox(width, height);

    MMI_dialer_inputbox.text_font = (&wgui_dialer_box_f1);
    MMI_dialer_inputbox.change_callback = dialer_input_box_change_callback;
    set_dialer_inputbox_mask(0);
    register_dialer_inputbox_dialer_keys();
    /* This is done to choose the right font size, if the buffer contains valid data */
    dialer_input_box_change_callback();
    dialer_input_box_change_callback();
    MMI_current_input_mode = INPUT_MODE_123;

    register_dialer_inputbox_input_callback(wgui_handle_dialer_inputbox_input);
    /* Leo start 20050805, add dialer inputbox history */
    set_dialer_inputbox_category_history(category_screen_ID, history_buffer);
    /* Leo end 20050805 */
    wgui_dialer_inputbox_RSK_label_icon = RSK_icon;
    wgui_dialer_inputbox_RSK_label_string = RSK_label;
#if defined(__MMI_WITH_C_KEY__)
    SetKeyHandler(wgui_handle_dialer_inputbox_right_softkey_long_press, KEY_CLEAR, KEY_LONG_PRESS);
    set_right_softkey_function(wgui_handle_dialer_inputbox_right_softkey_up, KEY_EVENT_UP);
#else /* defined(__MMI_WITH_C_KEY__) */ 
    set_right_softkey_function(wgui_handle_dialer_inputbox_right_softkey_long_press, KEY_LONG_PRESS);
#endif /* defined(__MMI_WITH_C_KEY__) */ 
    wgui_handle_dialer_inputbox_input();
    if (gui_dialer_input_box_get_text_length(&MMI_dialer_inputbox) <= 0)
    {
    #if defined(__MMI_WITH_C_KEY__)
        SetKeyHandler(wgui_handle_dialer_inputbox_right_softkey_up, KEY_CLEAR, KEY_EVENT_UP);
        if (wgui_inputbox_empty_callback != NULL)
        {
            wgui_inputbox_empty_callback();
        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        set_right_softkey_function(wgui_handle_dialer_inputbox_right_softkey_up, KEY_EVENT_UP);
        if (wgui_inputbox_empty_callback != NULL)
        {
            wgui_inputbox_empty_callback();
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
    else if (wgui_inputbox_not_empty_callback != NULL)
    {
        wgui_inputbox_not_empty_callback();
    }
    MMI_dialer_inputbox.validation_callback = wgui_dialer_validation_callback;
    MMI_dialer_inputbox.validation_callback(
                            MMI_dialer_inputbox.text,
                            MMI_dialer_inputbox.current_text_p,
                            (MMI_dialer_inputbox.text_length >> 1) - 1);
#if defined(__MMI_TOUCH_SCREEN__)
    SetLeftSoftkeyAlwaysKeyUpByPen();
    SetRightSoftkeyAlwaysKeyUpByPen();
    #ifdef __MMI_WGUI_CSK_ENABLE__
        SetCenterSoftkeyAlwaysKeyUpByPen();
    #endif 
#endif /* defined(__MMI_TOUCH_SCREEN__) */ 
}


/*****************************************************************************
 * FUNCTION
 *  close_dialer_inputbox
 * DESCRIPTION
 *  close dialer input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void close_dialer_inputbox(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_not_empty_callback = NULL;
    wgui_inputbox_empty_callback = NULL;
    wgui_inputbox_validation_callback = NULL;
    wgui_dialer_inputbox_RSK_function = NULL;
    wgui_dialer_inputbox_RSK_label_clear = 0;
    reset_dialer_inputbox();
#ifndef __MMI_MULTITAP_KEY_0__
    gui_cancel_timer(dialer_inputbox_complete_multitap_star_key);
#endif 
}

/* Multitap handling for phone number input mode   */

#define WGUI_INPUTBOX_MULTITAP_NONE          0
#define WGUI_INPUTBOX_EDIT_MULTITAP_STAR     1
#define WGUI_INPUTBOX_EDIT_MULTITAP_ANY         2
#define WGUI_INPUTBOX_EDIT_MULTITAP_ZERO     3

U8 wgui_inputbox_active_multitap = WGUI_INPUTBOX_MULTITAP_NONE;

UI_character_type wgui_inputbox_phone_number_star_key_string_for_SIM_number[] = { '*', '+', '\0' };
UI_character_type wgui_inputbox_phone_number_zero_key_string_for_SIM_number[] = { '+', '\0' };

UI_character_type wgui_inputbox_phone_number_star_key_string[] = { '*', '+', 'p', 'w', '\0' };
multitap_input wgui_inputbox_multitap_star_key;

UI_character_type wgui_inputbox_phone_number_zero_key_string[] = { '+', 'p', 'w', '\0' };
multitap_input wgui_inputbox_multitap_zero_key;

/* flag used to check if english input mpde is on /off */
U8 MMI_english_input_mode_flag = 0;

/* byte    MMI_allow_only_english_input_modes=0; */
/* flag used to store current input mode */
U8 MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ABC;

/* used to store current input type */
S16 MMI_current_input_type = 0;

/* MTK Terry for 0x81 encoding support for Phone Book */
S16 MMI_current_input_ext_type = 0;

pBOOL flag_use_current_input_type = FALSE;

//MTK Elvis it is not used, so remove it
//S16           MMI_saved_input_type=0;
//MTK end

/* MTK Elvis for prefered input method */
#if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
S16 MMI_prefered_input_type = INPUT_TYPE_TR_BOPOMO;
#endif

#if defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
S16 g_ime_main_writing_lang = IME_WRITING_LANG_ABC;
#endif /* defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__) */

#if defined(__MMI_MIXED_LANG_SUPPORT__)
S16 g_ime_sub_writing_lang = IME_WRITING_LANG_NONE;
#endif /* defined(__MMI_MIXED_LANG_SUPPORT__) */

/* MTK end */
/*----------------------------------------------------------------------------
Function:         inputbox_change_mode
Description:      a function pointer store the address of function whcih handle
               input box change mode

Input parameters :   none
Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/
void (*inputbox_change_mode) (void);


extern MMI_BOOL wgui_is_overridable_input_type(S16 input_type);
/*****************************************************************************
 * FUNCTION
 *  set_MMI_current_input_type
 * DESCRIPTION
 *  set mmi current input mode
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
/* MTK Elvis modify for stacked character---thai */
void set_MMI_current_input_type(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (!wgui_is_overridable_input_type(MMI_current_input_type))
    {
        return;
    }

    switch (MMI_current_input_mode)
    {
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE;
            break;
        case INPUT_MODE_123:
            MMI_current_input_type = INPUT_TYPE_NUMERIC_CHANGEABLE;
            break;
    #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC:
            MMI_current_input_type = INPUT_TYPE_ALPHABATIC_UPPERCASE;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC:
            MMI_current_input_type = INPUT_TYPE_ALPHABATIC_LOWERCASE;
            break;
        case INPUT_MODE_123_SYMBOLS:
            MMI_current_input_type = INPUT_TYPE_NUMERIC_SYMBOL;
            break;
    #endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MULTITAP_THAI:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_MULTITAP_THAI;
            break;
    #endif /* defined(__MMI_MULTITAP_THAI__) */ 

    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SPANISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SPANISH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_SPANISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SPANISH;
            break;
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DANISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DANISH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_DANISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DANISH;
            break;
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_POLISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_POLISH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_POLISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_POLISH;
            break;
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FRENCH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FRENCH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_FRENCH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FRENCH;
            break;
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GERMAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GERMAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_GERMAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GERMAN;
            break;
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ITALIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ITALIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_RUSSIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_RUSSIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_BULGARIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_BULGARIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_UKRAINIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_UKRAINIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_TURKISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_TURKISH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_TURKISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_TURKISH;
            break;
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_PORTUGUESE;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_PORTUGUESE;
            break;
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_HINDI__)
        case INPUT_MODE_MULTITAP_HINDI:
            MMI_current_input_type = INPUT_TYPE_MULTITAP_HINDI;
            break;
    #endif /* defined(__MMI_MULTITAP_HINDI__) */ 

    #if defined(__MMI_MULTITAP_MARATHI__)
        case INPUT_MODE_MULTITAP_MARATHI:
            MMI_current_input_type = INPUT_TYPE_MULTITAP_MARATHI;
            break;
    #endif /* #if defined (__MMI_MULTITAP_MARATHI__)   */ 
	#if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_MODE_MULTITAP_TAMIL:
            MMI_current_input_type = INPUT_TYPE_MULTITAP_TAMIL;
            break;
    #endif
    #if defined(__MMI_MULTITAP_BENGALI__)
        case INPUT_MODE_MULTITAP_BENGALI:
            MMI_current_input_type = INPUT_TYPE_MULTITAP_BENGALI;
            break;
    #endif /* defined(__MMI_MULTITAP_BENGALI__) */ 


	#if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_MODE_MULTITAP_PUNJABI:
            MMI_current_input_type = INPUT_TYPE_MULTITAP_PUNJABI;
            break;
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_MODE_MULTITAP_TELUGU:
            MMI_current_input_type = INPUT_TYPE_MULTITAP_TELUGU;
            break;
    #endif 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_INDONESIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_INDONESIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CZECH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CZECH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_CZECH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CZECH;
            break;
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MULTITAP_UPPERCASE_MALAY:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_MALAY;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_MALAY:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_MALAY;
            break;
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_VIETNAMESE;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_VIETNAMESE;
            break;
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FINNISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FINNISH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_FINNISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FINNISH;
            break;
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_HUNGARIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_HUNGARIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MULTITAP_HEBREW:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_HEBREW;
            break;
    #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVAK;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVAK;
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DUTCH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DUTCH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_DUTCH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DUTCH;
            break;
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 

    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MULTITAP_ARABIC:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_ARABIC;
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_ARABIC_NUMERIC:
            MMI_current_input_type = INPUT_TYPE_ARABIC_NUMERIC;
            break;
    #endif /* defined(__MMI_LANG_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
		case INPUT_MODE_MULTITAP_PERSIAN:	
				MMI_current_input_type=INPUT_TYPE_ALPHANUMERIC_PERSIAN;
				break;
    #endif
    #if defined(__MMI_MULTITAP_URDU__)
		case INPUT_MODE_MULTITAP_URDU:	
				MMI_current_input_type=INPUT_TYPE_ALPHANUMERIC_URDU;
				break;
    #endif
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_NORWEGIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_NORWEGIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SWEDISH;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SWEDISH;
            break;
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CROATIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CROATIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ROMANIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ROMANIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVENIAN;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVENIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GREEK:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GREEK;
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_GREEK:
            MMI_current_input_type = INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GREEK;
            break;
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
    #if defined(__MMI_T9__) || defined(__MMI_ZI__) || defined(__MMI_KA__) || defined(__MMI_ITAP__) || defined(__MMI_CSTAR__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
            MMI_current_input_type = INPUT_TYPE_TR_MULTITAP_BOPOMO;
            break;

#if (!defined(__MMI_CSTAR__) || defined(__MMI_TOUCH_SCREEN__))
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            MMI_current_input_type = INPUT_TYPE_SM_MULTITAP_PINYIN;
            break;
        case INPUT_MODE_TR_BOPOMO:
            MMI_current_input_type = INPUT_TYPE_TR_BOPOMO;
            break;
#endif

        case INPUT_MODE_SM_PINYIN:
            MMI_current_input_type = INPUT_TYPE_SM_PINYIN;
            break;

        case INPUT_MODE_TR_STROKE:
            MMI_current_input_type = INPUT_TYPE_TR_STROKE;
            break;

        case INPUT_MODE_SM_STROKE:
            MMI_current_input_type = INPUT_TYPE_SM_STROKE;
            break;

        case INPUT_MODE_SMART_UPPERCASE_ABC:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_ABC;
            break;

        case INPUT_MODE_SMART_LOWERCASE_ABC:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_ABC;
            break;

    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            MMI_current_input_type = INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC;
            break;
    #endif

        case INPUT_MODE_SMART_THAI:
            MMI_current_input_type = INPUT_TYPE_SMART_THAI;
            break;

            /* MTK Elvis for R2L characters */
        case INPUT_MODE_SMART_ARABIC:
            MMI_current_input_type = INPUT_TYPE_SMART_ARABIC;
            break;
	case INPUT_MODE_SMART_PERSIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_PERSIAN;
            break;
    #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
        case INPUT_MODE_SMART_HINDI:
            MMI_current_input_type = INPUT_TYPE_SMART_HINDI;
            break;
    #endif
    #if defined(__MMI_ZI_BENGALI__)
        case INPUT_MODE_SMART_BENGALI:
            MMI_current_input_type = INPUT_TYPE_SMART_BENGALI;
            break;
    #endif

    #if defined(__MMI_ZI_MARATHI__)
        case INPUT_MODE_SMART_MARATHI:
            MMI_current_input_type = INPUT_TYPE_SMART_MARATHI;
            break;
    #endif

    #if defined(__MMI_ZI_PUNJABI__)
        case INPUT_MODE_SMART_PUNJABI:
            MMI_current_input_type = INPUT_TYPE_SMART_PUNJABI;
            break;
    #endif

    #if defined(__MMI_ZI_TAMIL__)
        case INPUT_MODE_SMART_TAMIL:
            MMI_current_input_type = INPUT_TYPE_SMART_TAMIL;
            break;
    #endif

    #if defined(__MMI_ZI_TELUGU__)
        case INPUT_MODE_SMART_TELUGU:
            MMI_current_input_type = INPUT_TYPE_SMART_TELUGU;
            break;
    #endif

    #if defined(__MMI_ZI_URDU__)
        case INPUT_MODE_SMART_URDU:
            MMI_current_input_type = INPUT_TYPE_SMART_URDU;
            break;
    #endif
        case INPUT_MODE_SMART_HEBREW:
            MMI_current_input_type = INPUT_TYPE_SMART_HEBREW;
            break;
    #if defined(__MMI_T9_SPANISH__) || defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) || defined(__MMI_CSTAR_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_SPANISH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_SPANISH;
            break;
    #endif /* defined(__MMI_T9_SPANISH__) || defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) || defined(__MMI_CSTAR_SPANISH__) */ 
    #if defined(__MMI_T9_DANISH__) || defined(__MMI_ZI_DANISH__) || defined(__MMI_CSTAR_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_DANISH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_DANISH;
            break;
    #endif /* defined(__MMI_T9_DANISH__) || defined(__MMI_ZI_DANISH__) || defined(__MMI_CSTAR_DANISH__) */ 
    #if defined(__MMI_T9_POLISH__) || defined(__MMI_ZI_POLISH__) || defined(__MMI_CSTAR_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_POLISH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_POLISH;
            break;
    #endif /* defined(__MMI_T9_POLISH__) || defined(__MMI_ZI_POLISH__) || defined(__MMI_CSTAR_POLISH__) */ 
    #if defined(__MMI_T9_FRENCH__) || defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) || defined(__MMI_CSTAR_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_FRENCH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_FRENCH;
            break;
    #endif /* defined(__MMI_T9_FRENCH__) || defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) || defined(__MMI_CSTAR_FRENCH__) */ 
    #if defined(__MMI_T9_GERMAN__) || defined(__MMI_ZI_GERMAN__) || defined(__MMI_CSTAR_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_GERMAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_GERMAN;
            break;
    #endif /* defined(__MMI_T9_GERMAN__) || defined(__MMI_ZI_GERMAN__) || defined(__MMI_CSTAR_GERMAN__) */ 
    #if defined(__MMI_T9_ITALIAN__) || defined(__MMI_ZI_ITALIAN__) || defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_ITALIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_ITALIAN;
            break;
    #endif /* defined(__MMI_T9_ITALIAN__) || defined(__MMI_ZI_ITALIAN__) || defined(__MMI_CSTAR_ITALIAN__) */ 
    #if defined(__MMI_T9_RUSSIAN__) || defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) || defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_RUSSIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_RUSSIAN;
            break;
    #endif /* defined(__MMI_T9_RUSSIAN__) || defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) || defined(__MMI_CSTAR_RUSSIAN__) */ 
    #if defined(__MMI_T9_BULGARIAN__) || defined(__MMI_ZI_BULGARIAN__) || defined(__MMI_CSTAR_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_BULGARIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_BULGARIAN;
            break;
    #endif /* defined(__MMI_T9_BULGARIAN__) || defined(__MMI_ZI_BULGARIAN__) || defined(__MMI_CSTAR_BULGARIAN__) */ 
    #if defined(__MMI_T9_UKRAINIAN__) || defined(__MMI_ZI_UKRAINIAN__) || defined(__MMI_CSTAR_UKRAINIAN__)
        case INPUT_MODE_SMART_UPPERCASE_UKRAINIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_UKRAINIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_UKRAINIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_UKRAINIAN;
            break;
    #endif /* defined(__MMI_T9_BULGARIAN__) || defined(__MMI_ZI_BULGARIAN__) || defined(__MMI_CSTAR_BULGARIAN__) */ 
    #if defined(__MMI_ZI_TURKISH__) || defined(__MMI_T9_TURKISH__) || defined(__MMI_CSTAR_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_TURKISH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_TURKISH;
            break;
    #endif /* defined(__MMI_ZI_TURKISH__) || defined(__MMI_T9_TURKISH__) || defined(__MMI_CSTAR_TURKISH__) */ 
    #if defined(__MMI_T9_PORTUGUESE__) || defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) || defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE;
            break;
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE;
            break;
    #endif /* defined(__MMI_T9_PORTUGUESE__) || defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) || defined(__MMI_CSTAR_PORTUGUESE__) */ 
    #if defined(__MMI_ZI_INDONESIAN__) || defined(__MMI_T9_INDONESIAN__) || defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_INDONESIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_INDONESIAN;
            break;
    #endif /* defined(__MMI_ZI_INDONESIAN__) || defined(__MMI_T9_INDONESIAN__) || defined(__MMI_CSTAR_INDONESIAN__) */ 
    #if defined(__MMI_ZI_CZECH__) || defined(__MMI_T9_CZECH__) || defined(__MMI_CSTAR_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_CZECH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_CZECH;
            break;
    #endif /* defined(__MMI_ZI_CZECH__) || defined(__MMI_T9_CZECH__) || defined(__MMI_CSTAR_CZECH__) */ 
    #if defined(__MMI_ZI_MALAY__) || defined(__MMI_T9_MALAY__) || defined(__MMI_CSTAR_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_MALAY;
            break;
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_MALAY;
            break;
    #endif /* defined(__MMI_ZI_MALAY__) || defined(__MMI_T9_MALAY__) || defined(__MMI_CSTAR_MALAY__) */ 
    #if defined(__MMI_ZI_VIETNAMESE__) || defined(__MMI_T9_VIETNAMESE__) || defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE;
            break;
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE;
            break;
    #endif /* defined(__MMI_ZI_VIETNAMESE__) || defined(__MMI_T9_VIETNAMESE__) || defined(__MMI_CSTAR_VIETNAMESE__) */ 
    #if defined(__MMI_T9_FINNISH__) || defined(__MMI_ZI_FINNISH__) || defined(__MMI_CSTAR_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_FINNISH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_FINNISH;
            break;
    #endif /* defined(__MMI_T9_FINNISH__) || defined(__MMI_ZI_FINNISH__) || defined(__MMI_CSTAR_FINNISH__) */ 
    #if defined(__MMI_ZI_HUNGARIAN__) || defined(__MMI_T9_HUNGARIAN__) || defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN;
            break;
    #endif /* defined(__MMI_ZI_HUNGARIAN__) || defined(__MMI_T9_HUNGARIAN__) || defined(__MMI_CSTAR_HUNGARIAN__) */ 
    #if defined(__MMI_T9_SLOVAK__) || defined(__MMI_ZI_SLOVAK__) || defined(__MMI_CSTAR_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_SLOVAK;
            break;
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_SLOVAK;
            break;
    #endif /* defined(__MMI_T9_SLOVAK__) || defined(__MMI_ZI_SLOVAK__) || defined(__MMI_CSTAR_SLOVAK__) */ 
    #if defined(__MMI_ZI_DUTCH__) || defined(__MMI_T9_DUTCH__) || defined(__MMI_CSTAR_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_DUTCH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_DUTCH;
            break;
    #endif /* defined(__MMI_ZI_DUTCH__) || defined(__MMI_T9_DUTCH__) || defined(__MMI_CSTAR_DUTCH__) */ 
    #if defined(__MMI_T9_NORWEGIAN__) || defined(__MMI_ZI_NORWEGIAN__) || defined(__MMI_CSTAR_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN;
            break;
    #endif /* defined(__MMI_T9_NORWEGIAN__) || defined(__MMI_ZI_NORWEGIAN__) || defined(__MMI_CSTAR_NORWEGIAN__) */ 
    #if defined(__MMI_T9_SWEDISH__) || defined(__MMI_ZI_SWEDISH__) || defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_SWEDISH;
            break;
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_SWEDISH;
            break;
    #endif /* defined(__MMI_T9_SWEDISH__) || defined(__MMI_ZI_SWEDISH__) || defined(__MMI_CSTAR_SWEDISH__) */ 
    #if defined(__MMI_T9_CROATIAN__) || defined(__MMI_ZI_CROATIAN__) || defined(__MMI_CSTAR_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_CROATIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_CROATIAN;
            break;
    #endif /* defined(__MMI_T9_CROATIAN__) || defined(__MMI_ZI_CROATIAN__) || defined(__MMI_CSTAR_CROATIAN__) */ 
    #if defined(__MMI_ZI_ROMANIAN__) || defined(__MMI_T9_ROMANIAN__) || defined(__MMI_CSTAR_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_ROMANIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_ROMANIAN;
            break;
    #endif /* defined(__MMI_ZI_ROMANIAN__) || defined(__MMI_T9_ROMANIAN__) || defined(__MMI_CSTAR_ROMANIAN__) */ 
    #if defined(__MMI_T9_SLOVENIAN__) || defined(__MMI_ZI_SLOVENIAN__) || defined(__MMI_CSTAR_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN;
            break;
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN;
            break;
    #endif /* defined(__MMI_T9_SLOVENIAN__) || defined(__MMI_ZI_SLOVENIAN__) || defined(__MMI_CSTAR_SLOVENIAN__) */ 
    #if defined(__MMI_T9_GREEK__) || defined(__MMI_ZI_GREEK__) || defined(__MMI_CSTAR_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
            MMI_current_input_type = INPUT_TYPE_SMART_UPPERCASE_GREEK;
            break;
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
            MMI_current_input_type = INPUT_TYPE_SMART_LOWERCASE_GREEK;
            break;
    #endif /* defined(__MMI_T9_GREEK__) || defined(__MMI_ZI_GREEK__) || defined(__MMI_CSTAR_GREEK__) */ 

    #endif /* defined(__MMI_T9__) || defined(__MMI_ZI__) || defined(__MMI_CSTAR__) || defined(__MMI_KA__) || defined(__MMI_ITAP__) */ 
            /* MTK Elvis to add some APIs for Qsearch */

        case INPUT_MODE_MMI_MULTITAP_BPMF:
            MMI_current_input_type = INPUT_TYPE_MMI_MULTITAP_BPMF;
            break;

        case INPUT_MODE_MMI_MULTITAP_PINYIN:
            MMI_current_input_type = INPUT_TYPE_MMI_MULTITAP_PINYIN;
            break;

        case INPUT_MODE_MMI_SM_STROKE:
            MMI_current_input_type = INPUT_TYPE_MMI_SM_STROKE;
            break;

        case INPUT_MODE_MMI_TR_STROKE:
            MMI_current_input_type = INPUT_TYPE_MMI_TR_STROKE;
            break;
        case INPUT_MODE_MMI_NUMERIC:
            MMI_current_input_type = INPUT_TYPE_MMI_NUMERIC;
            break;

        case INPUT_MODE_MMI_LOWERCASE_ABC:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_ABC;
            break;
    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MMI_LOWERCASE_SPANISH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_SPANISH;
            break;
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MMI_LOWERCASE_DANISH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_DANISH;
            break;
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_MODE_MMI_LOWERCASE_POLISH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_POLISH;
            break;
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MMI_LOWERCASE_FRENCH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_FRENCH;
            break;
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MMI_LOWERCASE_GERMAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_GERMAN;
            break;
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MMI_LOWERCASE_ITALIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_ITALIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MMI_LOWERCASE_RUSSIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_RUSSIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MMI_LOWERCASE_BULGARIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_BULGARIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MMI_LOWERCASE_UKRAINIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_UKRAINIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MMI_LOWERCASE_TURKISH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_TURKISH;
            break;
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MMI_LOWERCASE_PORTUGUESE:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_PORTUGUESE;
            break;
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MMI_LOWERCASE_INDONESIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_INDONESIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MMI_LOWERCASE_CZECH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_CZECH;
            break;
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MMI_LOWERCASE_MALAY:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_MALAY;
            break;
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MMI_LOWERCASE_VIETNAMESE:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_VIETNAMESE;
            break;
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MMI_LOWERCASE_FINNISH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_FINNISH;
            break;
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MMI_LOWERCASE_HUNGARIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_HUNGARIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MMI_LOWERCASE_SWEDISH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_SWEDISH;
            break;
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MMI_MULTITAP_HEBREW:
            MMI_current_input_type = INPUT_TYPE_MMI_MULTITAP_HEBREW;
            break;
    #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MMI_LOWERCASE_SLOVAK:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_SLOVAK;
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MMI_LOWERCASE_DUTCH:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_DUTCH;
            break;
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MMI_LOWERCASE_NORWEGIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_NORWEGIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MMI_MULTITAP_ARABIC:
            MMI_current_input_type = INPUT_TYPE_MMI_MULTITAP_ARABIC;
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MMI_ARABIC_NUMERIC:
            MMI_current_input_type = INPUT_TYPE_MMI_ARABIC_NUMERIC;
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
         case INPUT_MODE_MMI_MULTITAP_PERSIAN:
	      MMI_current_input_type = INPUT_TYPE_MMI_MULTITAP_PERSIAN;
	      break;
    #endif          
    #if defined(__MMI_MULTITAP_URDU__)
         case INPUT_MODE_MMI_MULTITAP_URDU:
	      MMI_current_input_type = INPUT_TYPE_MMI_MULTITAP_URDU;
	      break;
    #endif          
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MMI_LOWERCASE_CROATIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_CROATIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MMI_LOWERCASE_ROMANIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_ROMANIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MMI_LOWERCASE_SLOVENIAN:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_SLOVENIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MMI_LOWERCASE_GREEK:
            MMI_current_input_type = INPUT_TYPE_MMI_LOWERCASE_GREEK;
            break;
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MMI_MULTITAP_THAI:
            MMI_current_input_type = INPUT_TYPE_MMI_MULTITAP_THAI;
            break;
    #endif

    }
    /* MTK Elvis for R2L characters */
#ifdef __MMI_BIDI_ALG__
    if (MMI_current_input_type == INPUT_TYPE_SMART_ARABIC || MMI_current_input_type == INPUT_TYPE_SMART_HEBREW || MMI_current_input_type == INPUT_TYPE_SMART_PERSIAN)
    {
        MMI_bidi_input_type = BIDI_R;
    }
    else
    {
        MMI_bidi_input_type = BIDI_L;
    }

#endif /* __MMI_BIDI_ALG__ */ 
    /* MTK end */
}


/*****************************************************************************
 * FUNCTION
 *  RegisterInputBoxValidationFunction
 * DESCRIPTION
 *  register input box validation function
 * PARAMETERS
 *  f       [IN]        )(U8*,U8*,S32) function pointer
 * RETURNS
 *  void
 *****************************************************************************/
void RegisterInputBoxValidationFunction(void (*f) (U8 *, U8 *, S32))
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_validation_callback = f;
}


/*****************************************************************************
 * FUNCTION
 *  RegisterInputBoxNotEmptyFunction
 * DESCRIPTION
 *  register input box validation function
 * PARAMETERS
 *  f       [IN]        )(void) function pointer
 * RETURNS
 *  void
 *****************************************************************************/
void RegisterInputBoxNotEmptyFunction(void (*f) (void))
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_not_empty_callback = f;
}


/*****************************************************************************
 * FUNCTION
 *  RegisterInputBoxEmptyFunction
 * DESCRIPTION
 *  register input box validation function
 * PARAMETERS
 *  f       [IN]        )(void) function pointer
 * RETURNS
 *  void
 *****************************************************************************/
void RegisterInputBoxEmptyFunction(void (*f) (void))
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_empty_callback = f;
}

S32(*wgui_inputbox_GSM_ext_count_function) (void) = NULL;
S32(*wgui_inputbox_UCS2_count_function) (void) = NULL;


/*****************************************************************************
 * FUNCTION
 *  GetInputBoxUCS2Count
 * DESCRIPTION
 *  Returns the number of UCS2 characters present
 *  in the current inputbox buffer
 * PARAMETERS
 *  void
 * RETURNS
 *  Number of UCS2 characters
 *****************************************************************************/
S32 GetInputBoxUCS2Count(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputbox_UCS2_count_function != NULL)
    {
        return (wgui_inputbox_UCS2_count_function());
    }
    else
    {
        return (0);
    }
}


/*****************************************************************************
 * FUNCTION
 *  GetInputBoxExtendedGSMCount
 * DESCRIPTION
 *  Returns the number of GSM extended characters present
 *  in the current inputbox buffer.
 * PARAMETERS
 *  void
 * RETURNS
 *  Number of GSM extended characters
 *****************************************************************************/
S32 GetInputBoxExtendedGSMCount(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputbox_GSM_ext_count_function != NULL)
    {
        return (wgui_inputbox_GSM_ext_count_function());
    }
    else
    {
        return (0);
    }
}

/* Common functions for single line input box screens */

/* Clear / back key handling  */
/*----------------------------------------------------------------------------
Function:         wgui_singleline_inputbox_RSK_function
Description:      a function pointer store the address of function
               whch handle single input box rsk key
Input parameters :   none
Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/

void (*wgui_singleline_inputbox_RSK_function) (void) = UI_dummy_function;

/* MTK Elvis for QSearch */
void (*wgui_singleline_inputbox_LSK_function) (void) = UI_dummy_function;

/* store rsk key string of single input box */
UI_string_type wgui_singleline_inputbox_LSK_label_string;

/* store rsk key icon of single input box */
PU8 wgui_singleline_inputbox_LSK_label_icon;

U8 wgui_singleline_inputbox_RSK_label_clear = 0;

/* store rsk key string of single input box */
UI_string_type wgui_singleline_inputbox_RSK_label_string;

/* store rsk key icon of single input box */
PU8 wgui_singleline_inputbox_RSK_label_icon;

/* store flag of decimal input of single input box */
U8 wgui_singleline_inputbox_decimal_flag = 0;

/* store flag of decimal input of mode single input box */
U8 wgui_singleline_inputbox_decimal_input_mode_flag = 0;

/* store buffer size of single input box */
S32 wgui_singleline_inputbox_buffer_size = 0;

/* MTK end */


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_singleline_inputbox_right_softkey_down
 * DESCRIPTION
 *  handle single line input box RSK down key
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
/* MTK ELvis 20040104 */
extern void PbookListSearchEntryReq(void);
extern U8 inPinyinSearchScreen;
void refresh_search_list(U8 *name);

extern S32(*cat200_search_function) (U8 *);

void wgui_handle_singleline_inputbox_right_softkey_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_singleline_inputbox_decimal_input_mode_flag)
    {
        if (wgui_singleline_inputbox_decimal_flag)
        {
            UI_buffer_type p = MMI_singleline_inputbox.current_text_p;
            UI_character_type c;

            if (p != MMI_singleline_inputbox.text)
            {
                UI_STRING_GET_PREVIOUS_CHARACTER(p, c);
                if (c == (UI_character_type) '.')
                {
                    wgui_singleline_inputbox_decimal_flag = 0;
                }
            }
        }
        if (gui_single_line_input_box_get_text_length(&MMI_singleline_inputbox) > 0)
        {
            singleline_inputbox_delete_character();
        }
    }
    else
    {
        if (gui_single_line_input_box_get_text_length(&MMI_singleline_inputbox) > 0)
        {
            singleline_inputbox_delete_character();
            /* MTK Elvis 20040527--if the text buffer length is zero, it's not required to call this function to redraw screen */
            if (cat200_search_function)
            {
                refresh_search_list(MMI_singleline_inputbox.text);
            }
            /* MTK end */

        #ifdef __MMI_PINYIN_SEARCH__
            if (inPinyinSearchScreen)
            {
                PbookListSearchEntryReq();
            }
        #endif /* __MMI_PINYIN_SEARCH__ */ 
        }
    }

}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_singleline_inputbox_right_softkey_up
 * DESCRIPTION
 *  handle single line input box RSK up  key
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_singleline_inputbox_right_softkey_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_singleline_inputbox_RSK_function != NULL)
    {
        wgui_singleline_inputbox_RSK_function();
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_register_singleline_inputbox_handle_right_softkey_up
 * DESCRIPTION
 *  register a function handler of RSK up key of single input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_register_singleline_inputbox_handle_right_softkey_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    set_right_softkey_function(wgui_handle_singleline_inputbox_right_softkey_up, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_register_singleline_inputbox_handle_clear_key_up
 * DESCRIPTION
 *  register a function handler of RSK up key of single input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_register_singleline_inputbox_handle_clear_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetKeyHandler(wgui_handle_singleline_inputbox_right_softkey_up, KEY_CLEAR, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_singleline_inputbox_right_softkey_long_press
 * DESCRIPTION
 *  handle long press of RSK of single input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_singleline_inputbox_right_softkey_long_press(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    singleline_inputbox_delete_all_characters();
    if (wgui_singleline_inputbox_decimal_input_mode_flag)
    {
        wgui_singleline_inputbox_decimal_flag = 0;
    }
    /* MTK Terry 20041111--if the text buffer length is zero, it's required to call this function to redraw screen */
    if (cat200_search_function)
    {
        refresh_search_list(MMI_singleline_inputbox.text);
    }
    /* MTK end */
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_singleline_inputbox_input
 * DESCRIPTION
 *  handle input of single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_singleline_inputbox_input(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (gui_single_line_input_box_get_text_length(&MMI_singleline_inputbox) > 0)
    {
    #if defined(__MMI_WITH_C_KEY__)
        if (wgui_singleline_inputbox_RSK_label_clear == 0)
        {
            if (wgui_inputbox_not_empty_callback != NULL)
            {
                wgui_inputbox_not_empty_callback();
            }
            wgui_singleline_inputbox_RSK_label_clear = 1;
            SetKeyHandler(wgui_handle_singleline_inputbox_right_softkey_down, KEY_CLEAR, KEY_EVENT_DOWN);
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_UP);
            SetKeyHandler(wgui_handle_singleline_inputbox_right_softkey_long_press, KEY_CLEAR, KEY_EVENT_LONG_PRESS);

        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        if (wgui_singleline_inputbox_RSK_label_clear == 0)
        {
            set_right_softkey_label((UI_string_type) get_string(STR_GLOBAL_CLEAR));
            set_right_softkey_icon(NULL);
            if (wgui_inputbox_not_empty_callback != NULL)
            {
                wgui_inputbox_not_empty_callback();
            }
            redraw_right_softkey();
            wgui_singleline_inputbox_RSK_label_clear = 1;
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_UP);
            set_right_softkey_function(wgui_handle_singleline_inputbox_right_softkey_down, KEY_EVENT_DOWN);
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
    else
    {
    #if defined(__MMI_WITH_C_KEY__)
        if (wgui_singleline_inputbox_RSK_label_clear == 1)
        {
            if (wgui_inputbox_empty_callback != NULL)
            {
                wgui_inputbox_empty_callback();
            }
            wgui_singleline_inputbox_RSK_label_clear = 0;
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_DOWN);
            /* MTK Terry Temp solution for C key in Enter Pin */
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_UP);
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_LONG_PRESS);

        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 

        if (wgui_singleline_inputbox_RSK_label_clear == 1)
        {
            set_right_softkey_label(wgui_singleline_inputbox_RSK_label_string);
            set_right_softkey_icon(wgui_singleline_inputbox_RSK_label_icon);
            if (wgui_inputbox_empty_callback != NULL)
            {
                wgui_inputbox_empty_callback();
            }
            redraw_right_softkey();
            wgui_singleline_inputbox_RSK_label_clear = 0;
            set_right_softkey_function(wgui_register_singleline_inputbox_handle_right_softkey_up, KEY_EVENT_UP);
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_DOWN);
        }

    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
#if(0)
	if(pixtel_UI_single_line_input_box_test_first_position(&MMI_singleline_inputbox))
	{
		if(wgui_singleline_inputbox_RSK_label_clear==1)
		{
			set_right_softkey_label(wgui_singleline_inputbox_RSK_label_string);
			set_right_softkey_icon(wgui_singleline_inputbox_RSK_label_icon);
			redraw_right_softkey();
			wgui_singleline_inputbox_RSK_label_clear=0;
			set_right_softkey_function(wgui_register_singleline_inputbox_handle_right_softkey_up,KEY_EVENT_UP);
			set_right_softkey_function(UI_dummy_function,KEY_EVENT_DOWN);
		}
	}
#endif /* (0) */ 
    if (MMI_singleline_inputbox.flags & UI_SINGLE_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING)
    {
        if (MMI_singleline_inputbox.text[0] == '+')
        {
            MMI_singleline_inputbox.available_length = (wgui_singleline_inputbox_buffer_size + 1) * ENCODING_LENGTH;
        }
        else
        {
            MMI_singleline_inputbox.available_length = wgui_singleline_inputbox_buffer_size * ENCODING_LENGTH;
        }
    }
    //MTK Elvis 20040517 to turn on this    
    //Draw Information Bar If Enable - Gurinder - 23/4/2004
    if (wgui_inputbox_information_flag)
    {
        wgui_redraw_singleline_input_information_bar();
    }
    /* MTK end */
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_singleline_inputbox_navigate
 * DESCRIPTION
 *  handle navigation  of single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_singleline_inputbox_navigate(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (gui_single_line_input_box_test_first_position(&MMI_singleline_inputbox) ||
        (gui_single_line_input_box_get_text_length(&MMI_singleline_inputbox) <= 0))
    {
        if (wgui_singleline_inputbox_RSK_label_clear == 1)
        {
            set_right_softkey_label(wgui_singleline_inputbox_RSK_label_string);
            set_right_softkey_icon(wgui_singleline_inputbox_RSK_label_icon);
            redraw_right_softkey();
            wgui_singleline_inputbox_RSK_label_clear = 0;
            set_right_softkey_function(wgui_handle_singleline_inputbox_right_softkey_up, KEY_EVENT_UP);
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_DOWN);
        }
    }
    else
    {
        if (wgui_singleline_inputbox_RSK_label_clear == 0)
        {
            set_right_softkey_label((UI_string_type) get_string(STR_GLOBAL_CLEAR));
            set_right_softkey_icon(NULL);
            redraw_right_softkey();
            wgui_singleline_inputbox_RSK_label_clear = 1;
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_UP);
            set_right_softkey_function(wgui_handle_singleline_inputbox_right_softkey_down, KEY_EVENT_DOWN);
        }
    }
}

/* Multitap handling for phone number input mode   */
/*----------------------------------------------------------------------------
Function:         wgui_singleline_inputbox_phone_number_input_complete_multitap_star_key
Description:      handle multital star key of phone number input box
Input parameters :   none
Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/
void wgui_singleline_inputbox_phone_number_input_complete_multitap_star_key(void);

/*----------------------------------------------------------------------------
Function:         wgui_singleline_inputbox_phone_number_input_complete_multitap_zero_key
Description:      handle multitap zero key of phone number input box
Input parameters :   none
Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/
void wgui_singleline_inputbox_phone_number_input_complete_multitap_zero_key(void);


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_handle_multitap_input_complete
 * DESCRIPTION
 *  handle multitap input complete of single line input box
 * PARAMETERS
 *  type        [IN]        Type  of multitap select
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_handle_multitap_input_complete(S32 type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputbox_active_multitap == WGUI_INPUTBOX_MULTITAP_NONE)
    {
        return;
    }
    switch (wgui_inputbox_active_multitap)
    {
        case WGUI_INPUTBOX_EDIT_MULTITAP_STAR:
            if (type == WGUI_INPUTBOX_EDIT_MULTITAP_STAR)
            {
                return;
            }
            if (MMI_singleline_inputbox.flags & UI_SINGLE_LINE_INPUT_BOX_STATE_MULTITAP)
            {
                gui_cancel_timer(wgui_singleline_inputbox_phone_number_input_complete_multitap_star_key);
                gui_multitap_input_complete(&wgui_inputbox_multitap_star_key);
            }
            break;
        #ifdef __MMI_MULTITAP_KEY_0__

        case WGUI_INPUTBOX_EDIT_MULTITAP_ZERO:
            if (type == WGUI_INPUTBOX_EDIT_MULTITAP_ZERO)
            {
                return;
            }
            if (MMI_singleline_inputbox.flags & UI_SINGLE_LINE_INPUT_BOX_STATE_MULTITAP)
            {
                gui_cancel_timer(wgui_singleline_inputbox_phone_number_input_complete_multitap_zero_key);
                gui_multitap_input_complete(&wgui_inputbox_multitap_zero_key);
            }
            break;
        #endif /* __MMI_MULTITAP_KEY_0__ */ 
    }
    wgui_inputbox_active_multitap = WGUI_INPUTBOX_MULTITAP_NONE;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_complete_multitap_star_key
 * DESCRIPTION
 *  handle multitap input complete of single line phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_complete_multitap_star_key(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multitap_input_complete(&wgui_inputbox_multitap_star_key);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_handle_multitap_star_key_down
 * DESCRIPTION
 *  handle multitap input complete of single line phone numebr start keyx
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_handle_multitap_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_singleline_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_STAR);
    wgui_inputbox_active_multitap = WGUI_INPUTBOX_EDIT_MULTITAP_STAR;
    gui_change_multitap_input_state(&wgui_inputbox_multitap_star_key);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_handle_multitap_star_key_up
 * DESCRIPTION
 *  handle multitap input complete of single line phone numebr start key up
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_handle_multitap_star_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_start_timer(MMI_MULTITAP_TIMEOUT, wgui_singleline_inputbox_phone_number_input_complete_multitap_star_key);
}

#ifdef __MMI_MULTITAP_KEY_0__


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_complete_multitap_zero_key
 * DESCRIPTION
 *  handle multitap input complete of single line phone numebr zero key
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_complete_multitap_zero_key(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multitap_input_complete(&wgui_inputbox_multitap_zero_key);
    SetKeyHandler(MMI_key_0_down, KEY_0, KEY_EVENT_DOWN);
    SetKeyHandler(MMI_key_0_down, KEY_0, KEY_REPEAT);
    SetKeyHandler(MMI_key_0_up, KEY_0, KEY_EVENT_UP);

}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_down
 * DESCRIPTION
 *  handle multitap input complete of single line phone numebr zero key down
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_singleline_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ZERO);
    wgui_inputbox_active_multitap = WGUI_INPUTBOX_EDIT_MULTITAP_ZERO;
    gui_change_multitap_input_state(&wgui_inputbox_multitap_zero_key);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_up
 * DESCRIPTION
 *  handle multitap input complete of single line phone numebr zero key up
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_start_timer(MMI_MULTITAP_TIMEOUT + 400, wgui_singleline_inputbox_phone_number_input_complete_multitap_zero_key);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_handle_zero_key_long_press
 * DESCRIPTION
 *  handle long press zero key on phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_handle_zero_key_long_press(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetKeyHandler(UI_dummy_function, KEY_0, KEY_REPEAT);
    singleline_inputbox_delete_character();
    wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_down();
    SetKeyHandler(wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_down, KEY_0, KEY_EVENT_DOWN);
    SetKeyHandler(wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_up, KEY_0, KEY_EVENT_UP);
}

#endif /* __MMI_MULTITAP_KEY_0__ */ 


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_handle_hash_key_down
 * DESCRIPTION
 *  handle hash key press in phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_handle_hash_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_singleline_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    singleline_inputbox_direct_input((UI_character_type) '#');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_input_handle_star_key_down
 * DESCRIPTION
 *  handle star key down  in phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_input_handle_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_singleline_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    singleline_inputbox_direct_input((UI_character_type) '*');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_phone_number_numeric_key_handler
 * DESCRIPTION
 *  handle numeric  key down  in phone number input box
 * PARAMETERS
 *  k           [IN]        
 *  key(?)      [IN]        Code
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_phone_number_numeric_key_handler(MMI_key_code_type k)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_singleline_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    singleline_inputbox_direct_input((UI_character_type) ('0' + k));

#ifdef __MMI_MULTITAP_KEY_0__
    SetKeyHandler(MMI_key_0_down, KEY_0, KEY_EVENT_DOWN);
    SetKeyHandler(MMI_key_0_down, KEY_0, KEY_REPEAT);
    SetKeyHandler(MMI_key_0_up, KEY_0, KEY_EVENT_UP);
#endif /* __MMI_MULTITAP_KEY_0__ */ 
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_keypad_numeric_handle_star_key_down
 * DESCRIPTION
 *  handle star   key down  in single line input box
 * PARAMETERS
 *  void
 *  noen(?)     [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_keypad_numeric_handle_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    singleline_inputbox_direct_input((UI_character_type) '*');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_keypad_numeric_handle_pound_key_down
 * DESCRIPTION
 *  handle pound    key down  in single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_keypad_numeric_handle_pound_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    singleline_inputbox_direct_input((UI_character_type) '#');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_decimal_numeric_handle_pound_key_down
 * DESCRIPTION
 *  handle decimal input  in single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_signed_numeric_handle_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    UI_buffer_type t = MMI_singleline_inputbox.text;
    UI_character_type first_char;
    

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    first_char = MMI_singleline_inputbox.text[0];
    if (first_char == (UI_character_type) '-')
    {
        /* negative to positive */
        gui_single_line_input_box_delete_character_in_pos(&MMI_singleline_inputbox, 0);
        
    }
    else
    {
        /* positive to negative */
        gui_single_line_input_box_insert_character_in_pos(&MMI_singleline_inputbox, (UI_character_type)'-', 0);
    }
    singleline_inputbox_input_callback();
    redraw_singleline_inputbox();
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_decimal_numeric_handle_pound_key_down
 * DESCRIPTION
 *  handle decimal input  in single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_decimal_numeric_handle_pound_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    UI_buffer_type t = MMI_singleline_inputbox.text;
    UI_character_type first_char;
    UI_character_type second_char;
    
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    first_char = MMI_singleline_inputbox.text[0] | (MMI_singleline_inputbox.text[1] << 8);
    second_char = MMI_singleline_inputbox.text[2] | (MMI_singleline_inputbox.text[3] << 8);
    
    if (wgui_singleline_inputbox_decimal_flag)
    {
        UI_editor_play_tone_invalid_data();
        return;
    }
    if (gui_single_line_input_box_test_first_position(&MMI_singleline_inputbox) ||
        (first_char == (UI_character_type)'-' && second_char == 0))
    {
        singleline_inputbox_direct_input((UI_character_type) '0');
    }
    singleline_inputbox_direct_input((UI_character_type) '.');
    wgui_singleline_inputbox_decimal_flag = 1;
}


/*****************************************************************************
 * FUNCTION
 *  redraw_input_mode_only
 * DESCRIPTION
 *  change input mode of single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void redraw_input_mode_only(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 x1 = wgui_inputbox_information_bar_x;
    S32 y1 = wgui_inputbox_information_bar_y;
    S32 x2 = x1 + wgui_inputbox_information_bar_width - 1;
    S32 y2 = y1 + wgui_inputbox_information_bar_height - 1;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 
    wgui_input_information_background(x1, y1, x2, y2);
    wgui_show_input_mode(MMI_current_input_mode, wgui_inputbox_information_icon);
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(x1, y1, x2, y2);
#endif /* (UI_DOUBLE_BUFFER_SUPPORT) */ 

}

/* MTK Elvis to add some APIs for Qsearch */
#if defined(__MMI_PHB_QUICK_SEARCH__)
extern void mmi_phb_quick_search_change_input_mode(void);
#endif 


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_qsearch_singleline_inputbox_change_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_qsearch_singleline_inputbox_change_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U8 i;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_lock_double_buffer();
    disable_active_multitap();
    i = 0;
    while (MMI_qsearch_input_mode_set[i] != MMI_current_input_mode && MMI_qsearch_input_mode_set[i] != 0xff)
    {
        i++;
    }
    if (MMI_qsearch_input_mode_set[i] == 0xff)  /* cannot be found */
    {
        MMI_current_input_mode = MMI_qsearch_input_mode_set[0];
    }
    else if (MMI_qsearch_input_mode_set[i + 1] == 0xff) /* cyclic to the first one */
    {
        MMI_current_input_mode = MMI_qsearch_input_mode_set[0];

    }
    else    /* next one */
    {
        MMI_current_input_mode = MMI_qsearch_input_mode_set[i + 1];
    }

    switch (MMI_current_input_mode)
    {
        case INPUT_MODE_MMI_LOWERCASE_ABC:
        case INPUT_MODE_MMI_NUMERIC:
            /* PMT dara added for Multitap thai */
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MMI_MULTITAP_THAI:
    #endif 
            /* MTK Terry for Spanish French German Italian Russian Turkish Portuguese Indonesian Malay Vietnamese */
    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MMI_LOWERCASE_SPANISH:
    #endif 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MMI_LOWERCASE_DANISH:
    #endif 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_MODE_MMI_LOWERCASE_POLISH:
    #endif 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MMI_LOWERCASE_FRENCH:
    #endif 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MMI_LOWERCASE_GERMAN:
    #endif 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MMI_LOWERCASE_ITALIAN:
    #endif 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MMI_LOWERCASE_RUSSIAN:
    #endif 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MMI_LOWERCASE_BULGARIAN:
    #endif 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MMI_LOWERCASE_UKRAINIAN:
    #endif 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MMI_LOWERCASE_TURKISH:
    #endif 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MMI_LOWERCASE_PORTUGUESE:
    #endif 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MMI_LOWERCASE_INDONESIAN:
    #endif 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MMI_LOWERCASE_CZECH:
    #endif 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MMI_LOWERCASE_MALAY:
    #endif 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MMI_LOWERCASE_VIETNAMESE:
    #endif 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MMI_LOWERCASE_FINNISH:
    #endif 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MMI_LOWERCASE_HUNGARIAN:
    #endif 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MMI_LOWERCASE_SWEDISH:
    #endif 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MMI_MULTITAP_HEBREW:
    #endif 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MMI_LOWERCASE_SLOVAK:
    #endif 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MMI_LOWERCASE_DUTCH:
    #endif 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MMI_LOWERCASE_NORWEGIAN:
    #endif 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MMI_MULTITAP_ARABIC:
    #endif 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MMI_ARABIC_NUMERIC:
    #endif 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_MODE_MMI_MULTITAP_PERSIAN:
    #endif 
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_MODE_MMI_MULTITAP_URDU:
    #endif 
/* PMT START MAUI_00026503 */			
    #if defined(__MMI_MULTITAP_HINDI__)
        case INPUT_MODE_MMI_MULTITAP_HINDI:
    #endif
    #if defined(__MMI_MULTITAP_MARATHI__)
        case INPUT_MODE_MMI_MULTITAP_MARATHI:
    #endif
	#if defined(__MMI_MULTITAP_TAMIL__)
        case INPUT_MODE_MMI_MULTITAP_TAMIL:
    #endif
    #if defined(__MMI_MULTITAP_BENGALI__)
        case INPUT_MODE_MMI_MULTITAP_BENGALI:
    #endif
    #if defined(__MMI_MULTITAP_TELUGU__)
        case INPUT_MODE_MMI_MULTITAP_TELUGU:
    #endif
    #if defined(__MMI_MULTITAP_PUNJABI__)
        case INPUT_MODE_MMI_MULTITAP_PUNJABI:
    #endif
/* PMT END MAUI_00026503 */
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MMI_LOWERCASE_CROATIAN:
    #endif 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MMI_LOWERCASE_ROMANIAN:
    #endif 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MMI_LOWERCASE_SLOVENIAN:
    #endif 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MMI_LOWERCASE_GREEK:
    #endif 
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_MODE_MMI_MULTITAP_BPMF:
    #if defined(__MMI_ZI__)
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
    #else 
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
    #endif 
            break;

        case INPUT_MODE_MMI_MULTITAP_PINYIN:
    #if defined(__MMI_ZI__)
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
    #else 
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
    #endif 
            break;

        case INPUT_MODE_MMI_SM_STROKE:
    #if defined(__MMI_ZI__)
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
    #else 
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
    #endif 
            break;

        case INPUT_MODE_MMI_TR_STROKE:
    #if defined(__MMI_ZI__)
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
    #else 
            wgui_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
    #endif 
            break;
    }
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
#if 1	/*This is full set of quick serach input method*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#else	/*Turn on 4 input method for traditional environment*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* 0 */ 

    /* MTK Elvis 20040517 to avoid the empty MMI_singleline_inputbox case */
    if (gui_single_line_input_box_get_text_length(&MMI_singleline_inputbox) > 0)
    {
        singleline_inputbox_delete_all_characters();
    }
    /* MTK end */
    inputbox_change_mode();
    set_MMI_current_input_type();
#if defined(__MMI_PHB_QUICK_SEARCH__)
    mmi_phb_quick_search_change_input_mode();
#endif 
    refresh_search_list(NULL);

    /* redraw_input_mode_only(); */
    wgui_redraw_singleline_input_information_bar();
    redraw_singleline_inputbox();
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(
        0,
        0,
        UI_device_width, 
        UI_device_height); 
}



/*****************************************************************************
 * FUNCTION
 *  wgui_handle_singleline_inputbox_change_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_singleline_inputbox_change_input_mode(void)
{
#ifdef __MMI_PINYIN_SEARCH__
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* wgui_singleline_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY); */
    if (inPinyinSearchScreen)
    {
        menu_shortcut_handler_display = 1;
    }

    disable_active_multitap();
    change_input_mode();
    switch (MMI_current_input_mode)
    {
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
        case INPUT_MODE_123:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #if defined(__MMI_T9__)
        case INPUT_MODE_TR_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SM_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_TR_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SM_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_UPPERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif
    #if defined(__MMI_T9_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_SPANISH__) */ 
    #if defined(__MMI_T9_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_DANISH__) */ 
    #if defined(__MMI_T9_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_POLISH__) */ 
    #if defined(__MMI_T9_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_FRENCH__) */ 
    #if defined(__MMI_T9_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_GERMAN__) */ 
    #if defined(__MMI_T9_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_ITALIAN__) */ 

    #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

    #if defined(__MMI_T9_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_TURKISH__) */ 

    #if defined (__MMI_T9_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
    #endif /* defined (__MMI_T9_RUSSIAN__) */ 
    #if defined (__MMI_T9_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
    #endif /* defined (__MMI_T9_BULGARIAN__) */ 
    #if defined(__MMI_T9_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_INDONESIAN__) */ 
    #if defined(__MMI_T9_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_CZECH__) */ 
    #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_PORTUGUESE__) */ 

    #if defined(__MMI_T9_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_FINNISH__) */ 
    #if defined(__MMI_T9_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_HUNGARIAN__) */ 

    #if defined (__MMI_T9_ARABIC__)
        case INPUT_MODE_SMART_ARABIC:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined (__MMI_T9_ARABIC__) */ 
    #if defined(__MMI_T9_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_GREEK__) */ 
    #if defined (__MMI_T9_HEBREW__)
        case INPUT_MODE_SMART_HEBREW:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined (__MMI_T9_HEBREW__) */ 
    #if defined (__MMI_T9_HINDI__)
        case INPUT_MODE_SMART_HINDI:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined (__MMI_T9_HINDI__) */ 
    #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
    #if defined(__MMI_T9_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_DUTCH__) */ 
    #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
    #if defined(__MMI_T9_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_SWEDISH__) */ 
    #if defined(__MMI_T9_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_MALAY__) */ 
    #if defined(__MMI_T9_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_CROATIAN__) */ 
    #if defined(__MMI_T9_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_SLOVAK__) */ 
    #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_T9_ROMANIAN__) */ 
    #elif defined(__MMI_ZI__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_MODE_TR_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_MODE_SM_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_MODE_TR_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO);
            break;
        case INPUT_MODE_SM_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO);
            break;
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
    #endif
    #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
    #if defined(__MMI_ZI_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
    #endif /* defined(__MMI_ZI_DANISH__) */ 
    #if defined(__MMI_ZI_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
    #endif /* defined(__MMI_ZI_POLISH__) */ 
    #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
    #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
    #if defined(__MMI_ZI_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_ZI_GERMAN__) */ 
    #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_ZI_ITALIAN__) */ 
    #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
    #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_MODE_SMART_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_SMART_LOWERCASE_UKRAINIAN:
    #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_ZI_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_ZI_TURKISH__) */ 
    #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
    #if defined(__MMI_ZI_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_ZI_INDONESIAN__) */ 
    #if defined(__MMI_ZI_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
    #endif /* defined(__MMI_ZI_CZECH__) */ 
    #if defined(__MMI_ZI_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
    #endif /* defined(__MMI_ZI_MALAY__) */ 
    #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
    #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_ZI_SLOVAK__) */ 
    #if defined(__MMI_ZI_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_ZI_DUTCH__) */ 
    #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_ZI_SWEDISH__) */ 
    #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_ZI_CROATIAN__) */ 
    #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
    #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
    #if defined(__MMI_ZI_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
    #endif /* defined(__MMI_ZI_GREEK__) */ 
    #if defined(__MMI_ZI_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_ZI_FINNISH__) */ 
    #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #elif defined(__MMI_CSTAR__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
        case INPUT_MODE_SM_MULTITAP_PINYIN:
        case INPUT_MODE_TR_BOPOMO:
        case INPUT_MODE_SM_PINYIN:
        case INPUT_MODE_TR_STROKE:
        case INPUT_MODE_SM_STROKE:
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
    #endif
    #if defined(__MMI_CSTAR_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_CSTAR_EU_SPANISH__) || defined(__MMI_CSTAR_SA_SPANISH__) */ 
    #if defined(__MMI_CSTAR_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
    #endif /* defined(__MMI_CSTAR_DANISH__) */ 
    #if defined(__MMI_CSTAR_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
    #endif /* defined(__MMI_CSTAR_POLISH__) */ 
    #if defined(__MMI_CSTAR_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_CSTAR_NORWEGIAN__) */ 
    #if defined(__MMI_CSTAR_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_CSTAR_FRENCH__) */ 
    #if defined(__MMI_CSTAR_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_CSTAR_GERMAN__) */ 
    #if defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_CSTAR_ITALIAN__) */ 
    #if defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_CSTAR_RUSSIAN__) */ 
    #if defined(__MMI_CSTAR_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_CSTAR_BULGARIAN__) */ 
    #if defined(__MMI_CSTAR_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_CSTAR_TURKISH__) */ 
    #if defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_CSTAR_EU_PORTUGUESE__) */ 
    #if defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_CSTAR_INDONESIAN__) */ 
    #if defined(__MMI_CSTAR_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
    #endif /* defined(__MMI_CSTAR_CZECH__) */ 
    #if defined(__MMI_CSTAR_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
    #endif /* defined(__MMI_CSTAR_MALAY__) */ 
    #if defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_CSTAR_VIETNAMESE__) */ 
    #if defined(__MMI_CSTAR_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
    #if defined(__MMI_CSTAR_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
    #if defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
    #if defined(__MMI_CSTAR_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
    #if defined(__MMI_CSTAR_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 
    #if defined(__MMI_CSTAR_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 
    #if defined(__MMI_CSTAR_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
    #endif /* defined(__MMI_CSTAR_GREEK__) */ 
    #if defined(__MMI_CSTAR_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
    #if defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    
    #endif 
        default:
            wgui_inputbox_information_icon = NULL;
            break;
    }
    redraw_input_mode_only();
    redraw_singleline_inputbox();
#else /* __MMI_PINYIN_SEARCH__ */ 
    /* wgui_singleline_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY); */
    disable_active_multitap();
    change_input_mode();
    /* Draw Information Bar If Enable - Gurinder - 23/4/2004 */
    if (wgui_inputbox_information_flag)
    {
        wgui_redraw_singleline_input_information_bar();
    }
#endif /* __MMI_PINYIN_SEARCH__ */ 
}

U8 wgui_singleline_inputbox_input_mode_changed = 0;
U8 wgui_singleline_inputbox_input_type = 0;


/*****************************************************************************
 * FUNCTION
 *  wgui_change_singleline_inputbox_input_type
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_change_singleline_inputbox_input_type(U8 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_singleline_inputbox_input_type = input_type;
    wgui_singleline_inputbox_input_mode_changed = 1;
}



/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_insert_symbol
 * DESCRIPTION
 *  insert symbol in input box
 * PARAMETERS
 *  symbol      [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_insert_symbol(UI_character_type symbol)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    singleline_inputbox_direct_input(symbol);
}



/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_validation_callback
 * DESCRIPTION
 *  input box validation call back function
 * PARAMETERS
 *  text            [IN]        Buffer of input box
 *  cursor          [IN]        
 *  text_length     [IN]        Length of text
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_singleline_inputbox_validation_callback(UI_buffer_type text, UI_buffer_type cursor, S32 text_length)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputbox_validation_callback != NULL && mmi_ime_ui_screen_state_query() == MMI_TRUE)
    {
        wgui_inputbox_validation_callback(text, cursor, text_length);
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_get_UCS2_count
 * DESCRIPTION
 *  UCS2 coumt of input box :- length of string in UNCODE mode of input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
S32 wgui_singleline_inputbox_get_UCS2_count(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (MMI_singleline_inputbox.UCS2_count);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_get_GSM_ext_count
 * DESCRIPTION
 *  Returns the number of GSM extended characters in the
 *  single line input box buffer
 * PARAMETERS
 *  void
 * RETURNS
 *  Number of GSM extended characters
 *****************************************************************************/
S32 wgui_singleline_inputbox_get_GSM_ext_count(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (MMI_singleline_inputbox.GSM_ext_count);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_singleline_inputbox_test_change_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  byte
 *****************************************************************************/
U8 wgui_singleline_inputbox_test_change_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (MMI_singleline_inputbox.flags & UI_SINGLE_LINE_INPUT_BOX_USE_ENCODING_BASED_LENGTH)
    {
        if (MMI_singleline_inputbox.UCS2_count <= 0)
        {
            if ((MMI_singleline_inputbox.flags & UI_SINGLE_LINE_INPUT_BOX_ONE_LESS_CHARACTER) &&
                (MMI_singleline_inputbox.text_length >= ((MMI_singleline_inputbox.available_length >> 1) - 1)))
            {
                return (0);
            }
            else if (MMI_singleline_inputbox.text_length >= (MMI_singleline_inputbox.available_length >> 1))
            {
                return (0);
            }
            else
            {
                return (1);
            }
        }
        else
        {
            return (1);
        }
    }
    else
    {
        return (1);
    }
}


extern const sIMEModeDetails *wgui_get_input_method_info_by_input_mode(U16 input_mode);
extern const sIMEModeDetails *wgui_get_input_method_info_by_input_type(U16 input_type);
/*****************************************************************************
 * FUNCTION
 *  wgui_is_english_only_input_type
 * DESCRIPTION
 *  test if this input type is english only input type
 * PARAMETERS
 *  input_type      [in]    S16 input_type   
 * RETURNS
 *  MMI_BOOL MMI_TRUE --> english only input type , MMI_FALSE --> else
 *****************************************************************************/
MMI_BOOL wgui_is_english_only_input_type(S16 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    const sIMEModeDetails *info = NULL;
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    info = wgui_get_input_method_info_by_input_type(input_type);
    if (info == NULL)
        return MMI_FALSE;
    if (IME_IS_ENGLISH_ONLY(info->Lang_Special_Attrib))
        return MMI_TRUE;
    else
        return MMI_FALSE;
    
}


/*****************************************************************************
 * FUNCTION
 *  wgui_is_overridable_input_type
 * DESCRIPTION
 *  
 * PARAMETERS
 *  input_type      [IN]     S16 input_type    
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL wgui_is_overridable_input_type(S16 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    input_type &= INPUT_TYPE_MASK;

    if (input_type == INPUT_TYPE_NONE ||
        input_type == INPUT_TYPE_NUMERIC ||
        input_type == INPUT_TYPE_NUMERIC_PASSWORD ||
        input_type == INPUT_TYPE_SIGNED_NUMERIC ||
        input_type == INPUT_TYPE_SIGNED_NUMERIC_PASSWORD ||
        input_type == INPUT_TYPE_PHONE_NUMBER ||
        input_type == INPUT_TYPE_SAT_NUMERIC_PASSWORD ||
        input_type == INPUT_TYPE_KEYPAD_NUMERIC ||
        input_type == INPUT_TYPE_DECIMAL_NUMERIC || 
        input_type == INPUT_TYPE_DECIMAL_NUMERIC_PASSWORD ||
        input_type == INPUT_TYPE_SIGNED_DECIMAL_NUMERIC || 
        input_type == INPUT_TYPE_SIGNED_DECIMAL_NUMERIC_PASSWORD)
    {
        return MMI_FALSE;
    }
    else
    {
        return MMI_TRUE;
    }
}

/*****************************************************************************
 * FUNCTION
 *  wgui_is_smart_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  input_type      [IN]     S16 input_type    
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL wgui_is_smart_input_mode(U16 input, MMI_BOOL is_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U16 source = 0;
    U16 attribute = 0;
    const sIMEModeDetails *info = NULL;
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (is_type)
    {
        source =  (input & INPUT_TYPE_MASK);
        info = wgui_get_input_method_info_by_input_type(source);
    }
    else
    {
        source = input;
        info = wgui_get_input_method_info_by_input_mode(source);
    }

    if (info == NULL)
        return MMI_FALSE;
    attribute = info->Mode_Special_Attrib;
    if (IME_IS_SMART_INPUT_METHOD(attribute))
    {
        return MMI_TRUE;
    }
    else
    {
        return MMI_FALSE;
    }

}


/*****************************************************************************
 * FUNCTION
 *  wgui_get_input_method_info_by_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  input_type      [IN]     S16 input_type    
 * RETURNS
 *  
 *****************************************************************************/
const sIMEModeDetails*  wgui_get_input_method_info_by_input_mode(U16 input_mode)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 i = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    while (gIMEModeArray[i].IME_Mode_ID != 0xff)
    {
        if (gIMEModeArray[i].IME_Mode_ID == input_mode)
        {
            return &gIMEModeArray[i];
        }
        i ++;
    }    
    return NULL;
}



/*****************************************************************************
 * FUNCTION
 *  wgui_get_input_method_info_by_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  input_type      [IN]     S16 input_type    
 * RETURNS
 *  
 *****************************************************************************/
const sIMEModeDetails* wgui_get_input_method_info_by_input_type(U16 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 i = 0;
    U16 itype = (input_type & INPUT_TYPE_MASK);

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    while (gIMEModeArray[i].IME_Type_ID != 0xff)
    {
        if (gIMEModeArray[i].IME_Type_ID == itype)
        {
            return &gIMEModeArray[i];
        }
        i ++;
    }    
    return NULL;
}

/*****************************************************************************
 * FUNCTION
 *  wgui_is_Chinese_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  input_mode      [IN]     S16 input_mode    
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL wgui_is_Chinese_input_mode(U16 input_mode)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U16 wlang = IME_WRITING_LANG_NONE;
    const sIMEModeDetails *info = NULL;
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    info = wgui_get_input_method_info_by_input_mode(input_mode);
    if (info == NULL)
        return MMI_FALSE;
    
    wlang = info->lang_id;
    if (IME_IS_CHINESE_WRITING_LANG(wlang))
    {
        return MMI_TRUE;
    }
    else
    {
        return MMI_FALSE;
    }

}


/*****************************************************************************
 * FUNCTION
 *  wgui_set_default_input_type
 * DESCRIPTION
 *  set default input type
 * PARAMETERS
 *  input_type      [OUT]       
 * RETURNS
 *  void
 *****************************************************************************/
extern pBOOL IsTrChineseSet(void);
extern pBOOL IsSmChineseSet(void);

void wgui_set_default_input_type(U16 *input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U16 itype = (*input_type) & INPUT_TYPE_MASK;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* MTK Terry for multitap issue */
    if (*input_type & (INPUT_TYPE_OVERRIDE_DEFAULT | INPUT_TYPE_USE_ONLY_ENGLISH_MODES))
    {
        if (*input_type & (INPUT_TYPE_USE_ONLY_ENGLISH_MODES))
        {
            set_english_only_multitap();
         #if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__)  || defined(__MMI_MIXED_LANG_SUPPORT__)  
            if (wgui_is_english_only_input_type(MMI_prefered_input_type) && wgui_is_overridable_input_type(*input_type))
            {
                if (!(mmi_is_alphanum_pass && 
                      wgui_is_smart_input_mode(MMI_prefered_input_type, MMI_TRUE)))
                {
                    /* In password input type, smart ABC is not allowed. */
                    *input_type &= 0xff00;
                    *input_type |= MMI_prefered_input_type;
                }
            }
        #endif /* defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__)  || defined(__MMI_MIXED_LANG_SUPPORT__) */    
        }
        return;
    }
    else
    {
        set_normal_multitap();
    }
#if defined(__MMI_T9__) || defined(__MMI_ZI__) || defined(__MMI_KA__) || defined(__MMI_ITAP__) || defined(__MMI_CSTAR__)
    if ((itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_SENTENCECASE) ||
        (itype == INPUT_TYPE_MMI_MULTITAP_BPMF) ||
        (itype == INPUT_TYPE_MMI_MULTITAP_PINYIN) ||
        (itype == INPUT_TYPE_MMI_SM_STROKE) ||
        (itype == INPUT_TYPE_MMI_TR_STROKE) ||
        (itype == INPUT_TYPE_MMI_NUMERIC) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_MULTITAP_THAI) ||
        (itype == INPUT_TYPE_MMI_MULTITAP_THAI) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SPANISH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SPANISH) || (itype == INPUT_TYPE_MMI_LOWERCASE_SPANISH) ||
#if defined(__MMI_MULTITAP_DANISH__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DANISH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DANISH) || (itype == INPUT_TYPE_MMI_LOWERCASE_DANISH) ||
#endif /* defined(__MMI_MULTITAP_DANISH__) */ 
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_POLISH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_POLISH) || (itype == INPUT_TYPE_MMI_LOWERCASE_POLISH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FRENCH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FRENCH) ||
        (itype == INPUT_TYPE_MMI_LOWERCASE_FRENCH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GERMAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GERMAN) ||
        (itype == INPUT_TYPE_MMI_LOWERCASE_GERMAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ITALIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ITALIAN) ||
        (itype == INPUT_TYPE_MMI_LOWERCASE_ITALIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_RUSSIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_RUSSIAN) || (itype == INPUT_TYPE_MMI_LOWERCASE_RUSSIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_BULGARIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_BULGARIAN) || (itype == INPUT_TYPE_MMI_LOWERCASE_BULGARIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_TURKISH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_TURKISH) ||
        (itype == INPUT_TYPE_MMI_LOWERCASE_TURKISH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_PORTUGUESE) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_PORTUGUESE) ||
        (itype == INPUT_TYPE_MMI_LOWERCASE_PORTUGUESE) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_INDONESIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_INDONESIAN) || (itype == INPUT_TYPE_MMI_LOWERCASE_INDONESIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CZECH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CZECH) || (itype == INPUT_TYPE_MMI_LOWERCASE_CZECH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_MALAY) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_MALAY) ||
        (itype == INPUT_TYPE_MMI_LOWERCASE_MALAY) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_VIETNAMESE) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_VIETNAMESE) || (itype == INPUT_TYPE_MMI_LOWERCASE_VIETNAMESE) ||
#if defined(__MMI_MULTITAP_FINNISH__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FINNISH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FINNISH) || (itype == INPUT_TYPE_MMI_LOWERCASE_FINNISH) ||
#endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
#if defined(__MMI_MULTITAP_HUNGARIAN__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_HUNGARIAN) ||       /* Gurdev Start Hungarian */
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_HUNGARIAN) ||       /* Gurdev Start Hungarian */
        (itype == INPUT_TYPE_MMI_LOWERCASE_HUNGARIAN) ||    /* Gurdev Start Hungarian */
#endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
#if defined(__MMI_MULTITAP_SLOVAK__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVAK) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVAK) || (itype == INPUT_TYPE_MMI_LOWERCASE_SLOVAK) ||
#endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DUTCH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DUTCH) || (itype == INPUT_TYPE_MMI_LOWERCASE_DUTCH) ||
#if defined(__MMI_MULTITAP_SWEDISH__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SWEDISH) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SWEDISH) || (itype == INPUT_TYPE_MMI_LOWERCASE_SWEDISH) ||
#endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
#if defined(__MMI_MULTITAP_CROATIAN__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CROATIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CROATIAN) || (itype == INPUT_TYPE_MMI_LOWERCASE_CROATIAN) ||
#endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
#if defined(__MMI_MULTITAP_ROMANIAN__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ROMANIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ROMANIAN) || (itype == INPUT_TYPE_MMI_LOWERCASE_ROMANIAN) ||
#endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
#if defined(__MMI_MULTITAP_SLOVENIAN__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVENIAN) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVENIAN) || (itype == INPUT_TYPE_MMI_LOWERCASE_SLOVENIAN) ||
#endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
#if defined(__MMI_MULTITAP_GREEK__)
        (itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GREEK) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GREEK) || (itype == INPUT_TYPE_MMI_LOWERCASE_GREEK) ||
#endif /* defined(__MMI_MULTITAP_GREEK__) */ 
#if defined(__MMI_MULTITAP_HEBREW__)
        (itype == INPUT_TYPE_ALPHANUMERIC_MULTITAP_HEBREW) || (itype == INPUT_TYPE_MMI_MULTITAP_HEBREW) ||
#endif 
        (itype == INPUT_TYPE_MMI_LOWERCASE_ABC))
    {
    #if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
        if (!((MMI_prefered_input_type < INPUT_TYPE_MAX_NUM) && (MMI_prefered_input_type > 0)))
        {
            *input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE;
        }
        else
        {
            *input_type = MMI_prefered_input_type;
        }
    #else /* defined(__MMI_PREFER_INPUT_METHOD__) */ 
    #if defined(__MMI_T9_TR_CHINESE__) || defined(__MMI_T9_SM_CHINESE__) || defined(__MMI_ZI_TR_CHINESE__) || defined(__MMI_ZI_SM_CHINESE__) || defined(__MMI_ITAP_TR_CHINESE__) || defined(__MMI_ITAP_SM_CHINESE__)
        if (IsTrChineseSet())
        {
        #if defined(__MMI_T9_MULTITAP_PHONETIC_INPUT__) || defined(__MMI_ZI_MULTITAP_PHONETIC_INPUT__) || defined(__MMI_ITAP_MULTITAP_PHONETIC_INPUT__)
            *input_type = INPUT_TYPE_TR_MULTITAP_BOPOMO;
        #elif (defined(__MMI_T9_SMART_PHONETIC_INPUT__) && defined(__MMI_T9_AMB_BPMF_INPUT__))||defined(__MMI_ZI_SMART_PHONETIC_INPUT__)||defined(__MMI_ITAP_SMART_PHONETIC_INPUT__)
            *input_type = INPUT_TYPE_TR_BOPOMO;
        #else 
            UI_UNUSED_PARAMETER(input_type);
        #endif 
        }
        else if (IsSmChineseSet())
        {
        #if defined(__MMI_T9_MULTITAP_PHONETIC_INPUT__) || defined(__MMI_ZI_MULTITAP_PHONETIC_INPUT__) || defined(__MMI_ITAP_MULTITAP_PHONETIC_INPUT__)
            *input_type = INPUT_TYPE_SM_MULTITAP_PINYIN;
        #elif defined(__MMI_T9_SMART_PHONETIC_INPUT__)||defined(__MMI_ZI_SMART_PHONETIC_INPUT__)||defined(__MMI_ITAP_SMART_PHONETIC_INPUT__)
            *input_type = INPUT_TYPE_SM_PINYIN;
        #else 
            UI_UNUSED_PARAMETER(input_type);
        #endif 
        }
    #elif defined(__MMI_KA__)
        *input_type = INPUT_TYPE_SM_PINYIN;
    #endif 
    #endif /* defined(__MMI_PREFER_INPUT_METHOD__) */ 
    }
#else /* defined(__MMI_T9__) || defined(__MMI_ZI__) || defined(__MMI_KA__) || defined(__MMI_ITAP__) */ 
    if ((itype == INPUT_TYPE_ALPHANUMERIC_UPPERCASE) || (itype == INPUT_TYPE_ALPHANUMERIC_LOWERCASE) ||
        (itype == INPUT_TYPE_ALPHANUMERIC_SENTENCECASE))
    {
    #if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
        if (!((MMI_prefered_input_type < INPUT_TYPE_MAX_NUM) && (MMI_prefered_input_type > 0)))
        {
            *input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE;
        }
        else
        {
            *input_type = MMI_prefered_input_type;
        }
    #else /* defined(__MMI_PREFER_INPUT_METHOD__) */ 
        UI_UNUSED_PARAMETER(input_type);
    #endif /* defined(__MMI_PREFER_INPUT_METHOD__) */ 
    }
#endif /* defined(__MMI_T9__) || defined(__MMI_ZI__) || defined(__MMI_KA__) || defined(__MMI_ITAP__) */ 
}



/*****************************************************************************
 * FUNCTION
 *  wgui_set_qsearch_default_input_type
 * DESCRIPTION
 *  set qsearch default input type
 * PARAMETERS
 *  input_type      [OUT]       
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_set_qsearch_default_input_type(U16 *input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U16 itype = (*input_type) & INPUT_TYPE_MASK;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    switch (itype)
    {
        case INPUT_TYPE_TR_BOPOMO:
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            *input_type = INPUT_TYPE_MMI_MULTITAP_BPMF;
            break;

        case INPUT_TYPE_SM_PINYIN:
        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            *input_type = INPUT_TYPE_MMI_MULTITAP_PINYIN;
            break;

        case INPUT_TYPE_TR_STROKE:
            *input_type = INPUT_TYPE_MMI_TR_STROKE;
            break;

        case INPUT_TYPE_SM_STROKE:
            *input_type = INPUT_TYPE_MMI_SM_STROKE;
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE:
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE:
        case INPUT_TYPE_ALPHANUMERIC_SENTENCECASE:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_ABC;
            break;
        case INPUT_TYPE_NUMERIC:
        case INPUT_TYPE_NUMERIC_CHANGEABLE:
            *input_type = INPUT_TYPE_MMI_NUMERIC;
            break;
    #if defined (__MMI_MULTITAP_HINDI__) 
        case INPUT_TYPE_MULTITAP_HINDI:
        case INPUT_TYPE_MMI_MULTITAP_HINDI:
        case INPUT_TYPE_SMART_HINDI:
            *input_type = INPUT_TYPE_MMI_MULTITAP_HINDI;
            break;
    #endif /* #if defined (__MMI_MULTITAP_HINDI__)  */ 
    #if defined (__MMI_MULTITAP_MARATHI__)  
        case INPUT_TYPE_MULTITAP_MARATHI:
        case INPUT_TYPE_MMI_MULTITAP_MARATHI:
            *input_type = INPUT_TYPE_MMI_MULTITAP_MARATHI;
            break;
    #endif /* #if defined (__MMI_MULTITAP_MARATHI__)   */ 
	#if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_TYPE_MULTITAP_TAMIL:
        case INPUT_TYPE_MMI_MULTITAP_TAMIL:
            *input_type = INPUT_TYPE_MMI_MULTITAP_TAMIL;
            break;
    #endif /* defined(__MMI_MULTITAP_TAMIL__) */
    #if defined(__MMI_MULTITAP_BENGALI__)
        case INPUT_TYPE_MULTITAP_BENGALI:
        case INPUT_TYPE_MMI_MULTITAP_BENGALI:
            *input_type = INPUT_TYPE_MMI_MULTITAP_BENGALI;
            break;
    #endif /* defined(__MMI_MULTITAP_BENGALI__) */ 
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_TYPE_ALPHANUMERIC_URDU:
            *input_type = INPUT_TYPE_MMI_MULTITAP_URDU;
            break;
    #endif
	#if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_TYPE_MULTITAP_PUNJABI:
        case INPUT_TYPE_MMI_MULTITAP_PUNJABI:
            *input_type = INPUT_TYPE_MMI_MULTITAP_PUNJABI;
            break;
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_TYPE_MULTITAP_TELUGU:
        case INPUT_TYPE_MMI_MULTITAP_TELUGU:
            *input_type = INPUT_TYPE_MMI_MULTITAP_TELUGU;
            break;
    #endif 
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_TYPE_ALPHANUMERIC_MULTITAP_THAI:
        case INPUT_TYPE_MMI_MULTITAP_THAI:
        case INPUT_TYPE_SMART_THAI:    
            *input_type = INPUT_TYPE_MMI_MULTITAP_THAI;
            break;
    #endif /* defined(__MMI_MULTITAP_THAI__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_ALPHANUMERIC_ARABIC:
        case INPUT_TYPE_MMI_MULTITAP_ARABIC:
        case INPUT_TYPE_SMART_ARABIC:    
            *input_type = INPUT_TYPE_MMI_MULTITAP_ARABIC;
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_ARABIC_NUMERIC:
        case INPUT_TYPE_MMI_ARABIC_NUMERIC:
            *input_type = INPUT_TYPE_MMI_ARABIC_NUMERIC;
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_PERSIAN:
        case INPUT_TYPE_MMI_MULTITAP_PERSIAN:
        case INPUT_TYPE_SMART_PERSIAN:    
            *input_type = INPUT_TYPE_MMI_MULTITAP_PERSIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_PERSIAN__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FRENCH:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FRENCH:
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:            
            *input_type = INPUT_TYPE_MMI_LOWERCASE_FRENCH;
            break;
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DUTCH:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DUTCH:
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_DUTCH;
            break;
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DANISH:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DANISH:
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_DANISH;
            break;
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SPANISH:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SPANISH:
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_SPANISH;
            break;
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_POLISH:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_POLISH:
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_POLISH;
            break;
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_PORTUGUESE:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_PORTUGUESE:
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_PORTUGUESE;
            break;
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ITALIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ITALIAN:
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_ITALIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GERMAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GERMAN:
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_GERMAN;
            break;
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_MALAY:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_MALAY:
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_MALAY;
            break;
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_INDONESIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_INDONESIAN:
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_INDONESIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CZECH:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CZECH:
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_CZECH;
            break;
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_NORWEGIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_NORWEGIAN:
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_NORWEGIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVAK:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVAK:
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_SLOVAK;
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_HUNGARIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_HUNGARIAN:
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_HUNGARIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_VIETNAMESE:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_VIETNAMESE:
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_VIETNAMESE;
            break;
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_TURKISH:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_TURKISH:
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_TURKISH;
            break;
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_RUSSIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_RUSSIAN:
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_RUSSIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_BULGARIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_BULGARIAN:
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_BULGARIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_UKRAINIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_UKRAINIAN:
        case INPUT_TYPE_SMART_UPPERCASE_UKRAINIAN:
        case INPUT_TYPE_SMART_LOWERCASE_UKRAINIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_UKRAINIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GREEK:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GREEK:
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_GREEK;
            break;
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SWEDISH:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SWEDISH:
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_SWEDISH;
            break;
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CROATIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CROATIAN:
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_CROATIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ROMANIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ROMANIAN:
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_ROMANIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVENIAN:
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVENIAN:
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_SLOVENIAN;
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 

        default:
            *input_type = INPUT_TYPE_MMI_LOWERCASE_ABC;
            break;
    }

}



/*****************************************************************************
 * FUNCTION
 *  wgui_set_singleline_RSK
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_set_singleline_RSK(void)
{
#if defined(__MMI_WITH_C_KEY__)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetKeyHandler(wgui_handle_singleline_inputbox_right_softkey_down, KEY_CLEAR, KEY_EVENT_DOWN);
    SetKeyHandler(wgui_handle_singleline_inputbox_right_softkey_long_press, KEY_CLEAR, KEY_LONG_PRESS);
    set_right_softkey_function(wgui_handle_singleline_inputbox_right_softkey_up, KEY_EVENT_UP);
#else /* defined(__MMI_WITH_C_KEY__) */ 
    set_right_softkey_function(wgui_handle_singleline_inputbox_right_softkey_down, KEY_EVENT_DOWN);
    set_right_softkey_function(wgui_handle_singleline_inputbox_right_softkey_long_press, KEY_LONG_PRESS);
#endif /* defined(__MMI_WITH_C_KEY__) */ 
    wgui_handle_singleline_inputbox_input();
    if (gui_single_line_input_box_get_text_length(&MMI_singleline_inputbox) <= 0)
    {
    #if defined(__MMI_WITH_C_KEY__)
        /* MTK Terry Temp solution for C key in Enter Pin */
        SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_UP);
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        set_right_softkey_function(wgui_handle_singleline_inputbox_right_softkey_up, KEY_EVENT_UP);
    #endif /* defined(__MMI_WITH_C_KEY__) */ 
        if (wgui_inputbox_empty_callback != NULL)
        {
            wgui_inputbox_empty_callback();
        }
    }
    else if (wgui_inputbox_not_empty_callback != NULL)
    {
        wgui_inputbox_not_empty_callback();
    }
    MMI_singleline_inputbox.validation_callback = wgui_singleline_inputbox_validation_callback;
    MMI_singleline_inputbox.validation_callback(
                                MMI_singleline_inputbox.text,
                                MMI_singleline_inputbox.current_text_p,
                                (MMI_singleline_inputbox.text_length >> 1) - 1);

}


/*****************************************************************************
 * FUNCTION
 *  wgui_setup_singleline_inputbox
 * DESCRIPTION
 *  create single line input box
 * PARAMETERS
 *  x                           [IN]        Start x of single line input box
 *  y                           [IN]        Stsrt y of single line input box
 *  width                       [IN]        Width of single line input box
 *  height                      [IN]        Height of single line input box
 *  buffer                      [IN]        Buffer of single line input box
 *  buffer_size                 [IN]        Size of buffer
 *  category_screen_ID          [IN]        Id ofcategory screen
 *  RSK_label                   [IN]        String of RSK
 *  RSK_icon                    [IN]        Icon of RSK
 *  input_type                  [IN]        
 *  history_buffer              [IN]        History buffer
 *  information_bar_flag        [IN]        
 *  input(?)                    [IN]        Type
 *  Change(?)                   [IN]        The parameter for setup function - Gurinder - 23/4/2004
 * RETURNS
 *  void
 *****************************************************************************/
/* Change the parameter for setup function - Gurinder - 23/4/2004 */
void wgui_setup_singleline_inputbox(
        S32 x,
        S32 y,
        S32 width,
        S32 height,
        U8 *buffer,
        S32 buffer_size,
        U16 category_screen_ID,
        UI_string_type RSK_label,
        PU8 RSK_icon,
        U16 input_type,
        U8 *history_buffer,
        U8 information_bar_flag)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 l;
    S16 input_type_flags = input_type & (~INPUT_TYPE_MASK);
    U8 saved_MMI_current_input_mode;
    U32 saved_inputbox_flags;
    U8 override_history_input_type = 0;
    S16 saved_input_type = input_type;
    U8 plus_character_handling = 0;

#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    mmi_pen_handwriting_area_struct stroke_area;
    mmi_pen_handwriting_area_struct ext_stroke;
#endif /* defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__) */ 

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* UI_UNUSED_PARAMETER(flags); */
    wgui_singleline_inputbox_buffer_size = buffer_size;
    if (input_type & INPUT_TYPE_PLUS_CHARACTER_HANDLING)
    {
        plus_character_handling = 1;
    }

    wgui_set_default_input_type(&input_type);
    //MTK Elvis for PHB Quick Search
    //W05.36 Fix Vietnamese Tone Input Issue
    if (cat200_search_function)
    {
        wgui_set_qsearch_default_input_type(&input_type);
        set_current_input_box_type(EDITOR_SINGLE_LINE_INPU_BOX);
    }
    else
    {
        set_current_input_box_type(EDITOR_SINGLE_LINE_INPU_BOX);
    }
    /* MTK end */

/*PMT IRE START*/
    #if defined(__MMI_INDIC_ALG__)
	/*set up required in indic engine when single-line editor is launched*/
    ire_set_use_multitap_single_line();
    #endif
/*PMT IRE END*/
    l = gui_strlen((UI_string_type) buffer);
    create_singleline_inputbox_set_buffer((UI_string_type) buffer, buffer_size, l, l);
    register_singleline_inputbox_keys();
    /* Information Bar Setup For Single Line Box - Gurinder 23/4/2004 */
    if (information_bar_flag)
    {
        wgui_inputbox_information_flag = 1;
        wgui_inputbox_information_bar_height = INFORMATION_BAR_HEIGHT;
        wgui_setup_input_information(
            0,
            (MMI_title_y + MMI_title_height),
            UI_device_width,
            wgui_inputbox_information_bar_height);
    }

    move_singleline_inputbox(x, y);
    resize_singleline_inputbox(width, height);
    switch (input_type & INPUT_TYPE_MASK)
    {
        case INPUT_TYPE_NUMERIC_PASSWORD:
        case INPUT_TYPE_SAT_NUMERIC_PASSWORD:
            override_history_input_type = 1;
            break;
    }
    set_singleline_inputbox_category_history(category_screen_ID, history_buffer, (S16*) & input_type);
    saved_MMI_current_input_mode = MMI_current_input_mode;
    saved_inputbox_flags = MMI_singleline_inputbox.flags;
    if (override_history_input_type)
    {
        input_type = saved_input_type;
    }

    /* Get input mode from "Input Methods" list selection */
    wgui_change_inputbox_type = wgui_inputbox_change_input_type;
    wgui_inputbox_insert_symbol = wgui_singleline_inputbox_insert_symbol;
    if (wgui_inputbox_input_mode_changed)
    {
        input_type = wgui_inputbox_input_type;
        wgui_inputbox_input_mode_changed = 0;
        if (cat200_search_function)
        {
            if (gui_single_line_input_box_get_text_length(&MMI_singleline_inputbox) > 0)
            {
                singleline_inputbox_delete_all_characters();
            }
            refresh_search_list(NULL);
        }
    }
    input_type |= input_type_flags;
    MMI_current_input_type = input_type;
    wgui_singleline_inputbox_decimal_input_mode_flag = 0;
    wgui_inputbox_UCS2_count_function = wgui_singleline_inputbox_get_UCS2_count;
    wgui_inputbox_GSM_ext_count_function = wgui_singleline_inputbox_get_GSM_ext_count;
    if (input_type & INPUT_TYPE_USE_ENCODING_BASED_LENGTH)
    {
        MMI_singleline_inputbox.flags |= UI_SINGLE_LINE_INPUT_BOX_USE_ENCODING_BASED_LENGTH;
        if (input_type & INPUT_TYPE_ONE_LESS_CHARACTER)
        {
            MMI_singleline_inputbox.flags |= UI_SINGLE_LINE_INPUT_BOX_ONE_LESS_CHARACTER;
            UI_TEST_UCS2_COUNT_SET_LENGTH_TYPE2(
                MMI_singleline_inputbox.UCS2_count,
                MMI_singleline_inputbox.allocated_length,
                MMI_singleline_inputbox.available_length);
        }
        if (input_type & INPUT_TYPE_ONE_LESS_CHARACTER)
        {
            MMI_singleline_inputbox.flags |= UI_SINGLE_LINE_INPUT_BOX_ONE_LESS_CHARACTER;
            UI_TEST_UCS2_COUNT_SET_LENGTH_TYPE2(
                MMI_singleline_inputbox.UCS2_count,
                MMI_singleline_inputbox.allocated_length,
                MMI_singleline_inputbox.available_length);
        }
        else
        {
            UI_TEST_UCS2_COUNT_SET_LENGTH(
                MMI_singleline_inputbox.UCS2_count,
                MMI_singleline_inputbox.allocated_length,
                MMI_singleline_inputbox.available_length);
        }
    }
    if (plus_character_handling)
    {
        MMI_singleline_inputbox.flags |= UI_SINGLE_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING;
    }
    switch (input_type & INPUT_TYPE_MASK)
    {
            /* MTK Elvis to add some APIs for Qsearch */
        case INPUT_TYPE_MMI_MULTITAP_BPMF:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_BPMF);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_BPMF;
    #if defined(__MMI_ZI__)
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
    #else 
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
    #endif 
            break;

        case INPUT_TYPE_MMI_MULTITAP_PINYIN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_PINYIN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_PINYIN;

    #if defined(__MMI_ZI__)
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
    #else 
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
    #endif 
            break;

        case INPUT_TYPE_MMI_SM_STROKE:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_SM_STROKE);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_SM_STROKE;

    #if defined(__MMI_ZI__)
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
    #else 
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
    #endif 
            break;

        case INPUT_TYPE_MMI_TR_STROKE:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_TR_STROKE);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_TR_STROKE;
    #if defined(__MMI_ZI__)
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
    #else 
            wgui_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
    #endif 
            break;

        case INPUT_TYPE_MMI_NUMERIC:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_NUMERIC);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_NUMERIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_MMI_LOWERCASE_ABC:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_ABC);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

    #if defined (__MMI_MULTITAP_HINDI__) 
        case INPUT_TYPE_MMI_MULTITAP_HINDI:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_HINDI);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_HINDI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_HINDI__) */ 

    #if defined(__MMI_MULTITAP_MARATHI__)
        case INPUT_TYPE_MMI_MULTITAP_MARATHI:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_MARATHI);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_MARATHI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* #if defined (__MMI_MULTITAP_MARATHI__)  */ 
	#if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_TYPE_MMI_MULTITAP_TAMIL:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_TAMIL);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_TAMIL;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* #if defined (__MMI_MULTITAP_TAMIL__)  */ 
    #if defined(__MMI_MULTITAP_BENGALI__)
        case INPUT_TYPE_MMI_MULTITAP_BENGALI:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_BENGALI);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_BENGALI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_BENGALI__) */ 

	#if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_TYPE_MMI_MULTITAP_PUNJABI:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_PUNJABI);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_PUNJABI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_TYPE_MMI_MULTITAP_TELUGU:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_TELUGU);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_TELUGU;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif
    #if defined (__MMI_MULTITAP_THAI__)
        case INPUT_TYPE_MMI_MULTITAP_THAI:
            set_singleline_inputbox_mask(0);
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_THAI);

            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_THAI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined (__MMI_MULTITAP_THAI__) */ 

    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_TYPE_MMI_LOWERCASE_SPANISH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_SPANISH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_TYPE_MMI_LOWERCASE_DANISH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_DANISH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_TYPE_MMI_LOWERCASE_POLISH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_POLISH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_TYPE_MMI_LOWERCASE_FRENCH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_FRENCH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_TYPE_MMI_LOWERCASE_GERMAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_GERMAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_ITALIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_ITALIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_RUSSIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_RUSSIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_BULGARIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_BULGARIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_UKRAINIAN:
            set_singleline_inputbox_mask(0);
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_UKRAINIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_UKRAINIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_TYPE_MMI_LOWERCASE_TURKISH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_TURKISH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_TYPE_MMI_LOWERCASE_PORTUGUESE:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_PORTUGUESE);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_INDONESIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_INDONESIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_TYPE_MMI_LOWERCASE_CZECH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_CZECH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_TYPE_MMI_LOWERCASE_MALAY:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_MALAY);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_TYPE_MMI_LOWERCASE_VIETNAMESE:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_VIETNAMESE);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_TYPE_MMI_LOWERCASE_FINNISH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_FINNISH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_HUNGARIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_HUNGARIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_TYPE_MMI_MULTITAP_HEBREW:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_HEBREW);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_HEBREW;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_TYPE_MMI_LOWERCASE_SLOVAK:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_SLOVAK);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_TYPE_MMI_LOWERCASE_DUTCH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_DUTCH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_MMI_MULTITAP_ARABIC:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_ARABIC);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_ARABIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_MMI_ARABIC_NUMERIC:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_ARABIC_NUMERIC);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_ARABIC_NUMERIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_TYPE_MMI_MULTITAP_PERSIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_PERSIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_PERSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif 
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_TYPE_MMI_MULTITAP_URDU:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_MULTITAP_URDU);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_MULTITAP_URDU;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_NORWEGIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_NORWEGIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_TYPE_MMI_LOWERCASE_SWEDISH:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_SWEDISH);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_CROATIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_CROATIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_ROMANIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_ROMANIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_TYPE_MMI_LOWERCASE_SLOVENIAN:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_SLOVENIAN);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_TYPE_MMI_LOWERCASE_GREEK:
            set_singleline_inputbox_mask(0);
            // remove key pound setting
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MMI_LOWERCASE_GREEK);
            inputbox_change_mode = change_qsearch_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MMI_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
        case INPUT_TYPE_NUMERIC_CHANGEABLE:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_123);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_NUMERIC:
        case INPUT_TYPE_SIGNED_NUMERIC:    
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_123);
            if (input_type & INPUT_TYPE_MASK == INPUT_TYPE_SIGNED_NUMERIC)
                SetKeyHandler(wgui_singleline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_DECIMAL_NUMERIC:
        case INPUT_TYPE_SIGNED_DECIMAL_NUMERIC:
            wgui_singleline_inputbox_decimal_flag = 0;
            if (l > 0)
            {
                S32 i;
                UI_buffer_type t = buffer;
                UI_character_type c;

                for (i = 0; i < l; i++)
                {
                    UI_STRING_GET_NEXT_CHARACTER(t, c);
                    if (c == (UI_character_type) '.')
                    {
                        wgui_singleline_inputbox_decimal_flag = 1;
                        break;
                    }
                }
            }
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            if (input_type & INPUT_TYPE_MASK == INPUT_TYPE_SIGNED_DECIMAL_NUMERIC)
                SetKeyHandler(wgui_singleline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_singleline_inputbox_decimal_numeric_handle_pound_key_down, KEY_POUND, KEY_EVENT_DOWN);
            wgui_singleline_inputbox_decimal_input_mode_flag = 1;
            break;

        case INPUT_TYPE_DECIMAL_NUMERIC_PASSWORD:
        case INPUT_TYPE_SIGNED_DECIMAL_NUMERIC_PASSWORD:
            wgui_singleline_inputbox_decimal_flag = 0;
            if (l > 0)
            {
                S32 i;
                UI_buffer_type t = buffer;
                UI_character_type c;

                for (i = 0; i < l; i++)
                {
                    UI_STRING_GET_NEXT_CHARACTER(t, c);
                    if (c == (UI_character_type) '.')
                    {
                        wgui_singleline_inputbox_decimal_flag = 1;
                        break;
                    }
                }
            }
            set_singleline_inputbox_mask(1);
            change_singleline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            SetKeyHandler(wgui_singleline_inputbox_decimal_numeric_handle_pound_key_down, KEY_POUND, KEY_EVENT_DOWN);
            if (input_type & INPUT_TYPE_MASK == INPUT_TYPE_SIGNED_DECIMAL_NUMERIC_PASSWORD)
                SetKeyHandler(wgui_singleline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            wgui_singleline_inputbox_decimal_input_mode_flag = 1;
            break;

        case INPUT_TYPE_KEYPAD_NUMERIC:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            SetKeyHandler(wgui_singleline_inputbox_keypad_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_singleline_inputbox_keypad_numeric_handle_pound_key_down, KEY_POUND, KEY_EVENT_DOWN);
            break;

        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ABC);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_TYPE_ALPHANUMERIC_MULTITAP_THAI:
            set_singleline_inputbox_mask(0);
            change_qsearch_singleline_inputbox_mode(INPUT_MODE_MULTITAP_THAI);

            SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_LONG_PRESS);

            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_THAI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_THAI__) */ 

        #if defined(__MMI_MULTITAP_SPNAISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SPANISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SPANISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SPNAISH__) */ 
        #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DANISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_DANISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DANISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_DANISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
        #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_POLISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_POLISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_POLISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_POLISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
        #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FRENCH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FRENCH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
        #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GERMAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GERMAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
        #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ITALIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ITALIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
        #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_RUSSIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_RUSSIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
        #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_BULGARIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_BULGARIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
        #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_UKRAINIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_UKRAINIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
        #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_TURKISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_TURKISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
        #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_PORTUGUESE:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_PORTUGUESE:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
        #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_INDONESIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_INDONESIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
        #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CZECH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_CZECH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CZECH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_CZECH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
        #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_MALAY:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_MALAY);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_MALAY:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_MALAY);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
        #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_VIETNAMESE:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_VIETNAMESE:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
        #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FINNISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FINNISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
        #if defined(__MMI_MULTITAP_HUNGARIAN__) 
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_HUNGARIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_HUNGARIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
        #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVAK:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVAK:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
        #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DUTCH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DUTCH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
        #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_NORWEGIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_NORWEGIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
        #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SWEDISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SWEDISH:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
        #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CROATIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CROATIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
        #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ROMANIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ROMANIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
        #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVENIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVENIAN:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
        #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GREEK:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_GREEK);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GREEK:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_GREEK);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
        case INPUT_TYPE_ALPHANUMERIC_SENTENCECASE:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_NUMERIC_PASSWORD:
        case INPUT_TYPE_SIGNED_NUMERIC_PASSWORD:
            set_singleline_inputbox_mask(1);
            change_singleline_inputbox_mode(INPUT_MODE_123);
            if (input_type & INPUT_TYPE_MASK == INPUT_TYPE_SIGNED_NUMERIC_PASSWORD)
                SetKeyHandler(wgui_singleline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            MMI_current_input_mode = INPUT_MODE_123;
            break;

        case INPUT_TYPE_ALPHANUMERIC_PASSWORD:
            set_singleline_inputbox_mask(1);
            change_singleline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            break;

        case INPUT_TYPE_PHONE_NUMBER:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            /* Handling of Phone number input   */
        #ifdef __MMI_MULTITAP_KEY_0__
            SetKeyHandler(wgui_singleline_inputbox_phone_number_input_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
        #else /* __MMI_MULTITAP_KEY_0__ */ 
            gui_create_multitap_input(
                &wgui_inputbox_multitap_star_key,
                0,
                0,
                0,
                0,
                (UI_string_type) wgui_inputbox_phone_number_star_key_string);
            gui_set_multitap_input_callbacks(
                &wgui_inputbox_multitap_star_key,
                singleline_inputbox_multitap_input,
                singleline_inputbox_multitap_input_complete);
            SetKeyHandler(
                wgui_singleline_inputbox_phone_number_input_handle_multitap_star_key_down,
                KEY_STAR,
                KEY_EVENT_DOWN);
            SetKeyHandler(
                wgui_singleline_inputbox_phone_number_input_handle_multitap_star_key_up,
                KEY_STAR,
                KEY_EVENT_UP);
        #endif /* __MMI_MULTITAP_KEY_0__ */ 
            SetKeyHandler(wgui_singleline_inputbox_phone_number_input_handle_hash_key_down, KEY_POUND, KEY_EVENT_DOWN);
            register_key_down_handler(wgui_singleline_inputbox_phone_number_numeric_key_handler);
        #if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
            gui_create_multitap_input(
                &wgui_inputbox_multitap_zero_key,
                0,
                0,
                0,
                0,
                (UI_string_type) wgui_inputbox_phone_number_zero_key_string);
            gui_set_multitap_input_callbacks(
                &wgui_inputbox_multitap_zero_key,
                singleline_inputbox_multitap_input,
                singleline_inputbox_multitap_input_complete);
        #ifdef __MMI_MULTITAP_KEY_0__
            SetKeyHandler(
                wgui_singleline_inputbox_phone_number_input_handle_zero_key_long_press,
                KEY_0,
                KEY_EVENT_LONG_PRESS);
        #else /* __MMI_MULTITAP_KEY_0__ */ 
            SetKeyHandler(
                wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_down,
                KEY_0,
                KEY_EVENT_DOWN);
            SetKeyHandler(wgui_singleline_inputbox_phone_number_input_handle_multitap_zero_key_up, KEY_0, KEY_EVENT_UP);
        #endif /* __MMI_MULTITAP_KEY_0__ */ 
        #endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
            wgui_inputbox_active_multitap = WGUI_INPUTBOX_MULTITAP_NONE;
            break;
        #if defined(__MMI_T9__)

        case INPUT_TYPE_TR_BOPOMO:
            change_singleline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SM_PINYIN:
            change_singleline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        case INPUT_TYPE_TR_STROKE:
            change_singleline_inputbox_mode(INPUT_MODE_TR_STROKE);
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SM_STROKE:
            change_singleline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
    #endif 
            
        #if defined(__MMI_T9_SPANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_SPANISH__) */ 
        #if defined(__MMI_T9_DANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_DANISH__) */ 
        #if defined(__MMI_T9_POLISH__)
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_POLISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_POLISH__) */ 
        #if defined(__MMI_T9_FRENCH__)
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_FRENCH__) */ 
        #if defined(__MMI_T9_GERMAN__)
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_GERMAN__) */ 
        #if defined(__MMI_T9_ITALIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_ITALIAN__) */ 
        #if defined(__MMI_T9_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_T9_RUSSIAN__) */ 
        #if defined(__MMI_T9_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_T9_BULGARIAN__) */ 

        #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

        #if defined(__MMI_T9_INDONESIAN__)

        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_T9_INDONESIAN__) */ 

        #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_PORTUGUESE__) */ 
        #if defined(__MMI_T9_CZECH__)

        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_T9_CZECH__) */ 
        #if defined(__MMI_T9_TURKISH__)
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_TURKISH__) */ 
        #if defined(__MMI_T9_FINNISH__)
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_FINNISH__) */ 
        #if defined(__MMI_T9_HUNGARIAN__)

        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_T9_HUNGARIAN__) */ 
        #if defined(__MMI_T9_ARABIC__)
        case INPUT_TYPE_SMART_ARABIC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_ARABIC);
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_T9_ARABIC__) */ 
        #if defined(__MMI_T9_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_GREEK__) */ 
        #if defined(__MMI_T9_HEBREW__)
        case INPUT_TYPE_SMART_HEBREW:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_HEBREW);
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_T9_HEBREW__) */ 
        #if defined(__MMI_T9_HINDI__)
        case INPUT_TYPE_SMART_HINDI:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_HINDI);
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_T9_HINDI__) */ 
        #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
        #if defined(__MMI_T9_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_DUTCH__) */ 
        #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
        #if defined(__MMI_T9_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_SWEDISH__) */ 
        #if defined(__MMI_T9_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_MALAY__) */ 
        #if defined(__MMI_T9_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_CROATIAN__) */ 
        #if defined(__MMI_T9_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_SLOVAK__) */ 
        #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            break;
        #endif /* defined(__MMI_T9_ROMANIAN__) */ 
        #elif defined(__MMI_ZI__)
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            change_singleline_inputbox_mode(INPUT_MODE_TR_MULTITAP_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            change_singleline_inputbox_mode(INPUT_MODE_SM_MULTITAP_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_TYPE_TR_BOPOMO:
            change_singleline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_TYPE_SM_PINYIN:
            change_singleline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;

        case INPUT_TYPE_TR_STROKE:
            change_singleline_inputbox_mode(INPUT_MODE_TR_STROKE);
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO);
            break;

        case INPUT_TYPE_SM_STROKE:
            change_singleline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO);
            break;

        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif

        #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
        #if defined(__MMI_ZI_DANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_DANISH__) */ 
        #if defined(__MMI_ZI_POLISH__)
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_POLISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_POLISH__) */ 
        #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
        #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
        #if defined(__MMI_ZI_GERMAN__)
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_GERMAN__) */ 
        #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_ITALIAN__) */ 
        #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
        #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
        #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_UKRAINIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_UKRAINIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_UKRAINIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_UKRAINIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_UKRAINIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_UKRAINIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_UKRAINIAN__) */ 
        #if defined(__MMI_ZI_TURKISH__)
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_TURKISH__) */ 
        #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
        #if defined(__MMI_ZI_INDONESIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_INDONESIAN__) */ 
        #if defined(__MMI_ZI_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_MALAY__) */ 
        #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
        #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SLOVAK__) */ 
        #if defined(__MMI_ZI_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_DUTCH__) */ 
        #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SWEDISH__) */ 
        #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CROATIAN__) */ 
        #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
        #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
        #if defined(__MMI_ZI_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_GREEK__) */ 
        #if defined(__MMI_ZI_FINNISH__)
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_FINNISH__) */ 
        #if defined(__MMI_ZI_CZECH__)
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CZECH__) */ 
        #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 

        #elif defined(__MMI_CSTAR__)
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            change_singleline_inputbox_mode(INPUT_MODE_TR_MULTITAP_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_BPMF_LOGO);
            break;
        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            change_singleline_inputbox_mode(INPUT_MODE_SM_MULTITAP_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_PINYIN_LOGO);
            break;
        case INPUT_TYPE_TR_BOPOMO:
            change_singleline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
           //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_BPMF_LOGO);
            break;
        case INPUT_TYPE_SM_PINYIN:
            change_singleline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_PINYIN_LOGO);
            break;

        case INPUT_TYPE_TR_STROKE:
            change_singleline_inputbox_mode(INPUT_MODE_TR_STROKE);
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_TR_STROKE_LOGO);
            break;

        case INPUT_TYPE_SM_STROKE:
            change_singleline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_SM_STROKE_LOGO);
            break;

        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
    #endif

        #if defined(__MMI_CSTAR_SPANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_SPANISH__) */ 
        #if defined(__MMI_CSTAR_DANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DANISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_DANISH__) */ 
        #if defined(__MMI_CSTAR_POLISH__)
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_POLISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_POLISH__) */ 
        #if defined(__MMI_CSTAR_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_NORWEGIAN__) */ 
        #if defined(__MMI_CSTAR_FRENCH__)
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_FRENCH__) */ 
        #if defined(__MMI_CSTAR_GERMAN__)
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_GERMAN__) */ 
        #if defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_ITALIAN__) */ 
        #if defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_RUSSIAN__) */ 
        #if defined(__MMI_CSTAR_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_BULGARIAN__) */ 
        #if defined(__MMI_CSTAR_TURKISH__)
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_TURKISH__) */ 
        #if defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_PORTUGUESE__) */ 
        #if defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_INDONESIAN__) */ 
        #if defined(__MMI_CSTAR_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_MALAY__) */ 
        #if defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_VIETNAMESE__) */ 
        #if defined(__MMI_CSTAR_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
        #if defined(__MMI_CSTAR_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
        #if defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
        #if defined(__MMI_CSTAR_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
        #if defined(__MMI_CSTAR_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 
        #if defined(__MMI_CSTAR_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 
        #if defined(__MMI_CSTAR_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_GREEK__) */ 
        #if defined(__MMI_CSTAR_FINNISH__)
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
        #if defined(__MMI_CSTAR_CZECH__)
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_CZECH__) */ 
        #if defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            change_singleline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            inputbox_change_mode = change_singleline_inputbox_input_mode;
            //wgui_inputbox_information_icon = get_image(WGUI_CSTAR_ECSTARTEXT_LOGO);
            break;
        #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 
        #endif 
        default:
            set_singleline_inputbox_mask(0);
            change_singleline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            break;
    }
    if (!override_history_input_type && (saved_inputbox_flags & UI_SINGLE_LINE_INPUT_BOX_MASK_CHARACTERS))
    {
        set_singleline_inputbox_mask(1);
        if ((saved_input_type & INPUT_TYPE_MASK) != INPUT_TYPE_ALPHANUMERIC_PASSWORD)
        {
            ClearKeyHandler(KEY_POUND, KEY_EVENT_DOWN);
        }
    }
    wgui_singleline_inputbox_RSK_label_clear = 0;
    wgui_singleline_inputbox_RSK_label_icon = RSK_icon;
    wgui_singleline_inputbox_RSK_label_string = RSK_label;
#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    if (cat200_search_function)
    {
        mmi_pen_editor_setup_input_box(
            NULL,
            NULL,
            MMI_current_input_type,
            MMI_TRUE,
            PEN_EDITOR_QUICK_SEARCH_SINGLE_LINE_INPU_BOX);
    }
    else
    {
        ext_stroke.x1 = 0;
        ext_stroke.y1 = 0;
        ext_stroke.x2 = UI_device_width - 1;
        ext_stroke.y2 = UI_device_height - 1;
    #if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
    #else /* 0 */ 
        stroke_area.x1 = MMI_content_x;
        stroke_area.x2 = MMI_content_x + MMI_content_width;
        stroke_area.y1 = MMI_title_y;
        stroke_area.y2 = MMI_title_y + MMI_content_height + MMI_title_height;
    #endif /* 0 */ 
        mmi_pen_editor_setup_input_box(
            &stroke_area,
            &ext_stroke,
            MMI_current_input_type,
            MMI_TRUE,
            PEN_EDITOR_SINGLE_LINE_INPU_BOX);
    }
#endif /* defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__) */ 

    wgui_set_singleline_RSK();
    register_singleline_inputbox_input_callback(wgui_handle_singleline_inputbox_input);
    UI_UNUSED_PARAMETER(saved_MMI_current_input_mode);
}



/*****************************************************************************
 * FUNCTION
 *  wgui_close_singleline_inputbox
 * DESCRIPTION
 *  close single line input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_close_singleline_inputbox(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_singleline_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    reset_singleline_inputbox();
    wgui_singleline_inputbox_RSK_function = NULL;
    wgui_singleline_inputbox_RSK_label_clear = 0;
    wgui_singleline_inputbox_decimal_input_mode_flag = 0;
    wgui_inputbox_not_empty_callback = NULL;
    wgui_inputbox_empty_callback = NULL;
    wgui_inputbox_validation_callback = NULL;
    wgui_inputbox_UCS2_count_function = NULL;
    wgui_inputbox_GSM_ext_count_function = NULL;
    wgui_inputbox_information_flag = 0;

#ifdef __MMI_ZI__
    ZiInuptMethodExitSinglelineInputBox();
#endif 

#ifdef __MMI_CSTAR__
   CstarInputMethodExitSinglelineInputBox();
#endif

#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    mmi_pen_editor_close_input_box();
#endif 

#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
    {
        MMI_english_input_mode_flag = 0;
    }
    if (MMI_allow_only_english_input_modes)
    {
        MMI_english_input_mode_flag = 1;
        MMI_allow_only_english_input_modes = 0;
    }
    /* W05.36 Fix Vietnamese Tone Input Issue */
    set_current_input_box_type(EDITOR_NONE_INPUT_BOX);
}

/* Common functions for multi line input box screens  */

S32 wgui_inputbox_information_bar_x;
S32 wgui_inputbox_information_bar_y;
S32 wgui_inputbox_information_bar_width;
S32 wgui_inputbox_information_bar_height;
U8 wgui_inputbox_information_flag = 0;

#ifdef UI_SMALL_CATEGORY_EDITOR
U8 wgui_small_editor_information_flag = 0;
#endif 
PU8 wgui_inputbox_information_icon = NULL;
S32 wgui_inputbox_buffer_size = 0;


/*****************************************************************************
 * FUNCTION
 *  wgui_setup_input_information
 * DESCRIPTION
 *  set input information of  input box like bar width/bar height
 * PARAMETERS
 *  x           [IN]        Start x position of input box
 *  y           [IN]        Start y position of input box
 *  width       [IN]        Width of input box
 *  height      [IN]        Height of input box
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_setup_input_information(S32 x, S32 y, S32 width, S32 height)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_information_bar_x = x;
    wgui_inputbox_information_bar_y = y;
    wgui_inputbox_information_bar_width = width;
    wgui_inputbox_information_bar_height = height;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_input_information_background
 * DESCRIPTION
 *  fill the background color of information of input box
 * PARAMETERS
 *  x1      [IN]        Start x position of input box
 *  y1      [IN]        Start y position of input box
 *  x2      [IN]        End x position of input box
 *  y2      [IN]        End y position of input box
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_input_information_background(S32 x1, S32 y1, S32 x2, S32 y2)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    /* Now reads color from the theme structure  */
    color c = current_information_bar_theme->background_color;
    U8 b_set_transparent = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_reset_clip();
    if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_INCLUDE_INFO_AREA)
    {
        UI_filled_area f = *MMI_multiline_inputbox.normal_filler;

        if (f.flags & UI_FILLED_AREA_SINGLE_BORDER)
        {
            f.flags &= ~UI_FILLED_AREA_SINGLE_BORDER;
        }

        gui_set_clip(x1, y1, x2, y2);
        gui_draw_filled_area(x1, y1, x2, y2, &f);
    }
    else
    {
        /* W05.39 Set Information Bar Background as GDI_COLOR_TRANSPARENT when wgui_is_wallpaper_on_bottom */
        if (wgui_is_wallpaper_on_bottom() == MMI_TRUE)
        {
            switch (mmi_get_current_editor_style())
        {
            case EDITOR_MULTILINE_INPUT_BOX:
            case EDITOR_INLINE_MULTILINE_INPUT_BOX:
                if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_TRANSPARENT_BACKGROUND)
                    b_set_transparent = 1;
                break;

            case EDITOR_EMS_INPUT_BOX:
                if (MMI_multiline_inputbox.flags & UI_EMS_INPUT_BOX_TRANSPARENT_BACKGROUND)
                    b_set_transparent = 1;
                break;
            
            case EDITOR_SINGLE_LINE_INPU_BOX:
            case EDITOR_INLINE_TEXT:
            case EDITOR_QUICK_SEARCH_SINGLE_LINE_INPU_BOX:
                break;

            default:
                break;
            }
            if (b_set_transparent)
                gdi_draw_solid_rect(x1, y1, x2, y2, GDI_COLOR_TRANSPARENT);
            else
                gui_fill_rectangle(x1, y1, x2, y2, c);
        }
        else
        {
            gui_fill_rectangle(x1, y1, x2, y2, c);
        }
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_hide_input_information_bar
 * DESCRIPTION
 *  hide information bar
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_hide_input_information_bar()
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 x1 = 0;
    S32 y1 = wgui_inputbox_information_bar_y;
    S32 x2 = UI_device_width - 1;
    S32 y2 = wgui_inputbox_information_bar_y + wgui_inputbox_information_bar_height - 1;
    color c = gui_color(255, 255, 255);

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_reset_clip();
    gui_fill_rectangle(x1, y1, x2, y2, c);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_show_input_mode
 * DESCRIPTION
 *  show current input mode on the top of editor scrren
 * PARAMETERS
 *  input_mode                      [IN]        
 *  inputbox_information_icon       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
#if defined(__MMI_TOUCH_SCREEN__)
UI_filled_area information_bar_BG_filler = 
{
    UI_FILLED_AREA_TYPE_COLOR | UI_FILLED_AREA_ROUNDED_BORDER | UI_FILLED_AREA_SINGLE_BORDER,
    UI_NULL_IMAGE,
    NULL,
    /* {    248,144,248,100 }, */
    {255, 185, 253, 100},
    {0, 0, 0, 0},
    {160, 72, 168, 100},
    {255, 0, 0, 100},
    0
};
#endif /* defined(__MMI_TOUCH_SCREEN__) */ 

void wgui_show_input_mode_internal(
                    S32 info_bar_x,
                    S32 info_bar_y,
                    S32 info_bar_width,
                    S32 info_bar_height,
                    U8 input_mode, 
                    PU8 inputbox_information_icon)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    color c = *current_MMI_theme->input_method_text_color;

#if !defined(__MMI_TOUCH_SCREEN__)
    stFontAttribute *f = &MMI_small_font;
#else /* !defined(__MMI_TOUCH_SCREEN__) */ 
    stFontAttribute *f = &MMI_medium_font;
    S32 rect_height;
#endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
    S32 width, height;
    UI_string_type inputmode_string = (UI_string_type) "";

    S32 x, x1, x2;
#if defined(__MMI_TOUCH_SCREEN__)
    S32 bx1, bx2; // rectangle x1, x2
    S32 tx; // x position of input method text
#endif
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/

#if defined(__MMI_TOUCH_SCREEN__)
    wgui_information_bar_input_mode_display_width = 0;
    wgui_information_bar_input_mode_display_height = 0;
#endif


    x = x1 = info_bar_x;
    x2 = info_bar_x + info_bar_width - 1;

    switch (MMI_current_input_mode)
    {

        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ABC_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
        case INPUT_MODE_MMI_LOWERCASE_ABC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_abc_STRING_ID);
            break;
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MULTITAP_THAI:
        case INPUT_MODE_MMI_MULTITAP_THAI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_thai_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_THAI__) */ 

    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SPANISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_SPANISH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_SPANISH:
        case INPUT_MODE_MMI_LOWERCASE_SPANISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_spanish_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_T9_SPANISH__) || defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) || defined(__MMI_CSTAR_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_SPANISH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_spanish_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_SPANISH__) || defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DANISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_DANISH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_DANISH:
        case INPUT_MODE_MMI_LOWERCASE_DANISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_danish_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_T9_DANISH__) || defined(__MMI_ZI_DANISH__) || defined(__MMI_CSTAR_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_DANISH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_danish_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_DANISH__) || defined(__MMI_ZI_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_POLISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_POLISH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_POLISH:
        case INPUT_MODE_MMI_LOWERCASE_POLISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_polish_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_T9_POLISH__) || defined(__MMI_ZI_POLISH__) || defined(__MMI_CSTAR_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_POLISH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_polish_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_POLISH__) || defined(__MMI_ZI_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FRENCH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_FRENCH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_FRENCH:
        case INPUT_MODE_MMI_LOWERCASE_FRENCH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_french_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_T9_FRENCH__) || defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) || defined(__MMI_CSTAR_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_FRENCH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_french_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_FRENCH__) || defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 

    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GERMAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_GERMAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_GERMAN:
        case INPUT_MODE_MMI_LOWERCASE_GERMAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_german_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_T9_GERMAN__) || defined(__MMI_ZI_GERMAN__) || defined(__MMI_CSTAR_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_GERMAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_german_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_GERMAN__) || defined(__MMI_ZI_GERMAN__) */ 

    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ITALIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN:
        case INPUT_MODE_MMI_LOWERCASE_ITALIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_italian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_T9_ITALIAN__) || defined(__MMI_ZI_ITALIAN__) || defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ITALIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_italian_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_ITALIAN__) || defined(__MMI_ZI_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_RUSSIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN:
        case INPUT_MODE_MMI_LOWERCASE_RUSSIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_russian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_BULGARIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN:
        case INPUT_MODE_MMI_LOWERCASE_BULGARIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_bulgarian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_UKRAINIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN:
        case INPUT_MODE_MMI_LOWERCASE_UKRAINIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_L_UKRAINIAN_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MULTITAP_HEBREW:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_HEBREW_STRING_ID);
            break;
        case INPUT_MODE_MMI_MULTITAP_HEBREW:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_HEBREW_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MULTITAP_ARABIC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ARABIC_STRING_ID);
            break;
        case INPUT_MODE_MMI_MULTITAP_ARABIC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ARABIC_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_ARABIC_NUMERIC:
        case INPUT_MODE_MMI_ARABIC_NUMERIC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ARABIC_NUMERIC_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_MODE_MULTITAP_PERSIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_PERSIAN_STRING_ID);
            break;
        case INPUT_MODE_MMI_MULTITAP_PERSIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_PERSIAN_STRING_ID);
            break;
    #endif 
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_MODE_MULTITAP_URDU:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_URDU_STRING_ID);
            break;
        case INPUT_MODE_MMI_MULTITAP_URDU:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_URDU_STRING_ID);
            break;
    #endif 
    #if defined(__MMI_T9_RUSSIAN__) || defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) || defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_RUSSIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_russian_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_RUSSIAN__) || defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
    #if defined(__MMI_T9_BULGARIAN__) || defined(__MMI_ZI_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_BULGARIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_bulgarian_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_BULGARIAN__) || defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_T9_UKRAINIAN__) || defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_MODE_SMART_UPPERCASE_UKRAINIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_UKRAINIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_UKRAINIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_L_UKRAINIAN_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_BULGARIAN__) || defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_TURKISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_TURKISH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_TURKISH:
        case INPUT_MODE_MMI_LOWERCASE_TURKISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_turkish_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_ZI_TURKISH__) || defined(__MMI_T9_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_TURKISH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_turkish_STRING_ID);
            break;
    #endif /* defined(__MMI_ZI_TURKISH__) || defined(__MMI_T9_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_PORTUGUESE_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE:
        case INPUT_MODE_MMI_LOWERCASE_PORTUGUESE:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_portuguese_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_T9_PORTUGUESE__) || defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) || defined(__MMI_CSTAR_PORTUGUESE__) 
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_PORTUGUESE_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_portuguese_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_PORTUGUESE__) || defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_HINDI__)
        case INPUT_MODE_MULTITAP_HINDI:
        case INPUT_MODE_MMI_MULTITAP_HINDI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_HINDI_STRING_ID);
            break;
    #endif /* #if defined (__MMI_MULTITAP_HINDI__)  */ 

    #if defined (__MMI_MULTITAP_MARATHI__)  
        case INPUT_MODE_MULTITAP_MARATHI:
        case INPUT_MODE_MMI_MULTITAP_MARATHI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_MARATHI_STRING_ID);
            break;
    #endif /* #if defined (__MMI_MULTITAP_MARATHI__)   */ 
	#if defined (__MMI_MULTITAP_TAMIL__)  
        case INPUT_MODE_MULTITAP_TAMIL:
        case INPUT_MODE_MMI_MULTITAP_TAMIL:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_TAMIL_STRING_ID);
            break;
    #endif /* #if defined (__MMI_MULTITAP_TAMIL__)  */ 

    #if defined (__MMI_MULTITAP_BENGALI__)
        case INPUT_MODE_MULTITAP_BENGALI:
        case INPUT_MODE_MMI_MULTITAP_BENGALI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_BENGALI_STRING_ID);
            break;
    #endif /* defined (__MMI_MULTITAP_BENGALI__) */


	#if defined (__MMI_MULTITAP_PUNJABI__)  
        case INPUT_MODE_MULTITAP_PUNJABI:
        case INPUT_MODE_MMI_MULTITAP_PUNJABI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_PUNJABI_STRING_ID);
            break;
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__)  
        case INPUT_MODE_MULTITAP_TELUGU:
        case INPUT_MODE_MMI_MULTITAP_TELUGU:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_TELUGU_STRING_ID);
            break;
    #endif  
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_INDONESIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN:
        case INPUT_MODE_MMI_LOWERCASE_INDONESIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_indonesian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_ZI_INDONESIAN__) || defined(__MMI_T9_INDONESIAN__) || defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_INDONESIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_indonesian_STRING_ID);
            break;
    #endif /* defined(__MMI_ZI_INDONESIAN__) || defined(__MMI_T9_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CZECH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_CZECH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_CZECH:
        case INPUT_MODE_MMI_LOWERCASE_CZECH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_czech_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_T9_CZECH__) || defined(__MMI_ZI_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_CZECH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_czech_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_CZECH__) || defined(__MMI_ZI_CZECH__) */ 

    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MULTITAP_UPPERCASE_MALAY:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_MALAY_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_MALAY:
        case INPUT_MODE_MMI_LOWERCASE_MALAY:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_malay_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_ZI_MALAY__) || defined(__MMI_T9_MALAY__) || defined(__MMI_CSTAR_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_MALAY_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_malay_STRING_ID);
            break;
    #endif /* defined(__MMI_ZI_MALAY__) || defined(__MMI_T9_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_VIETNAMESE_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE:
        case INPUT_MODE_MMI_LOWERCASE_VIETNAMESE:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_vietnamese_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_ZI_VIETNAMESE__) || defined(__MMI_T9_VIETNAMESE__) || defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_VIETNAMESE_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_vietnamese_STRING_ID);
            break;
    #endif /* defined(__MMI_ZI_VIETNAMESE__) || defined(__MMI_T9_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FINNISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_FINNISH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_FINNISH:
        case INPUT_MODE_MMI_LOWERCASE_FINNISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_finnish_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_T9_FINNISH__) || defined(__MMI_ZI_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_FINNISH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_finnish_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_FINNISH__) || defined(__MMI_ZI_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_HUNGARIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN:
        case INPUT_MODE_MMI_LOWERCASE_HUNGARIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_hungarian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_T9_HUNGARIAN__) || defined(__MMI_ZI_HUNGARIAN__) || defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_HUNGARIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_hungarian_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_HUNGARIAN__) || defined(__MMI_ZI_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_SLOVAK_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK:
        case INPUT_MODE_MMI_LOWERCASE_SLOVAK:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_slovak_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_T9_SLOVAK__) || defined(__MMI_ZI_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_SLOVAK_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_slovak_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_SLOVAK__) || defined(__MMI_ZI_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DUTCH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_DUTCH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_DUTCH:
        case INPUT_MODE_MMI_LOWERCASE_DUTCH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_dutch_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_ZI_DUTCH__) || defined(__MMI_T9_DUTCH__) || defined(__MMI_CSTAR_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_DUTCH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_dutch_STRING_ID);
            break;
    #endif /* defined(__MMI_ZI_DUTCH__) || defined(__MMI_T9_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_NORWEGIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN:
        case INPUT_MODE_MMI_LOWERCASE_NORWEGIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_norwegian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_T9_NORWEGIAN__) || defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_NORWEGIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_norwegian_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_NORWEGIAN__) || defined(__MMI_ZI_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_SWEDISH_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH:
        case INPUT_MODE_MMI_LOWERCASE_SWEDISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_swedish_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_T9_SWEDISH__) || defined(__MMI_ZI_SWEDISH__) || defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_SWEDISH_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_swedish_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_SWEDISH__) || defined(__MMI_ZI_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_CROATIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN:
        case INPUT_MODE_MMI_LOWERCASE_CROATIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_croatian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_T9_CROATIAN__) || defined(__MMI_ZI_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_CROATIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_croatian_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_CROATIAN__) || defined(__MMI_ZI_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ROMANIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN:
        case INPUT_MODE_MMI_LOWERCASE_ROMANIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_romanian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_ZI_ROMANIAN__) || defined(__MMI_T9_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ROMANIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_romanian_STRING_ID);
            break;
    #endif /* defined(__MMI_ZI_ROMANIAN__) || defined(__MMI_T9_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_SLOVENIAN_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN:
        case INPUT_MODE_MMI_LOWERCASE_SLOVENIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_slovenian_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_T9_SLOVENIAN__) || defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_SLOVENIAN_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_slovenian_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_SLOVENIAN__) || defined(__MMI_ZI_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GREEK:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_GREEK_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_GREEK:
        case INPUT_MODE_MMI_LOWERCASE_GREEK:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_greek_STRING_ID);
            break;
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
    #if defined(__MMI_T9_GREEK__) || defined(__MMI_ZI_GREEK__) || defined(__MMI_CSTAR_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_GREEK_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_greek_STRING_ID);
            break;
    #endif /* defined(__MMI_T9_GREEK__) || defined(__MMI_ZI_GREEK__) */ 
        case INPUT_MODE_123:
        case INPUT_MODE_MMI_NUMERIC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_123_STRING_ID);
            break;
    #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ABC_STRING_ID);
            break;
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_abc_STRING_ID);
            break;
        case INPUT_MODE_123_SYMBOLS:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_123_STRING_ID);
            break;
    #endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
        case INPUT_MODE_SMART_UPPERCASE_ABC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ABC_STRING_ID);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_abc_STRING_ID);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_Abc_STRING_ID);
            break;
    #endif
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_SMART_THAI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_thai_STRING_ID);
            break;
     #endif
        case INPUT_MODE_SMART_ARABIC:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_ARABIC_STRING_ID);
            break;
        case INPUT_MODE_SMART_PERSIAN:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_PERSIAN_STRING_ID);
            break;
    #if defined(__MMI_T9_HINDI__) || defined(__MMI_ZI_HINDI__) 
        case INPUT_MODE_SMART_HINDI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_HINDI_STRING_ID);
            break;
    #endif
    #if defined(__MMI_ZI_BENGALI__) 
        case INPUT_MODE_SMART_BENGALI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_BENGALI_STRING_ID);
            break;
    #endif

    #if defined(__MMI_ZI_MARATHI__) 
        case INPUT_MODE_SMART_MARATHI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_MARATHI_STRING_ID);
            break;
    #endif

    #if defined(__MMI_ZI_PUNJABI__) 
        case INPUT_MODE_SMART_PUNJABI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_PUNJABI_STRING_ID);
            break;
    #endif

    #if defined(__MMI_ZI_TAMIL__) 
        case INPUT_MODE_SMART_TAMIL:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_TAMIL_STRING_ID);
            break;
    #endif

    #if defined(__MMI_ZI_TELUGU__) 
        case INPUT_MODE_SMART_TELUGU:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_TELUGU_STRING_ID);
            break;
    #endif
        case INPUT_MODE_SMART_HEBREW:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_HEBREW_STRING_ID);
            break;

    }
    gui_set_font(f);
    gui_set_text_color(c);
    gui_set_text_clip(0, 0, UI_device_width - 1, UI_device_height - 1);

#ifdef __BW_MMI__
    gui_move_text_cursor(2, 2);
    gui_print_text(inputmode_string);
#else /* __BW_MMI__ */ 

#if defined (__MMI_T9__) || defined(__MMI_ITAP__) || defined(__MMI_KA__)
    if (inputbox_information_icon == NULL)
    {
        if (!r2lMMIFlag)
        {
            x = x1 + 2;
        }
        else
        {
            x = x2 - 2;
        }
    }
    else
    {
        gui_measure_image(inputbox_information_icon, &width, &height);
        if (!r2lMMIFlag)
        {
        #if !defined(__MMI_TOUCH_SCREEN__)
            gui_show_transparent_image(x1 + 1, info_bar_y + 1, inputbox_information_icon, 0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_show_transparent_image(
                x1 + 1,
                info_bar_y + (info_bar_height - height) / 2,
                inputbox_information_icon,
                0);
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            x = x1 + width + 2;
        }
        else
        {
        #if !defined(__MMI_TOUCH_SCREEN__)
            gui_show_transparent_image(
                x2 - 1 - width,
                info_bar_y + 1,
                inputbox_information_icon,
                0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_show_transparent_image(
                x2 - 1 - width,
                info_bar_y + (info_bar_height - height) / 2,
                inputbox_information_icon,
                0);
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            x = x2 - 2 - width;
        }

    }
#elif defined(__MMI_ZI__)
    if (inputbox_information_icon == NULL)
    {
        if (!r2lMMIFlag)
        {
            x = x1 + 2;
        }
        else
        {
            x = x2 - 2;
        }
    }
    else
    {
        gui_measure_image(get_image(WGUI_INPUT_INFORMATION_ICON1), &width, &height);
        if (!r2lMMIFlag)
        {
        #if !defined(__MMI_TOUCH_SCREEN__)
            gui_show_transparent_image(
                x1 + 1,
                info_bar_y + 1,
                get_image(WGUI_INPUT_INFORMATION_ICON1),
                0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_show_transparent_image(
                x1 + 1,
                info_bar_y + (info_bar_height - height) / 2,
                get_image(WGUI_INPUT_INFORMATION_ICON1),
                0);
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            x = x1 + width + 2;
        }
        else
        {
        #if !defined(__MMI_TOUCH_SCREEN__)
            gui_show_transparent_image(
                x2 - 1 - width,
                info_bar_y + 1,
                get_image(WGUI_INPUT_INFORMATION_ICON1),
                0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_show_transparent_image(
                x2 - 1 - width,
                info_bar_y + (info_bar_height - height) / 2,
                get_image(WGUI_INPUT_INFORMATION_ICON1),
                0);
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            x = x2 - 2 - width;
        }
    }
#else 
    if (inputbox_information_icon == NULL)
    {
        if (!r2lMMIFlag)
        {
            x = x1 + 2;
        }
        else
        {
            x = x2 - 2;
        }
    }
    else
    {
        gui_measure_image(inputbox_information_icon, &width, &height);
        if (!r2lMMIFlag)
        {
        #if !defined(__MMI_TOUCH_SCREEN__)
            gui_show_transparent_image(x1 + 1, info_bar_y + 1, inputbox_information_icon, 0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_show_transparent_image(
                x1 + 1,
                info_bar_y + (info_bar_height - height) / 2,
                inputbox_information_icon,
                0);
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            x = x1 + width + 2;
        }
        else
        {
        #if !defined(__MMI_TOUCH_SCREEN__)
            gui_show_transparent_image(
                x2 - 1 - width,
                info_bar_y + 1,
                inputbox_information_icon,
                0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_show_transparent_image(
                x2 - 1 - width,
                info_bar_y + (info_bar_height - height) / 2,
                inputbox_information_icon,
                0);
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            x = x2 - 2 - width;

        }
    }

#endif 

#if defined(__MMI_TOUCH_SCREEN__)
    /*  3 is from display icon shift position by adjusting x value
     *  4 is draw rectangle width in touch screen case
     *  
     */
    wgui_information_bar_input_mode_display_width = width + 7;
    wgui_information_bar_input_mode_display_height = height;
    wgui_information_bar_input_mode_height = info_bar_height;

    gui_measure_string(inputmode_string, &width, &height);
    #ifdef __MMI_T9__
    /*  T9 chinese input mode uses icon instead of inputmode_string and
     *  no need to adjust x value ,so previous +7 ,now -7
     */
    if(width == 0) 
    {
        wgui_information_bar_input_mode_display_width -= 7;
    }
    #endif
    rect_height = gui_get_character_height();

    wgui_information_bar_input_mode_display_width += width;
    if(rect_height > wgui_information_bar_input_mode_display_height)
    {
        wgui_information_bar_input_mode_display_height = rect_height;
    }
    if (!r2lMMIFlag)
    {
        bx1 = x + 2 ;
        bx2 = x + width + 4;
        tx = x + 3;
    }
    else
    {
        bx2 = x - 2;
        bx1 = x - 4 - width;
        tx = x -3;
    }
    
#endif /* defined(__MMI_TOUCH_SCREEN__) */ 
    switch (MMI_current_input_mode)
    {
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
        case INPUT_MODE_123:
        case INPUT_MODE_MMI_LOWERCASE_ABC:  /* Elvis, for quick search */
        case INPUT_MODE_MMI_NUMERIC:        /* Elvis, for quick search */
    #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC:
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC:
        case INPUT_MODE_123_SYMBOLS:
    #endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MULTITAP_THAI:
        case INPUT_MODE_MMI_MULTITAP_THAI:
    #endif /* defined(__MMI_MULTITAP_THAI__) */ 
    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SPANISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_SPANISH:
        case INPUT_MODE_MMI_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DANISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_DANISH:
        case INPUT_MODE_MMI_LOWERCASE_DANISH:
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_POLISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_POLISH:
        case INPUT_MODE_MMI_LOWERCASE_POLISH:
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FRENCH:
        case INPUT_MODE_MULTITAP_LOWERCASE_FRENCH:
        case INPUT_MODE_MMI_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GERMAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_GERMAN:
        case INPUT_MODE_MMI_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN:
        case INPUT_MODE_MMI_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN:
        case INPUT_MODE_MMI_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN:
        case INPUT_MODE_MMI_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN:
        case INPUT_MODE_MMI_LOWERCASE_UKRAINIAN:
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_TURKISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_TURKISH:
        case INPUT_MODE_MMI_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE:
        case INPUT_MODE_MMI_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_HINDI__)
        case INPUT_MODE_MULTITAP_HINDI:
        case INPUT_MODE_MMI_MULTITAP_HINDI:
    #endif 


    #if defined (__MMI_MULTITAP_MARATHI__)
        case INPUT_MODE_MULTITAP_MARATHI:
        case INPUT_MODE_MMI_MULTITAP_MARATHI:
    #endif 

    #if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_MODE_MULTITAP_TAMIL:
        case INPUT_MODE_MMI_MULTITAP_TAMIL:
    #endif 
    #if defined (__MMI_MULTITAP_BENGALI__)
        case INPUT_MODE_MULTITAP_BENGALI:
        case INPUT_MODE_MMI_MULTITAP_BENGALI:    
    #endif 
    #if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_MODE_MULTITAP_PUNJABI:
        case INPUT_MODE_MMI_MULTITAP_PUNJABI:
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_MODE_MULTITAP_TELUGU:
        case INPUT_MODE_MMI_MULTITAP_TELUGU:
    #endif 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN:
        case INPUT_MODE_MMI_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CZECH:
        case INPUT_MODE_MULTITAP_LOWERCASE_CZECH:
        case INPUT_MODE_MMI_LOWERCASE_CZECH:
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MULTITAP_UPPERCASE_MALAY:
        case INPUT_MODE_MULTITAP_LOWERCASE_MALAY:
        case INPUT_MODE_MMI_LOWERCASE_MALAY:
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE:
        case INPUT_MODE_MMI_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FINNISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_FINNISH:
        case INPUT_MODE_MMI_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN:
        case INPUT_MODE_MMI_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH:
        case INPUT_MODE_MMI_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MULTITAP_HEBREW:
        case INPUT_MODE_MMI_MULTITAP_HEBREW:
    #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK:
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK:
        case INPUT_MODE_MMI_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DUTCH:
        case INPUT_MODE_MULTITAP_LOWERCASE_DUTCH:
        case INPUT_MODE_MMI_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN:
        case INPUT_MODE_MMI_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MULTITAP_ARABIC:
        case INPUT_MODE_MMI_MULTITAP_ARABIC:
        case INPUT_MODE_ARABIC_NUMERIC:
        case INPUT_MODE_MMI_ARABIC_NUMERIC:
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_MODE_MULTITAP_PERSIAN:
        case INPUT_MODE_MMI_MULTITAP_PERSIAN:
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_MODE_MULTITAP_URDU:
        case INPUT_MODE_MMI_MULTITAP_URDU:
    #endif /* defined(__MMI_MULTITAP_URDU__) */
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN:
        case INPUT_MODE_MMI_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN:
        case INPUT_MODE_MMI_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN:
        case INPUT_MODE_MMI_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GREEK:
        case INPUT_MODE_MULTITAP_LOWERCASE_GREEK:
        case INPUT_MODE_MMI_LOWERCASE_GREEK:
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_move_text_cursor(x, info_bar_y + 3);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_move_text_cursor(
                    tx,
                    info_bar_y + (info_bar_height - height) / 2);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_print_text(inputmode_string);
            break;
        #if defined (__MMI_T9__) || defined(__MMI_ITAP__) || defined(__MMI_KA__)|| defined(__MMI_CSTAR__)
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
    #endif
        #if defined (__MMI_T9_THAI__)
        case INPUT_MODE_SMART_THAI:
        #endif 
        #if defined(__MMI_T9_SPANISH__) || defined(__MMI_CSTAR_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
        #endif /* defined(__MMI_T9_SPANISH__) */ 
        #if defined(__MMI_T9_DANISH__) || defined(__MMI_CSTAR_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
        #endif /* defined(__MMI_T9_DANISH__) */ 
        #if defined(__MMI_T9_POLISH__) || defined(__MMI_CSTAR_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
        #endif /* defined(__MMI_T9_POLISH__) */ 
        #if defined(__MMI_T9_FRENCH__) || defined(__MMI_CSTAR_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
        #endif /* defined(__MMI_T9_FRENCH__) */ 
        #if defined(__MMI_T9_GERMAN__) || defined(__MMI_CSTAR_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
        #endif /* defined(__MMI_T9_GERMAN__) */ 
        #if defined(__MMI_T9_ITALIAN__) || defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
        #endif /* defined(__MMI_T9_ITALIAN__) */ 
        #if defined(__MMI_T9_RUSSIAN__) || defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
        #endif /* defined(__MMI_T9_RUSSIAN__) */ 

        #if defined(__MMI_T9_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
        #endif /* defined(__MMI_T9_BULGARIAN__) */ 

        #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
        #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

        #if defined(__MMI_T9_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
        #endif /* defined(__MMI_T9_INDONESIAN__) */ 
        #if defined(__MMI_T9_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
        #endif /* defined(__MMI_T9_TURKISH__) */ 
        #if defined(__MMI_T9_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
        #endif /* defined(__MMI_T9_CZECH__) */ 
        #if defined(__MMI_T9_PORTUGUESE__) || defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
        #endif /* defined(__MMI_T9_PORTUGUESE__) */ 
        #if defined(__MMI_T9_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
        #endif /* defined(__MMI_T9_FINNISH__) */ 
        #if defined(__MMI_T9_HUNGARIAN__) || defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
        #endif /* defined(__MMI_T9_HUNGARIAN__) */ 
        #if defined(__MMI_T9_ARABIC__)
        case INPUT_MODE_SMART_ARABIC:
        #endif 
        #if defined(__MMI_T9_GREEK__)|| defined(__MMI_CSTAR_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
        #endif /* defined(__MMI_T9_GREEK__) */ 
        #if defined(__MMI_T9_HEBREW__)
        case INPUT_MODE_SMART_HEBREW:
        #endif 
        #if defined(__MMI_T9_HINDI__)
        case INPUT_MODE_SMART_HINDI:
        #endif 
        #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
        #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
        #if defined(__MMI_T9_DUTCH__) || defined(__MMI_CSTAR_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
        #endif /* defined(__MMI_T9_DUTCH__) */ 
        #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
        #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
        #if defined(__MMI_T9_SWEDISH__)|| defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
        #endif /* defined(__MMI_T9_SWEDISH__) */ 
        #if defined(__MMI_T9_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
        #endif /* defined(__MMI_T9_MALAY__) */ 
        #if defined(__MMI_T9_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
        #endif /* defined(__MMI_T9_CROATIAN__) */ 
        #if defined(__MMI_T9_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
        #endif /* defined(__MMI_T9_SLOVAK__) */ 
        #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
        #endif /* defined(__MMI_T9_ROMANIAN__) */ 
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_move_text_cursor(x, info_bar_y + 3);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                gui_move_text_cursor(
                    tx,
                    info_bar_y + (info_bar_height - height) / 2);
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_print_text(inputmode_string);
            break;
        #elif defined(__MMI_ZI__)
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
    #endif
        case INPUT_MODE_SMART_THAI:
        case INPUT_MODE_SMART_ARABIC:
        case INPUT_MODE_SMART_PERSIAN:
    #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
        case INPUT_MODE_SMART_HINDI:
    #endif
    #if defined(__MMI_ZI_BENGALI__)
        case INPUT_MODE_SMART_BENGALI:
    #endif
    #if defined(__MMI_ZI_MARATHI__)
        case INPUT_MODE_SMART_MARATHI:
    #endif
    #if defined(__MMI_ZI_PUNJABI__)
        case INPUT_MODE_SMART_PUNJABI:
    #endif
    #if defined(__MMI_ZI_TAMIL__)
        case INPUT_MODE_SMART_TAMIL:
    #endif
    #if defined(__MMI_ZI_TELUGU__)
        case INPUT_MODE_SMART_TELUGU:
    #endif

    #if defined(__MMI_ZI_URDU__)
        case INPUT_MODE_SMART_URDU:
    #endif
        case INPUT_MODE_SMART_HEBREW:
        #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
        #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
        #if defined(__MMI_ZI_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
        #endif /* defined(__MMI_ZI_DANISH__) */ 
        #if defined(__MMI_ZI_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
        #endif /* defined(__MMI_ZI_POLISH__) */ 
        #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
        #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
        #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
        #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
        #if defined(__MMI_ZI_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
        #endif /* defined(__MMI_ZI_GERMAN__) */ 
        #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
        #endif /* defined(__MMI_ZI_ITALIAN__) */ 
        #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
        #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
        #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
        #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
        #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_MODE_SMART_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_SMART_LOWERCASE_UKRAINIAN:
        #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
        #if defined(__MMI_ZI_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
        #endif /* defined(__MMI_ZI_TURKISH__) */ 
        #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
        #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
        #if defined(__MMI_ZI_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
        #endif /* defined(__MMI_ZI_INDONESIAN__) */ 
        #if defined(__MMI_ZI_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
        #endif /* defined(__MMI_ZI_MALAY__) */ 
        #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
        #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
        #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
        #endif /* defined(__MMI_ZI_SWEDISH__) */ 
        #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
        #endif /* defined(__MMI_ZI_SLOVAK__) */ 
        #if defined(__MMI_ZI_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
        #endif /* defined(__MMI_ZI_DUTCH__) */ 
        #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
        #endif /* defined(__MMI_ZI_CROATIAN__) */ 
        #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
        #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
        #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
        #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
        #if defined(__MMI_ZI_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
        #endif /* defined(__MMI_ZI_GREEK__) */ 
        #if defined(__MMI_ZI_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
        #endif /* defined(__MMI_ZI_FINNISH__) */ 
        #if defined(__MMI_ZI_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
        #endif /* defined(__MMI_ZI_CZECH__) */ 
        #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
        #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 
            if (inputbox_information_icon == NULL)
            {
                if (!r2lMMIFlag)
                {
                    x += width + 2;
                }
                else
                {
                    x -= (width + 2);
                }
            }
            else
            {
                gui_measure_image(inputbox_information_icon, &width, &height);
            #if defined(__MMI_TOUCH_SCREEN__)
                wgui_information_bar_input_mode_display_width += width;
            #endif    
                if (!r2lMMIFlag)
                {
                #if !defined(__MMI_TOUCH_SCREEN__)
                    gui_show_transparent_image(
                        x,
                        info_bar_y + 1,
                        inputbox_information_icon,
                        0);
                #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    gui_show_transparent_image(
                        x,
                        info_bar_y + (info_bar_height - height) / 2,
                        inputbox_information_icon,
                        0);
                    bx1 += width + 2;
                    bx2 += width + 2;
                    tx += width + 2;
                #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    x += width + 2;
                }
                else
                {
                #if !defined(__MMI_TOUCH_SCREEN__)
                    gui_show_transparent_image(
                        x - width,
                        info_bar_y + 1,
                        inputbox_information_icon,
                        0);
                #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    gui_show_transparent_image(
                        x - width,
                        info_bar_y + (info_bar_height - height) / 2,
                        inputbox_information_icon,
                        0);
                    bx1 -= width + 2;
                    bx2 -= width + 2;
                    tx -= width + 2;
                #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    x -= (width + 2);
                }
            }
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_move_text_cursor(x, info_bar_y + 3);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_move_text_cursor(
                    tx,
                    info_bar_y + (info_bar_height - height) / 2);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            gui_print_text(inputmode_string);
            break;
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
        case INPUT_MODE_SM_MULTITAP_PINYIN:
        case INPUT_MODE_TR_STROKE:
        case INPUT_MODE_SM_STROKE:
            if (inputbox_information_icon == NULL)
            {
                if (!r2lMMIFlag)
                {
                    x += width + 2;
                }
                else
                {
                    x -= (width + 2);
                }
            }
            else
            {
                gui_measure_image(inputbox_information_icon, &width, &height);
            #if defined(__MMI_TOUCH_SCREEN__)
                wgui_information_bar_input_mode_display_width += width;
            #endif    
                if (!r2lMMIFlag)
                {
                #if !defined(__MMI_TOUCH_SCREEN__)
                    gui_show_transparent_image(
                        x,
                        info_bar_y + 1,
                        inputbox_information_icon,
                        0);
                #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    gui_draw_filled_area(
                        bx1,
                        info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                        bx2 + width, /* becuase Chinses input method is displayed by image, hence, the previous width is 0. Correct it here */
                        info_bar_y + (info_bar_height + rect_height) / 2,
                        &information_bar_BG_filler);
                    gui_show_transparent_image(
                        tx,
                        info_bar_y + (info_bar_height - height) / 2 + 1,
                        inputbox_information_icon,
                        0);
                #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    x += width + 2;
                }
                else
                {
                #if !defined(__MMI_TOUCH_SCREEN__)
                    gui_show_transparent_image(
                        x - width,
                        info_bar_y + 1,
                        inputbox_information_icon,
                        0);
                #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    gui_draw_filled_area(
                        bx1 - width,
                        info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                        bx2, /* becuase Chinses input method is displayed by image, hence, the previous width is 0. Correct it here */
                        info_bar_y + (info_bar_height + rect_height) / 2,
                        &information_bar_BG_filler);
                    gui_show_transparent_image(
                        tx - width,
                        info_bar_y + (info_bar_height - height) / 2 + 1,
                        inputbox_information_icon,
                        0);
                #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    x -= (width + 2);
                }
            }
            break;
        case INPUT_MODE_TR_BOPOMO:
        case INPUT_MODE_SM_PINYIN:
            gui_measure_image(get_image(WGUI_ZI_EZITEXT_LOGO), &width, &height);
        #if defined(__MMI_TOUCH_SCREEN__)
            wgui_information_bar_input_mode_display_width += width;
        #endif
            if (!r2lMMIFlag)
            {
            #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(x, info_bar_y + 1, get_image(WGUI_ZI_EZITEXT_LOGO), 0);
            #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                gui_show_transparent_image(
                    x,
                    info_bar_y + (info_bar_height - height) / 2,
                    get_image(WGUI_ZI_EZITEXT_LOGO),
                    0);
                tx += (width + 2);
                bx1 += (width + 2);
                bx2 += (width + 2);
            #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
                x += width + 2;
            }
            else
            {
            #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x - width,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_LOGO),
                    0);
            #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                gui_show_transparent_image(
                    x - width,
                    info_bar_y + (info_bar_height - height) / 2,
                    get_image(WGUI_ZI_EZITEXT_LOGO),
                    0);
                tx -= (width + 2);
                bx1 -= (width + 2);
                bx2 -= (width + 2);
            #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
                x -= (width + 2);
            }
            if (inputbox_information_icon == NULL)
            {
                if (!r2lMMIFlag)
                {
                    x += width + 2;
                #if defined(__MMI_TOUCH_SCREEN__)                    
                    bx1 = x + 2 ;
                    bx2 = x + width + 4;
                    tx = x + 3;
                #endif
                }
                else
                {
                    x -= (width + 2);
               #if defined(__MMI_TOUCH_SCREEN__)
                    bx2 = x - 2;
                    bx1 = x - 4 - width;
                    tx = x -3;
                #endif
                }
            }
            else
            {
                gui_measure_image(inputbox_information_icon, &width, &height);
            #if defined(__MMI_TOUCH_SCREEN__)
                wgui_information_bar_input_mode_display_width += width;
            #endif
                if (!r2lMMIFlag)
                {
                #if !defined(__MMI_TOUCH_SCREEN__)
                    gui_show_transparent_image(
                        x,
                        info_bar_y + 1,
                        inputbox_information_icon,
                        0);
                #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    gui_draw_filled_area(
                        bx1,
                        info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                        bx2 + width,
                        info_bar_y + (info_bar_height + rect_height) / 2,
                        &information_bar_BG_filler);
                    gui_show_transparent_image(
                        tx,
                        info_bar_y + (info_bar_height - height) / 2 + 1,
                        inputbox_information_icon,
                        0);
                #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    x += width + 2;
                }
                else
                {
                #if !defined(__MMI_TOUCH_SCREEN__)
                    gui_show_transparent_image(
                        x - width,
                        info_bar_y + 1,
                        inputbox_information_icon,
                        0);
                #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    gui_draw_filled_area(
                        bx1 - width,
                        info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                        bx2,
                        info_bar_y + (info_bar_height + rect_height) / 2,
                        &information_bar_BG_filler);
                    gui_show_transparent_image(
                        tx - width,
                        info_bar_y + (info_bar_height - height) / 2 + 1,
                        inputbox_information_icon,
                        0);
                #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
                    x -= (width + 2);
                }
            }
            break;

        case INPUT_MODE_MMI_MULTITAP_BPMF:
            gui_measure_image(get_image(WGUI_ZI_EZITEXT_BPMF_LOGO), &width, &height);
        #if defined(__MMI_TOUCH_SCREEN__)
            wgui_information_bar_input_mode_display_width += width;
        #endif          
            if (!r2lMMIFlag)
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_BPMF_LOGO),
                    0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2 + width,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_show_transparent_image(
                    tx,
                    info_bar_y + (info_bar_height - height) / 2 + 1,
                    get_image(WGUI_ZI_EZITEXT_BPMF_LOGO),
                    0);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            else
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x - width,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_BPMF_LOGO),
                    0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1 - width,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_show_transparent_image(
                    tx - width,
                    info_bar_y + (info_bar_height - height) / 2 + 1,
                    get_image(WGUI_ZI_EZITEXT_BPMF_LOGO),
                    0);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 

            break;

        case INPUT_MODE_MMI_MULTITAP_PINYIN:
            gui_measure_image(get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO), &width, &height);
        #if defined(__MMI_TOUCH_SCREEN__)
            wgui_information_bar_input_mode_display_width += width;
        #endif
            if (!r2lMMIFlag)
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO),
                    0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2 + width,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_show_transparent_image(
                    tx,
                    info_bar_y + (info_bar_height - height) / 2 + 1,
                    get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO),
                    0);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            else
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x - width,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO),
                    0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1 - width,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_show_transparent_image(
                    tx - width,
                    info_bar_y + (info_bar_height - height) / 2 + 1,
                    get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO),
                    0);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 

            break;

        case INPUT_MODE_MMI_SM_STROKE:
            gui_measure_image(get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO), &width, &height);
        #if defined(__MMI_TOUCH_SCREEN__)
            wgui_information_bar_input_mode_display_width += width;
        #endif
            if (!r2lMMIFlag)
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO),
                    0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2 + width,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_show_transparent_image(
                    tx,
                    info_bar_y + (info_bar_height - height) / 2 + 1,
                    get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO),
                    0);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            else
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x - width,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO),
                    0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2 + width,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_show_transparent_image(
                    tx,
                    info_bar_y + (info_bar_height - height) / 2 + 1,
                    get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO),
                    0);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 

            break;

        case INPUT_MODE_MMI_TR_STROKE:
            gui_measure_image(get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO), &width, &height);
        #if defined(__MMI_TOUCH_SCREEN__)
            wgui_information_bar_input_mode_display_width += width;
        #endif
            if (!r2lMMIFlag)
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO),
                    0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2 + width,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_show_transparent_image(
                    tx,
                    info_bar_y + (info_bar_height - height) / 2 + 1,
                    get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO),
                    0);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            else
        #if !defined(__MMI_TOUCH_SCREEN__)
                gui_show_transparent_image(
                    x - width,
                    info_bar_y + 1,
                    get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO),
                    0);
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            {
                gui_draw_filled_area(
                    bx1,
                    info_bar_y + (info_bar_height - rect_height) / 2 - 1,
                    bx2 + width,
                    info_bar_y + (info_bar_height + rect_height) / 2,
                    &information_bar_BG_filler);
                gui_show_transparent_image(
                    tx,
                    info_bar_y + (wgui_inputbox_information_bar_height - height) / 2 + 1,
                    get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO),
                    0);
            }
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 

            break;
        #endif 
    }

#endif /* __BW_MMI__ */ 

}
void wgui_show_input_mode(U8 input_mode, PU8 inputbox_information_icon)
{
    wgui_show_input_mode_internal(
                    wgui_inputbox_information_bar_x,
                    wgui_inputbox_information_bar_y,
                    wgui_inputbox_information_bar_width,
                    wgui_inputbox_information_bar_height,
                    input_mode,
                    inputbox_information_icon);

}

/*****************************************************************************
 * FUNCTION
 *  wgui_redraw_remaining_characters_display
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_redraw_remaining_characters_display_internal(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

#ifndef __MMI_HIDE_MUL_REMAINING_CHAR__

    color c;

    /* MTK Leo added, for BW_MMI display */
#ifdef __BW_MMI__
    S32 x1 = UI_device_width - 21;
    S32 y1 = 2;
    S32 x2 = UI_device_width - 1;
    S32 y2 = (MMI_title_y + MMI_title_height) - 2;
#else /* __BW_MMI__ */ 
    /* MTK Elvis for R2L characters */
    S32 x1;
    S32 x2;
    S32 y1 = wgui_inputbox_information_bar_y;
    S32 y2 = wgui_inputbox_information_bar_y + wgui_inputbox_information_bar_height - 1;

    /* MTK end */
#endif /* __BW_MMI__ */ 
    /* MTK Leo end */
#if !defined(__MMI_TOUCH_SCREEN__)
    stFontAttribute *f = &MMI_small_font;
    S32 w, n, max_n;
#else /* !defined(__MMI_TOUCH_SCREEN__) */ 
    stFontAttribute *f = &MMI_medium_font;
    S32 w, h, n, max_n;
#endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
    UI_character_type str[32];

    /* MTK Terry for 0x81 encoding support for Phone Book */
    U8 temp_0x81 = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* MTK Elvis for R2L characters */
    if (!r2lMMIFlag)
    {
        x1 = wgui_inputbox_information_bar_x + (wgui_inputbox_information_bar_width >> 1);
        x2 = wgui_inputbox_information_bar_x + wgui_inputbox_information_bar_width - 1;
    }
    else
    {
        x1 = wgui_inputbox_information_bar_x;
        x2 = wgui_inputbox_information_bar_x + (wgui_inputbox_information_bar_width / 2) - 1;

    }
    /* MTK end */

#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 
    /* Warning: Temporary change only UCS2 / ASCII. This has to be done in a more formal manner  */
    n = (MMI_multiline_inputbox.text_length >> 1) - 1;
    max_n = (MMI_multiline_inputbox.available_length >> 1) - 1;
    if ((MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_CHECK_GSM_EXTENDED) &&
        (MMI_multiline_inputbox.UCS2_count == 0))
    {
        n += MMI_multiline_inputbox.GSM_ext_count;
    }
    if ((MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING) &&
        (MMI_multiline_inputbox.text[0] == '+'))
    {
        n--;
        max_n--;
    }
    if (MMI_current_input_ext_type & INPUT_TYPE_EXT_USE_0x81_ENCODING)
    {
        temp_0x81 = mmi_phb_convert_to_0x81((S8*) MMI_multiline_inputbox.text, FALSE);
        if (0 != temp_0x81)
        {
            max_n = (MMI_multiline_inputbox.allocated_length >> 1) - 4;
            n = temp_0x81 - 3;
        }
    }
    if (!(MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_INCLUDE_INFO_AREA))
    {
        wgui_input_information_background(x1, y1, x2, y2);
    }
    gui_reset_text_clip();
    gui_sprintf(str, "%d/%d", n, max_n);
    c = *current_MMI_theme->remaining_length_text_color;
    gui_set_font(f);
    gui_set_text_color(c);
    gui_set_text_clip(0, 0, UI_device_width - 1, UI_device_height - 1);
#if !defined(__MMI_TOUCH_SCREEN__)
    w = gui_get_string_width(str);
#else 
    gui_measure_string(str, &w, &h);
#endif 
    //MTK Leo added, for BW_MMI display
    //MTK Elvis for R2L characters
    if (!r2lMMIFlag)
#if !defined(__MMI_TOUCH_SCREEN__)
        gui_move_text_cursor(x2 - 2 - w, y1 + 2);
#else 
        gui_move_text_cursor(x2 - 2 - w, y1 + (wgui_inputbox_information_bar_height - h) / 2);
#endif 
    else
#if !defined(__MMI_TOUCH_SCREEN__)
        gui_move_text_cursor(x1 + 2 + w, y1 + 2);
#else 
        gui_move_text_cursor(x1 + 2 + w, y1 + (wgui_inputbox_information_bar_height - h) / 2);
#endif 
    //MTK end
    //MTK Leo end
    gui_print_text(str);
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(x1, y1, x2, y2);
#endif /* (UI_DOUBLE_BUFFER_SUPPORT) */ 

#endif /* __MMI_HIDE_MUL_REMAINING_CHAR__ */ 
}
void wgui_redraw_remaining_characters_display(void)
{
    if(MMI_multiline_inputbox.infobar_reminder_char_callback==NULL)
        wgui_redraw_remaining_characters_display_internal();
    else
    {
        S32 x1 = wgui_inputbox_information_bar_x;
        S32 y1 = wgui_inputbox_information_bar_y;
        S32 x2 = wgui_inputbox_information_bar_x + wgui_inputbox_information_bar_width - 1;
        S32 y2 = wgui_inputbox_information_bar_y + wgui_inputbox_information_bar_height - 1;

        MMI_multiline_inputbox.infobar_reminder_char_callback(x1,y1,x2,y2);
    }
}

void wgui_multiline_inputbox_show_current_input_method(S32 x1,S32 y1,S32 x2,S32 y2)
{
	wgui_show_input_mode_internal(
            x1,
            y1,
            x2-x1+1,
            y2-y1+1,
            MMI_current_input_mode, wgui_inputbox_information_icon);
}
/*****************************************************************************
 * FUNCTION
 *  wgui_redraw_input_information_bar
 * DESCRIPTION
 *  redrwa input information bar
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_redraw_input_information_bar(void)
{
    S32 x1 = wgui_inputbox_information_bar_x;
    S32 y1 = wgui_inputbox_information_bar_y;
    S32 x2 = wgui_inputbox_information_bar_x + wgui_inputbox_information_bar_width - 1;
    S32 y2 = wgui_inputbox_information_bar_y + wgui_inputbox_information_bar_height - 1;

    gui_lock_double_buffer();
    if(MMI_multiline_inputbox.infobar_redraw_callback)
    {
       MMI_multiline_inputbox.infobar_redraw_callback(x1,y1,x2,y2); 
    }
    else
    {
        #if(!((UI_ENABLE_FRAME_SKIPPING) && (ENABLE_MULTILINE_INPUTBOX_FRAME_SKIPPING)))
        if (!(MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_INCLUDE_INFO_AREA) || redraw_on_input_method_change)
        #endif
            wgui_input_information_background(x1, y1, x2, y2);
        wgui_multiline_inputbox_show_current_input_method(x1,y1,x2,y2);
        wgui_redraw_remaining_characters_display();
    }
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(x1, y1, x2, y2);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_redraw_input_information_background
 * DESCRIPTION
 *  redrwa input information background
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_redraw_input_information_background(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 x1 = wgui_inputbox_information_bar_x;
    S32 y1 = wgui_inputbox_information_bar_y;
    S32 x2 = wgui_inputbox_information_bar_x + wgui_inputbox_information_bar_width - 1;
    S32 y2 = wgui_inputbox_information_bar_y + wgui_inputbox_information_bar_height - 1;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_lock_double_buffer();
    wgui_input_information_background(x1, y1, x2, y2);
    wgui_show_input_mode(MMI_current_input_mode, wgui_inputbox_information_icon);
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(x1, y1, x2, y2);

}

/* Back and clear key handling   */

void (*wgui_inputbox_RSK_function) (void) = NULL;
U8 wgui_inputbox_RSK_label_clear = 0;

/* store label string of RSK of input box */
UI_string_type wgui_inputbox_RSK_label_string;

/* store label icon of RSK key */
PU8 wgui_inputbox_RSK_label_icon;

/* flag used to check decimal input in multline input box */
U8 wgui_multiline_inputbox_decimal_flag = 0;

/* flag used to store decimal input mode flag */
U8 wgui_multiline_inputbox_decimal_input_mode_flag = 0;
void wgui_inputbox_handle_multitap_input_complete(S32 type);


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_inputbox_right_softkey_down
 * DESCRIPTION
 *  handle RSK down key of input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_inputbox_right_softkey_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    //MTK Terry for Firefly_856 #228 229
    //Need to be reviewed
    //to disable the multitap timer in multiline inputbox for INPUT_TYPE_PHONE_NUMBER
    wgui_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    //to disable the multitap timer
    //(1)press multitap key 1
    //(2)before timer out, press clear key or RSK to clear current hilighlighted char
    disable_active_multitap();
    /* MTK end */

    if (wgui_multiline_inputbox_decimal_input_mode_flag)
    {
        if (wgui_multiline_inputbox_decimal_flag)
        {
            UI_buffer_type p = MMI_multiline_inputbox.cursor_p;
            UI_character_type c;

            if (p != MMI_multiline_inputbox.text)
            {
                UI_STRING_GET_PREVIOUS_CHARACTER(p, c);
                if (c == (UI_character_type) '.')
                {
                    wgui_multiline_inputbox_decimal_flag = 0;
                }
            }
        }
        if (gui_multi_line_input_box_get_text_length(&MMI_multiline_inputbox) > 0)
        {
            multiline_inputbox_delete_character();
        }
    }
    else
    {
        if (gui_multi_line_input_box_get_text_length(&MMI_multiline_inputbox) > 0)
        {
            multiline_inputbox_delete_character();
        }
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_inputbox_right_softkey_up
 * DESCRIPTION
 *  handle RSK up  key of input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_inputbox_right_softkey_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputbox_RSK_function != NULL)
    {
        wgui_inputbox_RSK_function();
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_register_inputbox_handle_right_softkey_up
 * DESCRIPTION
 *  register RSK function handler of input box key
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_register_inputbox_handle_right_softkey_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    set_right_softkey_function(wgui_handle_inputbox_right_softkey_up, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_register_inputbox_handle_clear_key_up
 * DESCRIPTION
 *  register RSK function handler of input box key
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_register_inputbox_handle_clear_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetKeyHandler(wgui_handle_inputbox_right_softkey_up, KEY_CLEAR, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_inputbox_right_softkey_long_press
 * DESCRIPTION
 *  handle right soft key long press of multiline input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_inputbox_right_softkey_long_press(void)
{
    multiline_inputbox_delete_all_characters();
    if (wgui_multiline_inputbox_decimal_input_mode_flag)
    {
        wgui_multiline_inputbox_decimal_flag = 0;
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_inputbox_input
 * DESCRIPTION
 *  handle input box input
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_inputbox_input(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (gui_multi_line_input_box_get_text_length(&MMI_multiline_inputbox) > 0)
    {
    #if defined(__MMI_WITH_C_KEY__)
        if (wgui_inputbox_RSK_label_clear == 0)
        {
            if (wgui_inputbox_not_empty_callback != NULL)
            {
                wgui_inputbox_not_empty_callback();
            }
            wgui_inputbox_RSK_label_clear = 1;
            SetKeyHandler(wgui_handle_inputbox_right_softkey_down, KEY_CLEAR, KEY_EVENT_DOWN);
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_UP);
            SetKeyHandler(wgui_handle_inputbox_right_softkey_long_press, KEY_CLEAR, KEY_EVENT_LONG_PRESS);

        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 

        if (wgui_inputbox_RSK_label_clear == 0)
        {
            set_right_softkey_label((UI_string_type) get_string(STR_GLOBAL_CLEAR));
            set_right_softkey_icon(NULL);
            if (wgui_inputbox_not_empty_callback != NULL)
            {
                wgui_inputbox_not_empty_callback();
            }
            redraw_right_softkey();
            register_right_softkey_handler();
            wgui_inputbox_RSK_label_clear = 1;
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_UP);
            set_right_softkey_function(wgui_handle_inputbox_right_softkey_down, KEY_EVENT_DOWN);
        }

    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
    else
    {
    #if defined(__MMI_WITH_C_KEY__)
        if (wgui_inputbox_RSK_label_clear == 1)
        {

            wgui_inputbox_RSK_label_clear = 0;
            if (wgui_inputbox_empty_callback != NULL)
            {
                wgui_inputbox_empty_callback();
            }
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_register_inputbox_handle_clear_key_up, KEY_CLEAR, KEY_EVENT_UP);
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_LONG_PRESS);

        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 

        if (wgui_inputbox_RSK_label_clear == 1)
        {
            set_right_softkey_label(wgui_inputbox_RSK_label_string);
            set_right_softkey_icon(wgui_inputbox_RSK_label_icon);
            if (wgui_inputbox_empty_callback != NULL)
            {
                wgui_inputbox_empty_callback();
            }
            redraw_right_softkey();
            register_right_softkey_handler();
            wgui_inputbox_RSK_label_clear = 0;
            set_right_softkey_function(wgui_register_inputbox_handle_right_softkey_up, KEY_EVENT_UP);
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_DOWN);
        }
        else
        {
            set_right_softkey_label(wgui_inputbox_RSK_label_string);
            set_right_softkey_icon(wgui_inputbox_RSK_label_icon);
            redraw_right_softkey();
        }

    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
#if(0)
	if(pixtel_UI_multi_line_input_box_test_first_position(&MMI_multiline_inputbox))
	{	if(wgui_inputbox_RSK_label_clear==1)
		{	set_right_softkey_label(wgui_inputbox_RSK_label_string);
			set_right_softkey_icon(wgui_inputbox_RSK_label_icon);
			redraw_right_softkey();
			wgui_inputbox_RSK_label_clear=0;
			set_right_softkey_function(wgui_register_inputbox_handle_right_softkey_up,KEY_EVENT_UP);
			set_right_softkey_function(UI_dummy_function,KEY_EVENT_DOWN);
		}
	}
#endif /* (0) */ 
    if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING)
    {
        if (MMI_multiline_inputbox.text[0] == '+')
        {
            MMI_multiline_inputbox.available_length = (wgui_inputbox_buffer_size + 1) * ENCODING_LENGTH;
        }
        else
        {
            MMI_multiline_inputbox.available_length = wgui_inputbox_buffer_size * ENCODING_LENGTH;
        }
    }
    if (wgui_inputbox_information_flag)
    {
        wgui_redraw_remaining_characters_display();
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_inputbox_navigate
 * DESCRIPTION
 *  handle input box navigation
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_inputbox_navigate(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (gui_multi_line_input_box_test_first_position(&MMI_multiline_inputbox))
    {
        if (wgui_inputbox_RSK_label_clear == 1)
        {
            set_right_softkey_label(wgui_inputbox_RSK_label_string);
            set_right_softkey_icon(wgui_inputbox_RSK_label_icon);
            redraw_right_softkey();
            wgui_inputbox_RSK_label_clear = 0;
            set_right_softkey_function(wgui_handle_inputbox_right_softkey_up, KEY_EVENT_UP);
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_DOWN);
        }
    }
    else
    {
        if (wgui_inputbox_RSK_label_clear == 0)
        {
            set_right_softkey_label((UI_string_type) get_string(STR_GLOBAL_CLEAR));
            set_right_softkey_icon(NULL);
            redraw_right_softkey();
            wgui_inputbox_RSK_label_clear = 1;
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_UP);
            set_right_softkey_function(wgui_handle_inputbox_right_softkey_down, KEY_EVENT_DOWN);
        }
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_get_inputbox_information_icon
 * DESCRIPTION
 *  chaneg input mode of input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
//Pixte - Gurinder 03/05/04 Code Divided Into A Seprate Function for Code Resuability.
//MTK Elvis modify for stacked character---thai
void wgui_get_inputbox_information_icon(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    switch (MMI_current_input_mode)
    {
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
        case INPUT_MODE_123:
    #if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC:
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC:
        case INPUT_MODE_123_SYMBOLS:
    #endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MULTITAP_THAI:
    #endif 
    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SPANISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DANISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_DANISH:
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_POLISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_POLISH:
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FRENCH:
        case INPUT_MODE_MULTITAP_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GERMAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN:
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_TURKISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_HINDI__)
        case INPUT_MODE_MULTITAP_HINDI:
    #endif 


    #if defined(__MMI_MULTITAP_MARATHI__)
        case INPUT_MODE_MULTITAP_MARATHI:
    #endif 
    #if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_MODE_MULTITAP_TAMIL:
    #endif
    #if defined(__MMI_MULTITAP_BENGALI__)
        case INPUT_MODE_MULTITAP_BENGALI:
    #endif 

    #if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_MODE_MULTITAP_PUNJABI:
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_MODE_MULTITAP_TELUGU:
    #endif  
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CZECH:
        case INPUT_MODE_MULTITAP_LOWERCASE_CZECH:
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MULTITAP_UPPERCASE_MALAY:
        case INPUT_MODE_MULTITAP_LOWERCASE_MALAY:
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FINNISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MULTITAP_HEBREW:
    #endif 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK:
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DUTCH:
        case INPUT_MODE_MULTITAP_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MULTITAP_ARABIC:
        case INPUT_MODE_ARABIC_NUMERIC:
    #endif 
     #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_MODE_MULTITAP_PERSIAN:
    #endif 
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_MODE_MULTITAP_URDU:
    #endif 
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GREEK:
        case INPUT_MODE_MULTITAP_LOWERCASE_GREEK:
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #if defined(__MMI_T9__) || defined(__MMI_ITAP__) || defined(__MMI_KA__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;

        case INPUT_MODE_TR_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;
        case INPUT_MODE_SM_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;
        case INPUT_MODE_TR_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;
        case INPUT_MODE_SM_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        case INPUT_MODE_SMART_UPPERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif
    #if defined(__MMI_LANG_MARATHI__)
        case INPUT_MODE_MULTITAP_MARATHI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_MARATHI_STRING_ID);
            break;
    #endif /* defined(__MMI_LANG_MARATHI__) */ 

    #if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_MODE_MULTITAP_TAMIL:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_TAMIL_STRING_ID);
            break;
    #endif /* #if defined (__MMI_MULTITAP_TAMIL__)  */ 
    #if defined(__MMI_LANG_BENGALI__)
        case INPUT_MODE_MULTITAP_BENGALI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_BENGALI_STRING_ID);
            break;
    #endif /* defined(__MMI_LANG_BENGALI__) */ 


    #if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_MODE_MULTITAP_PUNJABI:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_PUNJABI_STRING_ID);
            break;
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_MODE_MULTITAP_TELUGU:
            inputmode_string = (UI_string_type) get_string(WGUI_CATEGORY_TELUGU_STRING_ID);
            break;
    #endif 
    #if defined (__MMI_T9_THAI__)
        case INPUT_MODE_SMART_THAI:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_T9_THAI__) */ 
    #if defined (__MMI_T9_ARABIC__)
        case INPUT_MODE_SMART_ARABIC:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_T9_ARABIC__) */ 
    #if defined(__MMI_T9_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_GREEK__) */ 
    #if defined (__MMI_T9_HEBREW__)
        case INPUT_MODE_SMART_HEBREW:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_T9_HEBREW__) */ 
    #if defined (__MMI_T9_HINDI__)
        case INPUT_MODE_SMART_HINDI:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_T9_HINDI__) */ 
    #if defined(__MMI_T9_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SPANISH__) */ 
    #if defined(__MMI_T9_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_DANISH__) */ 
    #if defined(__MMI_T9_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_POLISH__) */ 
    #if defined(__MMI_T9_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_FRENCH__) */ 
    #if defined(__MMI_T9_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_GERMAN__) */ 
    #if defined(__MMI_T9_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_ITALIAN__) */ 
    #if defined(__MMI_T9_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_RUSSIAN__) */ 

    #if defined(__MMI_T9_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_BULGARIAN__) */ 

    #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

    #if defined(__MMI_T9_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_INDONESIAN__) */ 
    #if defined(__MMI_T9_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_TURKISH__) */ 
    #if defined(__MMI_T9_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_CZECH__) */ 
    #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_PORTUGUESE__) */ 

    #if defined(__MMI_T9_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_FINNISH__) */ 
    #if defined(__MMI_T9_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_HUNGARIAN__) */ 
    #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
    #if defined(__MMI_T9_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_DUTCH__) */ 
    #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
    #if defined(__MMI_T9_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SWEDISH__) */ 
    #if defined(__MMI_T9_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_MALAY__) */ 
    #if defined(__MMI_T9_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_CROATIAN__) */ 
    #if defined(__MMI_T9_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SLOVAK__) */ 
    #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_ROMANIAN__) */ 
    #elif defined(__MMI_ZI__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_MODE_TR_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_MODE_SM_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_MODE_TR_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO);
            break;
        case INPUT_MODE_SM_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO);
            break;
        case INPUT_MODE_SMART_UPPERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif
        case INPUT_MODE_SMART_THAI:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
	case INPUT_MODE_SMART_PERSIAN:
            wgui_inputbox_information_icon=get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_MODE_SMART_ARABIC:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
        case INPUT_MODE_SMART_HINDI:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif
        #if defined(__MMI_ZI_BENGALI__)
        case INPUT_MODE_SMART_BENGALI:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_MARATHI__)
        case INPUT_MODE_SMART_MARATHI:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_PUNJABI__)
        case INPUT_MODE_SMART_PUNJABI:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_TAMIL__)
        case INPUT_MODE_SMART_TAMIL:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_TELUGU__)
        case INPUT_MODE_SMART_TELUGU:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_URDU__)
        case INPUT_MODE_SMART_URDU:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif
        case INPUT_MODE_SMART_HEBREW:
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

    #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
    #if defined(__MMI_ZI_DANISH__)  /* DANISH-VIKAS */
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
    #endif /* defined(__MMI_ZI_DANISH__) */ 
    #if defined(__MMI_ZI_POLISH__)  /* POLISH-VIKAS */
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
    #endif /* defined(__MMI_ZI_POLISH__) */ 
    #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
    #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
    #if defined(__MMI_ZI_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_ZI_GERMAN__) */ 
    #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_ZI_ITALIAN__) */ 
    #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
    #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_ZI_BULGARIAN__) */
    #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_MODE_SMART_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_SMART_LOWERCASE_UKRAINIAN:
    #endif /* defined(__MMI_ZI_UKRAINIAN__) */
    #if defined(__MMI_ZI_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_ZI_TURKISH__) */ 
    #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
    #if defined(__MMI_ZI_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_ZI_INDONESIAN__) */ 
    #if defined(__MMI_ZI_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
    #endif /* defined(__MMI_ZI_MALAY__) */ 
    #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
    #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_ZI_SLOVAK__) */ 
    #if defined(__MMI_ZI_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_ZI_DUTCH__) */ 
    #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_ZI_SWEDISH__) */ 
    #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_ZI_CROATIAN__) */ 
    #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
    #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
    #if defined(__MMI_ZI_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
    #endif /* defined(__MMI_ZI_GREEK__) */ 
    #if defined(__MMI_ZI_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_ZI_FINNISH__) */ 
    #if defined(__MMI_ZI_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
    #endif /* defined(__MMI_ZI_CZECH__) */ 
    #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

    #elif defined(__MMI_CSTAR__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;
        case INPUT_MODE_TR_BOPOMO:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;
        case INPUT_MODE_SM_PINYIN:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;
        case INPUT_MODE_TR_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;
        case INPUT_MODE_SM_STROKE:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        case INPUT_MODE_SMART_UPPERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif
        case INPUT_MODE_SMART_THAI:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

	case INPUT_MODE_SMART_PERSIAN:
            wgui_inputbox_information_icon=get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_MODE_SMART_ARABIC:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_MODE_SMART_HINDI:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_MODE_SMART_HEBREW:
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
            //MTK end

    #if defined(__MMI_CSTAR_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_CSTAR_SPANISH__) */ 
    #if defined(__MMI_CSTAR_DANISH__)  /* DANISH-VIKAS */
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
    #endif /* defined(__MMI_CSTAR_DANISH__) */ 
    #if defined(__MMI_CSTAR_POLISH__)  /* POLISH-VIKAS */
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
    #endif /* defined(__MMI_CSTAR_POLISH__) */ 
    #if defined(__MMI_CSTAR_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_CSTAR_NORWEGIAN__) */ 
    #if defined(__MMI_CSTAR_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_CSTAR_FRENCH__) */ 
    #if defined(__MMI_CSTAR_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_CSTAR_GERMAN__) */ 
    #if defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_CSTAR_ITALIAN__) */ 
    #if defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_CSTAR_RUSSIAN__) */ 
    #if defined(__MMI_CSTAR_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_CSTAR_BULGARIAN__) */
    #if defined(__MMI_CSTAR_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_CSTAR_TURKISH__) */ 
    #if defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_CSTAR_PORTUGUESE__) */ 
    #if defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_CSTAR_INDONESIAN__) */ 
    #if defined(__MMI_CSTAR_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
    #endif /* defined(__MMI_CSTAR_MALAY__) */ 
    #if defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_CSTAR_VIETNAMESE__) */ 
    #if defined(__MMI_CSTAR_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
    #if defined(__MMI_CSTAR_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
    #if defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
    #if defined(__MMI_CSTAR_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
    #if defined(__MMI_CSTAR_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 
    #if defined(__MMI_CSTAR_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 
    #if defined(__MMI_CSTAR_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
    #endif /* defined(__MMI_CSTAR_GREEK__) */ 
    #if defined(__MMI_CSTAR_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
    #if defined(__MMI_CSTAR_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
    #endif /* defined(__MMI_CSTAR_CZECH__) */ 
    #if defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

    #endif 
        default:
            wgui_inputbox_information_icon = NULL;
            break;
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_handle_inputbox_change_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_handle_inputbox_change_input_mode(void)
{   /* wgui_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY); */
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_lock_double_buffer();

    disable_active_multitap();
    if(MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_WORD_HIGHLIGHT)
    {
        MMI_multiline_inputbox.flags &= ~UI_MULTI_LINE_INPUT_BOX_WORD_HIGHLIGHT;
        redraw_multiline_inputbox();
    }

    /* W07.16 fix t9 sync buffer issue */
#if defined(__MMI_T9__)
    if (wgui_check_pound_key_buffer_flush)
    {
        if (wgui_check_pound_key_buffer_flush())
        {
            multiline_inputbox_delete_all_characters();
        }
    }
#endif
    
    change_input_mode();
    set_MMI_current_input_type();
    wgui_get_inputbox_information_icon();
#if defined(__MMI_INSCREEN_MULTILINE_TEXTBOX__)
    if (MMI_multi_line_inputbox_present)
    {
        show_multiline_inputbox();
    }
    else
#endif /* defined(__MMI_INSCREEN_MULTILINE_TEXTBOX__) */ 
    {
        redraw_on_input_method_change = 1;
        /* START TARUN PMT 20040927  ADDED : Check the flag before redrawing the info bar */
        if (wgui_inputbox_information_flag)
        {
            wgui_redraw_input_information_bar();
        }
        /* END TARUN PMT 20040927 */
        redraw_on_input_method_change = 0;
    }
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(
        0,
        0,
        UI_device_width,    /* MMI_MULTILINE_INPUTBOX_X+MMI_MULTILINE_INPUTBOX_WIDTH-1, */
        UI_device_height);        // MMI_MULTILINE_INPUTBOX_Y+MMI_MULTILINE_INPUTBOX_HEIGHT+MMI_MULTITAP_HEIGHT/*+UI_device_height - MMI_TITLE_HEIGHT - MMI_BUTTON_BAR_HEIGHT */);
}


/*****************************************************************************
 * FUNCTION
 *  change_multiline_information_bar_input_method
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void change_multiline_information_bar_input_method(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_get_inputbox_information_icon();
    redraw_on_input_method_change = 1;
    /* START TARUN PMT 20040927  ADDED : Check the flag before redrawing the info bar */
    if (wgui_inputbox_information_flag)
    {
        wgui_redraw_input_information_bar();
    }
    /* END TARUN PMT 20040927 */
    redraw_on_input_method_change = 0;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_handle_symbol_picker_star_key_down
 * DESCRIPTION
 *  Show symbols screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_handle_symbol_picker_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    disable_active_multitap();
    EntrySymbolPickerScreen();
}



/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_handle_multitap_input_complete
 * DESCRIPTION
 *  handle multitap input of input box
 * PARAMETERS
 *  type        [IN]        ;- type of input mode
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_handle_multitap_input_complete(S32 type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputbox_active_multitap == WGUI_INPUTBOX_MULTITAP_NONE)
    {
        return;
    }
    switch (wgui_inputbox_active_multitap)
    {
        case WGUI_INPUTBOX_EDIT_MULTITAP_STAR:
            if (type == WGUI_INPUTBOX_EDIT_MULTITAP_STAR)
            {
                return;
            }
            if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_STATE_MULTITAP)
            {
                gui_multitap_input_complete(&wgui_inputbox_multitap_star_key);
            }
            gui_cancel_timer(wgui_inputbox_phone_number_input_complete_multitap_star_key);
            break;
        #ifdef __MMI_MULTITAP_KEY_0__

        case WGUI_INPUTBOX_EDIT_MULTITAP_ZERO:
            if (type == WGUI_INPUTBOX_EDIT_MULTITAP_ZERO)
            {
                return;
            }
            if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_STATE_MULTITAP)
            {
                gui_multitap_input_complete(&wgui_inputbox_multitap_zero_key);
            }
            gui_cancel_timer(wgui_inputbox_phone_number_input_complete_multitap_zero_key);
            break;
        #endif /* __MMI_MULTITAP_KEY_0__ */ 

    }
    wgui_inputbox_active_multitap = WGUI_INPUTBOX_MULTITAP_NONE;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_complete_multitap_star_key
 * DESCRIPTION
 *  handle multitap star key of phone number input box
 * PARAMETERS
 *  void
 *  noen(?)     [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_input_complete_multitap_star_key(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multitap_input_complete(&wgui_inputbox_multitap_star_key);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_handle_multitap_star_key_down
 * DESCRIPTION
 *  handle multitap star key down of phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_input_handle_multitap_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_STAR);
    wgui_inputbox_active_multitap = WGUI_INPUTBOX_EDIT_MULTITAP_STAR;
    gui_change_multitap_input_state(&wgui_inputbox_multitap_star_key);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_handle_multitap_star_key_up
 * DESCRIPTION
 *  handle multitap star key up  of phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_input_handle_multitap_star_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_start_timer(MMI_MULTITAP_TIMEOUT, wgui_inputbox_phone_number_input_complete_multitap_star_key);
}

#ifdef __MMI_MULTITAP_KEY_0__


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_complete_multitap_zero_key
 * DESCRIPTION
 *  handle multitap zero key  of phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_input_complete_multitap_zero_key(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multitap_input_complete(&wgui_inputbox_multitap_zero_key);
    SetKeyHandler(MMI_key_0_down, KEY_0, KEY_EVENT_DOWN);
    SetKeyHandler(MMI_key_0_down, KEY_0, KEY_REPEAT);
    SetKeyHandler(MMI_key_0_up, KEY_0, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_handle_multitap_zero_key_down
 * DESCRIPTION
 *  handle multitap zero key down  of phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_input_handle_multitap_zero_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ZERO);
    wgui_inputbox_active_multitap = WGUI_INPUTBOX_EDIT_MULTITAP_ZERO;
    gui_change_multitap_input_state(&wgui_inputbox_multitap_zero_key);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_handle_multitap_zero_key_up
 * DESCRIPTION
 *  handle multitap zero key up   of phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_input_handle_multitap_zero_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_start_timer(MMI_MULTITAP_TIMEOUT + 400, wgui_inputbox_phone_number_input_complete_multitap_zero_key);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_handle_zero_key_long_press
 * DESCRIPTION
 *  handle  zero key long press  of phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_input_handle_zero_key_long_press(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_zero_key_down, KEY_0, KEY_REPEAT);
    if (!(MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_STATE_MULTITAP))
    {
        multiline_inputbox_delete_character();
    }
    wgui_inputbox_phone_number_input_handle_multitap_zero_key_down();
    SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_zero_key_down, KEY_0, KEY_EVENT_DOWN);
    SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_zero_key_up, KEY_0, KEY_EVENT_UP);
}

#endif /* __MMI_MULTITAP_KEY_0__ */ 


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_handle_hash_key_down
 * DESCRIPTION
 *  handle  hash key down of phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_input_handle_hash_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    multiline_inputbox_direct_input((UI_character_type) '#');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_input_handle_star_key_down
 * DESCRIPTION
 *  handle  star key down of phone number input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
/* MTK Elvis */
void wgui_inputbox_phone_number_input_handle_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    multiline_inputbox_direct_input((UI_character_type) '*');
}



/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_phone_number_numeric_key_handler
 * DESCRIPTION
 *  handle numeric input of  phone number input box
 * PARAMETERS
 *  k       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_phone_number_numeric_key_handler(MMI_key_code_type k)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    multiline_inputbox_direct_input((UI_character_type) ('0' + k));

#ifdef __MMI_MULTITAP_KEY_0__
    SetKeyHandler(MMI_key_0_down, KEY_0, KEY_EVENT_DOWN);
    SetKeyHandler(MMI_key_0_down, KEY_0, KEY_REPEAT);
    SetKeyHandler(MMI_key_0_up, KEY_0, KEY_EVENT_UP);
#endif /* __MMI_MULTITAP_KEY_0__ */ 
}


/*****************************************************************************
 * FUNCTION
 *  wgui_show_inputbox
 * DESCRIPTION
 *  show input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_show_inputbox(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 
    if (wgui_inputbox_information_flag)
    {
        wgui_redraw_input_information_bar();
    }
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
#endif 
    show_multiline_inputbox();
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_numeric_password_input_handle_start_key_down
 * DESCRIPTION
 *  handle numeric input of password screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_numeric_password_input_handle_start_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    multiline_inputbox_direct_input((UI_character_type) '*');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_numeric_password_input_handle_hash_key_down
 * DESCRIPTION
 *  handle hash  input of passwrod input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_numeric_password_input_handle_hash_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    multiline_inputbox_direct_input((UI_character_type) '#');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_keypad_numeric_handle_star_key_down
 * DESCRIPTION
 *  handle star key   input of multiline input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_keypad_numeric_handle_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    multiline_inputbox_direct_input((UI_character_type) '*');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_keypad_numeric_handle_pound_key_down
 * DESCRIPTION
 *  handle pound key   input of multiline input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_keypad_numeric_handle_pound_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    multiline_inputbox_direct_input((UI_character_type) '#');
}


/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_signed_numeric_handle_star_key_down
 * DESCRIPTION
 *  handle decimal key  input of multiline input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_multiline_inputbox_signed_numeric_handle_star_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    UI_buffer_type t = MMI_multiline_inputbox.text;
    UI_character_type first_char;
    

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    first_char = MMI_multiline_inputbox.text[0];
    if (first_char == (UI_character_type) '-')
    {
        /* negative to positive */
        gui_multi_line_input_box_delete_character_in_pos(&MMI_multiline_inputbox, 0);
    }
    else
    {
        /* positive to negative */
        gui_multi_line_input_box_insert_character_in_pos(&MMI_multiline_inputbox, (UI_character_type)'-', 0);        
    }
    redraw_multiline_inputbox();
    multiline_inputbox_input_callback();
}


/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_decimal_numeric_handle_pound_key_down
 * DESCRIPTION
 *  handle decimal key  input of multiline input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_multiline_inputbox_decimal_numeric_handle_pound_key_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    UI_buffer_type t = MMI_multiline_inputbox.text;
    UI_character_type first_char;
    UI_character_type second_char;
    
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    first_char = MMI_multiline_inputbox.text[0] | (MMI_multiline_inputbox.text[1] << 8);
    second_char = MMI_multiline_inputbox.text[2] | (MMI_multiline_inputbox.text[3] << 8);
    if (wgui_multiline_inputbox_decimal_flag)
    {
        UI_editor_play_tone_invalid_data();
        return;
    }
    if (gui_multi_line_input_box_test_first_position(&MMI_multiline_inputbox)  ||
        (first_char == (UI_character_type)'-' && second_char == 0))
    {
        multiline_inputbox_direct_input((UI_character_type) '0');
    }
    multiline_inputbox_direct_input((UI_character_type) '.');
    wgui_multiline_inputbox_decimal_flag = 1;
}

U8 wgui_multiline_inputbox_input_mode_changed = 0;
U8 wgui_multiline_inputbox_input_type = 0;

MMI_BOOL wgui_inputbox_input_mode_changed = 0;
U8 wgui_inputbox_input_type = 0;

/*****************************************************************************
 * FUNCTION
 *  wgui_inputbox_change_input_type
 * DESCRIPTION
 *  change multiline input box type to the desired one
 * PARAMETERS
 *  int input_mode      the desired input mode
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_inputbox_change_input_type(U8 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_input_type = input_type;
    wgui_inputbox_input_mode_changed = 1;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_change_input_type
 * DESCRIPTION
 *  change multiline input box type to the desired one
 * PARAMETERS
 *  int input_mode      the desired input mode
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_multiline_inputbox_change_input_type(U8 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_multiline_inputbox_input_type = input_type;
    wgui_multiline_inputbox_input_mode_changed = 1;
}





/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_insert_symbol
 * DESCRIPTION
 *  insert symbol in multiline input box
 * PARAMETERS
 *  symbol      [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_multiline_inputbox_insert_symbol(UI_character_type symbol)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    multiline_inputbox_direct_input(symbol);
}

//begin hide API
/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_hide_text_content
 * DESCRIPTION
 *  hide/show multi-line input box content
 * PARAMETERS
 *  hide      [IN]  MMI_TRUE -> hide the content ; MMI_FALSE -> show the content (normal)       
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_multiline_inputbox_hide_text_content(MMI_BOOL hide)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if(hide == MMI_TRUE)
    {
        MMI_multiline_inputbox.ext_flags |= GUI_MULTI_LINE_INPUT_BOX_HIDE_TEXT_CONTENT;
    }
    else
    {
        MMI_multiline_inputbox.ext_flags &= ~GUI_MULTI_LINE_INPUT_BOX_HIDE_TEXT_CONTENT;
    }
}
//end hide API


/*****************************************************************************
 * FUNCTION
 *  mmi_ime_ui_get_current_type
 * DESCRIPTION
 *  Query current input method type
 * PARAMETERS
 *  void
 * RETURNS
 *  types [OUT] 0 : multitap, others : smart (Please attention that the multitap pinyin is also belong to smart )
 *****************************************************************************/
int mmi_ime_ui_get_current_type()
{
    switch (MMI_current_input_mode)
    {
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
        case INPUT_MODE_123:
        #if defined (__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MULTITAP_THAI:
    #endif /* defined (__MMI_MULTITAP_THAI__) */ 
    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SPANISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DANISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_DANISH:
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_POLISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_POLISH:
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FRENCH:
        case INPUT_MODE_MULTITAP_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GERMAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN:
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_TURKISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CZECH:
        case INPUT_MODE_MULTITAP_LOWERCASE_CZECH:
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MULTITAP_UPPERCASE_MALAY:
        case INPUT_MODE_MULTITAP_LOWERCASE_MALAY:
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FINNISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MULTITAP_HEBREW:
    #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK:
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DUTCH:
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MULTITAP_ARABIC:
        case INPUT_MODE_ARABIC_NUMERIC:
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_MODE_MULTITAP_PERSIAN:
    #endif
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GREEK:
        case INPUT_MODE_MULTITAP_LOWERCASE_GREEK:
    #endif /* defined(__MMI_MULTITAP_GREEK__) */  
            return 0;
            break;
            #ifdef __MMI_T9__
        case INPUT_MODE_TR_BOPOMO:
        case INPUT_MODE_SM_PINYIN:
        case INPUT_MODE_TR_STROKE:
        case INPUT_MODE_SM_STROKE:
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
        case INPUT_MODE_SM_MULTITAP_PINYIN:
    #if defined (__MMI_T9_THAI__)
        case INPUT_MODE_SMART_THAI:
    #endif 
    #if defined(__MMI_T9_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_T9_SPANISH__) */ 
    #if defined(__MMI_T9_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
    #endif /* defined(__MMI_T9_DANISH__) */ 
    #if defined(__MMI_T9_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
    #endif /* defined(__MMI_T9_POLISH__) */ 
    #if defined(__MMI_T9_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_T9_FRENCH__) */ 
    #if defined(__MMI_T9_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_T9_GERMAN__) */ 
    #if defined(__MMI_T9_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_T9_ITALIAN__) */ 
    #if defined(__MMI_T9_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_T9_RUSSIAN__) */ 
    #if defined(__MMI_T9_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_T9_BULGARIAN__) */ 

    #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

    #if defined(__MMI_T9_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_T9_TURKISH__) */ 

    #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_T9_PORTUGUESE__) */ 
    #if defined(__MMI_T9_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_T9_FINNISH__) */ 
    #if defined(__MMI_T9_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_T9_HUNGARIAN__) */ 
    #if defined(__MMI_T9_ARABIC__)
        case INPUT_MODE_SMART_ARABIC:
    #endif 
    #if defined(__MMI_T9_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
    #endif /* defined(__MMI_T9_GREEK__) */ 
    #if defined(__MMI_T9_HEBREW__)
        case INPUT_MODE_SMART_HEBREW:
    #endif 
    #if defined(__MMI_T9_HINDI__)
        case INPUT_MODE_SMART_HINDI:
    #endif 
    #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
    #if defined(__MMI_T9_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_T9_DUTCH__) */ 
    #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
    #if defined(__MMI_T9_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_T9_SWEDISH__) */ 
    #if defined(__MMI_T9_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
    #endif /* defined(__MMI_T9_MALAY__) */ 
    #if defined(__MMI_T9_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_T9_CROATIAN__) */ 
    #if defined(__MMI_T9_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_T9_SLOVAK__) */ 
    #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_T9_ROMANIAN__) */ 
            return 1;
            break;
    #elif defined __MMI_ZI__
        case INPUT_MODE_TR_BOPOMO:
        case INPUT_MODE_SM_PINYIN:
        case INPUT_MODE_TR_STROKE:
        case INPUT_MODE_SM_STROKE:
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            /* MTK Elvis multitap phonetic input mode */
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            /* MTK end */
        case INPUT_MODE_SMART_THAI:
    #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
    #if defined(__MMI_ZI_HEBREW__)
        case INPUT_MODE_SMART_HEBREW:
    #endif 
    #if defined(__MMI_ZI_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
    #endif /* defined(__MMI_ZI_DANISH__) */ 
    #if defined(__MMI_ZI_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
    #endif /* defined(__MMI_ZI_POLISH__) */ 
    #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
    #if defined(__MMI_ZI_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_ZI_GERMAN__) */ 
    #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_ZI_ITALIAN__) */ 
    #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
    #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_MODE_SMART_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_SMART_LOWERCASE_UKRAINIAN:
    #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_ZI_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_ZI_TURKISH__) */ 
    #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
    #if defined(__MMI_ZI_INDONESIAN__) || defined(__MMI_T9_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_ZI_INDONESIAN__) || defined(__MMI_T9_INDONESIAN__) */ 
    #if defined(__MMI_T9_CZECH__) || defined(__MMI_ZI_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
    #endif /* defined(__MMI_T9_CZECH__) || defined(__MMI_ZI_CZECH__) */ 
    #if defined(__MMI_ZI_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
    #endif /* defined(__MMI_ZI_MALAY__) */ 
    #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
    #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_ZI_SWEDISH__) */ 
    #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_ZI_SLOVAK__) */ 
    #if defined(__MMI_ZI_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_ZI_DUTCH__) */ 
    #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_ZI_CROATIAN__) */ 
    #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
    #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
    #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
    #if defined(__MMI_ZI_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
    #endif /* defined(__MMI_ZI_GREEK__) */ 
    #if defined(__MMI_ZI_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_ZI_FINNISH__) */ 
    #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 
            return 2;
            break;

    #elif defined __MMI_CSTAR__
        case INPUT_MODE_TR_BOPOMO:
        case INPUT_MODE_SM_PINYIN:
        case INPUT_MODE_TR_STROKE:
        case INPUT_MODE_SM_STROKE:
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
        case INPUT_MODE_SM_MULTITAP_PINYIN:
        case INPUT_MODE_SMART_THAI:
    #if defined(__MMI_CSTAR_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_CSTAR_SPANISH__) */ 
    #if defined(__MMI_CSTAR_HEBREW__)
        case INPUT_MODE_SMART_HEBREW:
    #endif 
    #if defined(__MMI_CSTAR_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
    #endif /* defined(__MMI_CSTAR_DANISH__) */ 
    #if defined(__MMI_CSTAR_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
    #endif /* defined(__MMI_CSTAR_POLISH__) */ 
    #if defined(__MMI_CSTAR_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_CSTAR_FRENCH__) */ 
    #if defined(__MMI_CSTAR_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_CSTAR_GERMAN__) */ 
    #if defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_CSTAR_ITALIAN__) */ 
    #if defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_CSTAR_RUSSIAN__) */ 
    #if defined(__MMI_CSTAR_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_CSTAR_BULGARIAN__) */ 
    #if defined(__MMI_CSTAR_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_CSTAR_TURKISH__) */ 
    #if defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_CSTAR_PORTUGUESE__) */ 
    #if defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_CSTAR_INDONESIAN__) */ 
    #if defined(__MMI_CSTAR_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
    #endif /* defined(__MMI_CSTAR_CZECH__) */ 
    #if defined(__MMI_CSTAR_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
    #endif /* defined(__MMI_CSTAR_MALAY__) */ 
    #if defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_CSTAR_VIETNAMESE__) */ 
    #if defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
    #if defined(__MMI_CSTAR_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
    #if defined(__MMI_CSTAR_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
    #if defined(__MMI_CSTAR_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
    #if defined(__MMI_CSTAR_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 
    #if defined(__MMI_CSTAR_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 
    #if defined(__MMI_CSTAR_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_CSTAR_NORWEGIAN__) */ 
    #if defined(__MMI_CSTAR_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
    #endif /* defined(__MMI_CSTAR_GREEK__) */ 
    #if defined(__MMI_CSTAR_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
    #if defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 
            return 3;
            break;
    #endif
            
    }
    return -1;
}

/*****************************************************************************
 * FUNCTION
 *  mmi_ime_ui_screen_state_query
 * DESCRIPTION
 *  Query input method screen state
 * PARAMETERS
 *  void
 * RETURNS
 *  MMI_TRUE [OUT] LSK label is changable, not controlled by input method
 *****************************************************************************/
#if defined (__MMI_ZI__) || defined(__MMI_T9__) 
extern MMI_BOOL mmi_ime_screen_state_query(void);
#endif
MMI_BOOL mmi_ime_ui_screen_state_query(void)
{
    int type;
    MMI_BOOL result = MMI_TRUE;
    type = mmi_ime_ui_get_current_type();
    switch (type)
    {
    case 0: /* Multitap */
        result = MMI_TRUE;
        break;
#if defined (__MMI_ZI__) || defined(__MMI_T9__) 
    case 1: /* T9 */
    case 2: /* Zi */
        result = mmi_ime_screen_state_query();
        break;
#endif
    default:
        result = MMI_TRUE;
        break;
    }
    return result;
}

/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_validation_callback
 * DESCRIPTION
 *  multiline input boxvalidation call back
 * PARAMETERS
 *  text            [IN]        Text of input box
 *  cursor          [IN]        
 *  text_length     [IN]        Text length
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_multiline_inputbox_validation_callback(UI_buffer_type text, UI_buffer_type cursor, S32 text_length)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (wgui_inputbox_validation_callback != NULL && mmi_ime_ui_screen_state_query() == MMI_TRUE)
    {
        wgui_inputbox_validation_callback(text, cursor, text_length);
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_get_UCS2_count
 * DESCRIPTION
 *  Return UCS2 count of multiline input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
S32 wgui_multiline_inputbox_get_UCS2_count(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (MMI_multiline_inputbox.UCS2_count);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_get_GSM_ext_count
 * DESCRIPTION
 *  Returns the number of GSM extended characters in the
 *  multiline input box buffer
 * PARAMETERS
 *  void
 * RETURNS
 *  The number of extended characters
 *****************************************************************************/
S32 wgui_multiline_inputbox_get_GSM_ext_count(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (MMI_multiline_inputbox.GSM_ext_count);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_inputbox_test_change_input_mode
 * DESCRIPTION
 *  test the input mode of input box
 * PARAMETERS
 *  void
 * RETURNS
 *  byte
 *****************************************************************************/
U8 wgui_multiline_inputbox_test_change_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_USE_ENCODING_BASED_LENGTH)
    {
        if (MMI_multiline_inputbox.UCS2_count <= 0)
        {
#ifdef __MMI_MESSAGES_CHAT__
            if ((MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_SMS_MAX_LENGTH_HANDLING) &&
                (((MMI_multiline_inputbox.text_length - ENCODING_LENGTH) >> 1 + MMI_multiline_inputbox.GSM_ext_count) >= MAX_MSG_SIZE_UCS2))
            {
                return (0);
            }
            else
#endif /* __MMI_MESSAGES_CHAT__ */ 
                if ((MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_ONE_LESS_CHARACTER) &&
                    (MMI_multiline_inputbox.text_length + MMI_multiline_inputbox.GSM_ext_count * ENCODING_LENGTH
                    >= (MMI_multiline_inputbox.available_length>>1)-1))
                {
                    return (0);
                }
                else if (MMI_multiline_inputbox.text_length + MMI_multiline_inputbox.GSM_ext_count * ENCODING_LENGTH
                    >= (MMI_multiline_inputbox.available_length >> 1))
                {
                    return (0);
                }
                else
                {
                    return (1);
                }
        }
        else
        {
            return (1);
        }
    }
    else
    {
        return (1);
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_setup_inputbox_ext
 * DESCRIPTION
 *  set teh input box
 * PARAMETERS
 *  x                           [IN]        Start x postition of inputr box
 *  y                           [IN]        Strar y position of input box
 *  width                       [IN]        Width of input box
 *  height                      [IN]        Height of input boxc
 *  buffer                      [IN]        Buffer of input box
 *  buffer_size                 [IN]        
 *  category_screen_ID          [IN]        Category screen id
 *  RSK_label                   [IN]        RSK label
 *  RSK_icon                    [IN]        RSK icon
 *  input_type                  [IN]        
 *  history_buffer              [IN]        History buffer
 *  information_bar_flag        [IN]        Information flag
 *  additional_flags            [IN]        Additional inputbox flags
 *  min_text_height             [IN]        Minimum text height
 *  min_line_height             [IN]        Minimum text height
 *  header_height               [IN]        Editor header height
 *  footer_height               [IN]        Editor footer height
 *  icon_callback               [IN]        
 *  input(?)                    [IN]        Type
 * RETURNS
 *  void
 *****************************************************************************/
#if defined(__MMI_SMART_MESSAGE_MO__) && !defined(__MMI_MESSAGES_EMS__)
extern nsm_msg_struct g_nsm_msg_context;
#endif 

void wgui_setup_inputbox_ext(
        S32 x,
        S32 y,
        S32 width,
        S32 height,
        U8 *buffer,
        S32 buffer_size,
        U16 category_screen_ID,
        UI_string_type RSK_label,
        PU8 RSK_icon,
        U16 input_type,
        U8 *history_buffer,
        U8 information_bar_flag,
        U32 additional_flags,
        S16 min_text_height,
        S16 min_line_height,
        S16 header_height,
        S16 footer_height,
        multi_line_input_box_icon_hdlr icon_callback)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 l, h, fh;
    S16 input_type_flags = input_type & (~INPUT_TYPE_MASK);
    U8 saved_MMI_current_input_mode;
    U32 saved_inputbox_flags;
    U8 override_history_input_type = 0;
    S16 saved_input_type = input_type;
    U8 plus_character_handling = 0;
#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    mmi_pen_handwriting_area_struct stroke_area;
    mmi_pen_handwriting_area_struct ext_stroke;
#endif /* defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__) */ 

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    //Ailsa for remvoing smart ABC, abc from INPUT_TYPE_ALPHANUMERIC_PASSWORD
    mmi_is_alphanum_pass = MMI_FALSE;
    if ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_ALPHANUMERIC_PASSWORD)
    {
        mmi_is_alphanum_pass = MMI_TRUE;
    }
#if defined(__MMI_INDIC_ALG__)
	/*set up required in indic engine when multi-line editor is launched*/
	ire_set_use_multitap_multi_line();
#endif 

    UI_UNUSED_PARAMETER(width);
    /* W05.36 Fix Vietnamese Tone Input Issue */
    set_current_input_box_type(EDITOR_MULTILINE_INPUT_BOX);
    /* to add the T9 max length limitation */
#if defined(__MMI_T9__)
    if (buffer_size > CHINESE_BUFFER_LENGTH)
    {
        buffer_size = CHINESE_BUFFER_LENGTH;
    }
#endif /* defined(__MMI_T9__) */ 
    //MTK Terry move to here for wgui_set_default_input_type
    wgui_inputbox_buffer_size = buffer_size;
    if (input_type & INPUT_TYPE_PLUS_CHARACTER_HANDLING)
    {
        plus_character_handling = 1;
    }
    wgui_set_default_input_type(&input_type);
    l = gui_strlen((UI_string_type) buffer);
    if (l >= buffer_size)
    {
        l = buffer_size - 1;
        ((UI_string_type)buffer)[l] = 0;

        MMI_ASSERT(((UI_string_type)buffer)[l] == 0);   /* cann't support large buffer on ROM */
    }

    create_multiline_inputbox_set_buffer((UI_string_type) buffer, buffer_size, l, l);
    if (information_bar_flag)
        wgui_inputbox_information_flag = 1;
    MMI_multiline_inputbox.flags |= additional_flags;
    MMI_multiline_inputbox.min_text_height = min_text_height;
    MMI_multiline_inputbox.min_line_height = min_line_height;
    MMI_multiline_inputbox.header_height = header_height;
    MMI_multiline_inputbox.footer_height = footer_height;
    MMI_multiline_inputbox.icon_callback = icon_callback;
    wgui_inputbox_RSK_label_icon = RSK_icon;
    wgui_inputbox_RSK_label_string = RSK_label;

    register_multiline_inputbox_keys();
    if (wgui_inputbox_information_flag)
    {
    #ifdef __BW_MMI__
        move_multiline_inputbox(x, y);
        h = height;
    #else /* __BW_MMI__ */ 
        move_multiline_inputbox(x, y + wgui_inputbox_information_bar_height);
        h = height - wgui_inputbox_information_bar_height;
    #endif /* __BW_MMI__ */ 
    #ifdef UI_SMALL_CATEGORY_EDITOR
        if (wgui_small_editor_information_flag && whether_no_small_screen())
        {
            wgui_setup_input_information(
                MMI_multiline_inputbox.x + 1,
                MMI_multiline_inputbox.y - wgui_inputbox_information_bar_height,
                MMI_multiline_inputbox.width - 2,
                wgui_inputbox_information_bar_height);
        }
        else
    #endif /* UI_SMALL_CATEGORY_EDITOR */ 
            wgui_setup_input_information(
                MMI_multiline_inputbox.x,
                MMI_multiline_inputbox.y - wgui_inputbox_information_bar_height,
                MMI_multiline_inputbox.width,
                wgui_inputbox_information_bar_height);
    }
    else
    {
        move_multiline_inputbox(x, y);
        h = height;
    }
    gui_set_font(MMI_multiline_inputbox.text_font);
    fh = gui_get_character_height();

    resize_multiline_inputbox(width, h); //hjf, it should use user defined width
    switch (input_type & INPUT_TYPE_MASK)
    {
        case INPUT_TYPE_NUMERIC_PASSWORD:
        case INPUT_TYPE_SAT_NUMERIC_PASSWORD:
            override_history_input_type = 1;
            break;
    }
    set_multiline_inputbox_category_history(category_screen_ID, history_buffer, (S16*) & input_type);

    saved_MMI_current_input_mode = MMI_current_input_mode;
    saved_inputbox_flags = MMI_multiline_inputbox.flags;
    if (override_history_input_type)
    {
        input_type = saved_input_type;
    }

    /* Get input mode from "Input Methods" list selection */
    if (wgui_is_overridable_input_type(input_type))
    {    
        wgui_change_inputbox_type = wgui_inputbox_change_input_type;
    }
    wgui_inputbox_insert_symbol = wgui_multiline_inputbox_insert_symbol;

    if (wgui_inputbox_input_mode_changed && wgui_is_overridable_input_type(input_type))
    {
        input_type = wgui_inputbox_input_type;
        wgui_inputbox_input_mode_changed = 0;
    #if defined(__MMI_TOUCH_SCREEN__)
        mmi_pen_editor_set_vk_to_show(MMI_TRUE);
    #endif 
    }
    input_type |= input_type_flags;
    MMI_current_input_type = input_type;
    wgui_inputbox_information_icon = NULL;
    wgui_multiline_inputbox_decimal_input_mode_flag = 0;
    wgui_inputbox_UCS2_count_function = wgui_multiline_inputbox_get_UCS2_count;
    wgui_inputbox_GSM_ext_count_function = wgui_multiline_inputbox_get_GSM_ext_count;
    if (input_type & INPUT_TYPE_USE_ENCODING_BASED_LENGTH)
    {
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_USE_ENCODING_BASED_LENGTH;
        if (input_type & INPUT_TYPE_ONE_LESS_CHARACTER)
        {
            MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_ONE_LESS_CHARACTER;
            UI_TEST_UCS2_COUNT_SET_LENGTH_TYPE2(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }
        else if (input_type & INPUT_TYPE_FORTY_FOUR_LESS_CHARACTER)
        {
            MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_FORTY_FOUR_LESS_CHARACTER;
            UI_TEST_UCS2_COUNT_SET_LENGTH_TYPE3(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }
        else
        {
            UI_TEST_UCS2_COUNT_SET_LENGTH(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }

        if (input_type & INPUT_TYPE_SMS_CHAT_MAX_LENGTH_HANDLING)
        {
            MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_SMS_MAX_LENGTH_HANDLING;
        }

    }
    
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
        #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
/* under construction !*/
        #endif
        #if defined(__MMI_ZI_BENGALI__)
/* under construction !*/
        #endif
/* under construction !*/
        #if defined(__MMI_ZI_MARATHI__)
/* under construction !*/
        #endif
/* under construction !*/
        #if defined(__MMI_ZI_PUNJABI__)
/* under construction !*/
        #endif
/* under construction !*/
        #if defined(__MMI_ZI_TAMIL__)
/* under construction !*/
        #endif
/* under construction !*/
        #if defined(__MMI_ZI_TELUGU__)
/* under construction !*/
        #endif
/* under construction !*/
        #if defined(__MMI_ZI_URDU__)
/* under construction !*/
        #endif
/* under construction !*/
        #if defined(__MMI_MULTITAP_RUSSIAN__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
        #if defined(__MMI_T9_RUSSIAN__) || defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_T9_RUSSIAN__) || defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
        #if defined(__MMI_MULTITAP_BULGARIAN__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */  
        #if defined(__MMI_MULTITAP_UKRAINIAN__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
        #if defined(__MMI_T9_BULGARIAN__) || defined(__MMI_ZI_BULGARIAN__)
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_T9_BULGARIAN__) || defined(__MMI_ZI_BULGARIAN__) */ 
        #if defined(__MMI_T9_UKRAINIAN__) || defined(__MMI_ZI_UKRAINIAN__)
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_T9_UKRAINIAN__) || defined(__MMI_ZI_UKRAINIAN__) */ 
        #if defined(__MMI_MULTITAP_VIETNAMESE__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
        #if defined(__MMI_ZI_VIETNAMESE__) || defined(__MMI_T9_VIETNAMESE__)
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_ZI_VIETNAMESE__) || defined(__MMI_T9_VIETNAMESE__) */ 
        #if defined(__MMI_MULTITAP_HINDI__)
/* under construction !*/
        #endif 
        #if defined(__MMI_MULTITAP_MARATHI__)
/* under construction !*/
        #endif
        #if defined(__MMI_MULTITAP_BENGALI__)
/* under construction !*/
        #endif
        #if defined(__MMI_MULTITAP_TAMIL__)
/* under construction !*/
        #endif
        #if defined(__MMI_MULTITAP_TELUGU__)
/* under construction !*/
        #endif
        #if defined(__MMI_MULTITAP_PUNJABI__)
/* under construction !*/
        #endif
        #if defined(__MMI_MULTITAP_URDU__)
/* under construction !*/
        #endif 
         #if defined(__MMI_MULTITAP_ARABIC__)
/* under construction !*/
/* under construction !*/
        #endif      
/* under construction !*/
        #if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__)  || defined(__MMI_MIXED_LANG_SUPPORT__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
        #endif /* defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__)  || defined(__MMI_MIXED_LANG_SUPPORT__) */            
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
    #endif
    
#if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
    MMI_multiline_inputbox.change_callback = set_multiline_inputbox_change_callback;    /* Justin. Originally for WCSS editor */
#endif 
    if (input_type & INPUT_TYPE_USE_ONLY_ENGLISH_MODES)
    {
        MMI_allow_only_english_input_modes = 1;
    }
    if (plus_character_handling)
    {
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING;
    }
    if (input_type_flags & INPUT_TYPE_GSM_EXTENDED_HANDLING)
    {
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_CHECK_GSM_EXTENDED;
    }
    switch (input_type & INPUT_TYPE_MASK)
    {
        case INPUT_TYPE_NUMERIC_CHANGEABLE:
            if (mmi_is_alphanum_pass)
            {
                set_multiline_inputbox_mask(1);
            }
            else
            {
                set_multiline_inputbox_mask(0);
            }
            change_multiline_inputbox_mode(INPUT_MODE_123);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_NUMERIC:
        case INPUT_TYPE_SIGNED_NUMERIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            if ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_SIGNED_NUMERIC)
                SetKeyHandler(wgui_multiline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_DECIMAL_NUMERIC:
        case INPUT_TYPE_SIGNED_DECIMAL_NUMERIC:
            wgui_multiline_inputbox_decimal_flag = 0;
            if (l > 0)
            {
                S32 i;
                UI_buffer_type t = buffer;
                UI_character_type c;

                for (i = 0; i < l; i++)
                {
                    UI_STRING_GET_NEXT_CHARACTER(t, c);
                    if (c == (UI_character_type) '.')
                    {
                        wgui_multiline_inputbox_decimal_flag = 1;
                        break;
                    }
                }
            }
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            SetKeyHandler(wgui_multiline_inputbox_decimal_numeric_handle_pound_key_down, KEY_POUND, KEY_EVENT_DOWN);
            if ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_SIGNED_DECIMAL_NUMERIC)
                SetKeyHandler(wgui_multiline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            wgui_multiline_inputbox_decimal_input_mode_flag = 1;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_DECIMAL_NUMERIC_PASSWORD:
        case INPUT_TYPE_SIGNED_DECIMAL_NUMERIC_PASSWORD:
            wgui_multiline_inputbox_decimal_flag = 0;
            if (l > 0)
            {
                S32 i;
                UI_buffer_type t = buffer;
                UI_character_type c;

                for (i = 0; i < l; i++)
                {
                    UI_STRING_GET_NEXT_CHARACTER(t, c);
                    if (c == (UI_character_type) '.')
                    {
                        wgui_multiline_inputbox_decimal_flag = 1;
                        break;
                    }
                }
            }
            set_multiline_inputbox_mask(1);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            SetKeyHandler(wgui_multiline_inputbox_decimal_numeric_handle_pound_key_down, KEY_POUND, KEY_EVENT_DOWN);
            if ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_SIGNED_DECIMAL_NUMERIC_PASSWORD)
                SetKeyHandler(wgui_multiline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            wgui_multiline_inputbox_decimal_input_mode_flag = 1;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_KEYPAD_NUMERIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            SetKeyHandler(wgui_inputbox_keypad_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_inputbox_keypad_numeric_handle_pound_key_down, KEY_POUND, KEY_EVENT_DOWN);
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE:
            if (mmi_is_alphanum_pass)
            {
                set_multiline_inputbox_mask(1);
            }
            else
            {
                set_multiline_inputbox_mask(0);
            }
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ABC);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE:
            if (mmi_is_alphanum_pass)
            {
                set_multiline_inputbox_mask(1);
            }
            else
            {
                set_multiline_inputbox_mask(0);
            }
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        #ifdef __MMI_WCSS_INPUT_FORMAT_SUPPORT__
        case INPUT_TYPE_ALPHABATIC_UPPERCASE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC);
            //SetKeyHandler(wgui_handle_inputbox_change_input_mode,KEY_POUND,KEY_EVENT_DOWN);
            //inputbox_change_mode=change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHABATIC_LOWERCASE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC);
            //SetKeyHandler(wgui_handle_inputbox_change_input_mode,KEY_POUND,KEY_EVENT_DOWN);
            //inputbox_change_mode=change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_NUMERIC_SYMBOL:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123_SYMBOLS);
            MMI_current_input_mode = INPUT_MODE_123_SYMBOLS;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* __MMI_WCSS_INPUT_FORMAT_SUPPORT__ */ 

        case INPUT_TYPE_ALPHANUMERIC_SENTENCECASE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_NUMERIC_PASSWORD:
        case INPUT_TYPE_SIGNED_NUMERIC_PASSWORD:    
            set_multiline_inputbox_mask(1);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            if ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_SIGNED_NUMERIC_PASSWORD)
                SetKeyHandler(wgui_multiline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_SAT_NUMERIC_PASSWORD:
            set_multiline_inputbox_mask(1);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            SetKeyHandler(wgui_inputbox_numeric_password_input_handle_start_key_down, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_inputbox_numeric_password_input_handle_hash_key_down, KEY_POUND, KEY_EVENT_DOWN);
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_PASSWORD:
            set_multiline_inputbox_mask(1);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_PHONE_NUMBER:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            /* Handling of Phone number input   */
        #ifdef __MMI_MULTITAP_KEY_0__
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
        #else /* __MMI_MULTITAP_KEY_0__ */ 
            if (MMI_current_input_ext_type & INPUT_TYPE_EXT_SIM_NUMERIC)
            {
                gui_create_multitap_input(
                    &wgui_inputbox_multitap_star_key,
                    0,
                    0,
                    0,
                    0,
                    (UI_string_type) wgui_inputbox_phone_number_star_key_string_for_SIM_number);
            }
            else
            {
                gui_create_multitap_input(
                    &wgui_inputbox_multitap_star_key,
                    0,
                    0,
                    0,
                    0,
                    (UI_string_type) wgui_inputbox_phone_number_star_key_string);
            }
            gui_set_multitap_input_callbacks(
                &wgui_inputbox_multitap_star_key,
                multiline_inputbox_multitap_input,
                multiline_inputbox_multitap_input_complete);
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_star_key_up, KEY_STAR, KEY_EVENT_UP);
        #endif /* __MMI_MULTITAP_KEY_0__ */ 
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_hash_key_down, KEY_POUND, KEY_EVENT_DOWN);
            register_key_down_handler(wgui_inputbox_phone_number_numeric_key_handler);
        #if(ENABLE_DIALER_ZERO_KEY_MULTITAP)

            if (MMI_current_input_ext_type & INPUT_TYPE_EXT_SIM_NUMERIC)
            {
                gui_create_multitap_input(
                    &wgui_inputbox_multitap_zero_key,
                    0,
                    0,
                    0,
                    0,
                    (UI_string_type) wgui_inputbox_phone_number_zero_key_string_for_SIM_number);
            }
            else
            {
                gui_create_multitap_input(
                    &wgui_inputbox_multitap_zero_key,
                    0,
                    0,
                    0,
                    0,
                    (UI_string_type) wgui_inputbox_phone_number_zero_key_string);
            }
            gui_set_multitap_input_callbacks(
                &wgui_inputbox_multitap_zero_key,
                multiline_inputbox_multitap_input,
                multiline_inputbox_multitap_input_complete);
        #ifdef __MMI_MULTITAP_KEY_0__
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_zero_key_long_press, KEY_0, KEY_EVENT_LONG_PRESS);
        #else /* __MMI_MULTITAP_KEY_0__ */ 
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_zero_key_down, KEY_0, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_zero_key_up, KEY_0, KEY_EVENT_UP);
        #endif /* __MMI_MULTITAP_KEY_0__ */ 
        #endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
            wgui_inputbox_active_multitap = WGUI_INPUTBOX_MULTITAP_NONE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_TYPE_ALPHANUMERIC_MULTITAP_THAI:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_THAI);

            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_THAI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_THAI__) */ 
        #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
        #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
        #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
        #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
        #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
        #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
        #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_RUSSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_RUSSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
        #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_BULGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_BULGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
        #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_UKRAINIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_UKRAINIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
        #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
        #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_PORTUGUESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_PORTUGUESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
        #if defined(__MMI_MULTITAP_HINDI__)
        case INPUT_TYPE_MULTITAP_HINDI:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_HINDI);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_HINDI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_HINDI__) */ 

        #if defined(__MMI_MULTITAP_MARATHI__)
        case INPUT_TYPE_MULTITAP_MARATHI:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_MARATHI);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_MARATHI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* #if defined (__MMI_MULTITAP_MARATHI__)  */ 
		#if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_TYPE_MULTITAP_TAMIL:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_TAMIL);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_TAMIL;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* #if defined (__MMI_MULTITAP_TAMIL__)  */ 
        
        #if defined(__MMI_MULTITAP_BENGALI__)
        case INPUT_TYPE_MULTITAP_BENGALI:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_BENGALI);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_BENGALI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_BENGALI__) */

		#if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_TYPE_MULTITAP_PUNJABI:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_PUNJABI);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_PUNJABI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif
        #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_TYPE_MULTITAP_TELUGU:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_TELUGU);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_TELUGU;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif
        #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
        #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
        #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
        #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
        #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
        #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 

        #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_TYPE_ALPHANUMERIC_MULTITAP_HEBREW:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_HEBREW);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_HEBREW;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
        #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
        #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
        #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_ALPHANUMERIC_ARABIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_ARABIC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_ARABIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
        #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_ARABIC_NUMERIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_ARABIC_NUMERIC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_ARABIC_NUMERIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
        #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_PERSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_PERSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_PERSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif 
        #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_TYPE_ALPHANUMERIC_URDU:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_URDU);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_URDU;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif 
        #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 

        #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
        #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
        #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
        #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 

        #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
        
        #if defined(__MMI_CSTAR__)
        
            case INPUT_TYPE_TR_MULTITAP_BOPOMO:
                change_multiline_inputbox_mode(INPUT_MODE_TR_MULTITAP_BOPOMO);
                MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
                break;
        
            case INPUT_TYPE_SM_MULTITAP_PINYIN:
                change_multiline_inputbox_mode(INPUT_MODE_SM_MULTITAP_PINYIN);
                MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
                break;
        
            case INPUT_TYPE_TR_BOPOMO:
                change_multiline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
                MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
               inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
                break;
        
            case INPUT_TYPE_SM_PINYIN:
                change_multiline_inputbox_mode(INPUT_MODE_SM_PINYIN);
                MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
                break;
        
            case INPUT_TYPE_TR_STROKE:
                change_multiline_inputbox_mode(INPUT_MODE_TR_STROKE);
                MMI_current_input_mode = INPUT_MODE_TR_STROKE;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
                break;
        
            case INPUT_TYPE_SM_STROKE:
                change_multiline_inputbox_mode(INPUT_MODE_SM_STROKE);
                MMI_current_input_mode = INPUT_MODE_SM_STROKE;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
                break;
            case INPUT_TYPE_SMART_UPPERCASE_ABC:
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_ABC:
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
#if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
             case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
                change_multiline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
                MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
#endif
    #if defined (__MMI_CSTAR_THAI__)
            case INPUT_TYPE_SMART_THAI:
                change_multiline_inputbox_mode(INPUT_MODE_SMART_THAI);
                MMI_current_input_mode = INPUT_MODE_SMART_THAI;
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined (__MMI_T9_THAI__) */ 
        
    #if defined(__MMI_CSTAR_SPANISH__)
            case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_SPANISH__) */ 
    #if defined(__MMI_CSTAR_DANISH__)
            case INPUT_TYPE_SMART_UPPERCASE_DANISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_DANISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DANISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_DANISH__) */ 
    #if defined(__MMI_CSTAR_POLISH__)
            case INPUT_TYPE_SMART_UPPERCASE_POLISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_POLISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_POLISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_POLISH__) */ 
    #if defined(__MMI_CSTAR_FRENCH__)
            case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_FRENCH__) */ 
    #if defined(__MMI_CSTAR_GERMAN__)
            case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_GERMAN__) */ 
    #if defined(__MMI_CSTAR_ITALIAN__)
            case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_ITALIAN__) */ 
    #if defined (__MMI_CSTAR_RUSSIAN__)
            case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined (__MMI_CSTAR_RUSSIAN__) */ 
    #if defined (__MMI_CSTAR_BULGARIAN__)
            case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined (__MMI_CSTAR_BULGARIAN__) */ 
    #if defined(__MMI_CSTAR_INDONESIAN__)
            case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_INDONESIAN__) */ 
        
    #if defined(__MMI_CSTAR_VIETNAMESE__)
            case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_VIETNAMESE__) */ 
        
    #if defined(__MMI_CSTAR_PORTUGUESE__)
            case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_PORTUGUESE__) */ 
    #if defined(__MMI_CSTAR_CZECH__)   
            case INPUT_TYPE_SMART_UPPERCASE_CZECH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_CZECH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_CZECH__) */ 
    #if defined(__MMI_CSTAR_TURKISH__)
            case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
            case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_TURKISH__) */ 
        
    #if defined(__MMI_CSTAR_FINNISH__)
            case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
    #if defined(__MMI_CSTAR_HUNGARIAN__)       
            case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 
    #if defined (__MMI_CSTAR_ARABIC__)
            case INPUT_TYPE_SMART_ARABIC:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_ARABIC);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined (__MMI_CSTAR_ARABIC__) */ 
    #if defined(__MMI_CSTAR_GREEK__)
            case INPUT_TYPE_SMART_UPPERCASE_GREEK:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_GREEK:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_GREEK__) */ 
    #if defined (__MMI_CSTAR_HEBREW__)
            case INPUT_TYPE_SMART_HEBREW:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_HEBREW);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined (__MMI_CSTAR_HEBREW__) */ 
    #if defined (__MMI_CSTAR_HINDI__)
            case INPUT_TYPE_SMART_HINDI:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_HINDI);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined (__MMI_CSTAR_HINDI__) */ 
    #if defined(__MMI_CSTAR_NORWEGIAN__)
            case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_NORWEGIAN__) */ 
    #if defined(__MMI_CSTAR_DUTCH__)
            case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
    #if defined(__MMI_CSTAR_SLOVENIAN__)
            case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 
    #if defined(__MMI_CSTAR_SWEDISH__)
            case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
    #if defined(__MMI_CSTAR_MALAY__)
            case INPUT_TYPE_SMART_UPPERCASE_MALAY:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_MALAY:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_MALAY__) */ 
    #if defined(__MMI_CSTAR_CROATIAN__)
            case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
    #if defined(__MMI_CSTAR_SLOVAK__)
            case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
    #if defined(__MMI_CSTAR_ROMANIAN__)
            case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
        
            case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
                set_multiline_inputbox_mask(0);
                change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
                // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
                inputbox_change_mode = change_multiline_inputbox_input_mode;
                MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
                wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
                break;
    #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 
    #endif

        
        #if defined(__MMI_T9__) || defined(__MMI_ITAP__)

        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_MULTITAP_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;

        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_MULTITAP_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;

        case INPUT_TYPE_TR_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;

        case INPUT_TYPE_SM_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;

        case INPUT_TYPE_TR_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_TR_STROKE);
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;

        case INPUT_TYPE_SM_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
         case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif
        #if defined (__MMI_T9_THAI__)
        case INPUT_TYPE_SMART_THAI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_THAI);
            MMI_current_input_mode = INPUT_MODE_SMART_THAI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined (__MMI_T9_THAI__) */ 

        #if defined(__MMI_T9_SPANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_SPANISH__) */ 
        #if defined(__MMI_T9_DANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_DANISH__) */ 
        #if defined(__MMI_T9_POLISH__)
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_POLISH__) */ 
        #if defined(__MMI_T9_FRENCH__)
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_FRENCH__) */ 
        #if defined(__MMI_T9_GERMAN__)
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_GERMAN__) */ 
        #if defined(__MMI_T9_ITALIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_ITALIAN__) */ 
        #if defined (__MMI_T9_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined (__MMI_T9_RUSSIAN__) */ 
        #if defined (__MMI_T9_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined (__MMI_T9_BULGARIAN__) */ 
        #if defined(__MMI_T9_INDONESIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_INDONESIAN__) */ 

        #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

        #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_PORTUGUESE__) */ 
        #if defined(__MMI_T9_CZECH__)   
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_CZECH__) */ 
        #if defined(__MMI_T9_TURKISH__)
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_TURKISH__) */ 

        #if defined(__MMI_T9_FINNISH__)
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_FINNISH__) */ 
        #if defined(__MMI_T9_HUNGARIAN__)       
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_HUNGARIAN__) */ 
        #if defined (__MMI_T9_ARABIC__)
        case INPUT_TYPE_SMART_ARABIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_ARABIC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined (__MMI_T9_ARABIC__) */ 
        #if defined(__MMI_T9_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_GREEK__) */ 
        #if defined (__MMI_T9_HEBREW__)
        case INPUT_TYPE_SMART_HEBREW:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HEBREW);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined (__MMI_T9_HEBREW__) */ 
        #if defined (__MMI_T9_HINDI__)
        case INPUT_TYPE_SMART_HINDI:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HINDI);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined (__MMI_T9_HINDI__) */ 
        #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
        #if defined(__MMI_T9_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_DUTCH__) */ 
        #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
        #if defined(__MMI_T9_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_SWEDISH__) */ 
        #if defined(__MMI_T9_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_MALAY__) */ 
        #if defined(__MMI_T9_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_CROATIAN__) */ 
        #if defined(__MMI_T9_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_SLOVAK__) */ 
        #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_ROMANIAN__) */ 
        #elif defined(__MMI_ZI__)
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_MULTITAP_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_MULTITAP_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_TYPE_TR_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_TYPE_SM_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;

        case INPUT_TYPE_TR_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_TR_STROKE);
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO);
            break;

        case INPUT_TYPE_SM_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO);
            break;

        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
     #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
         case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
     #endif          
        case INPUT_TYPE_SMART_THAI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_THAI);
            MMI_current_input_mode = INPUT_MODE_SMART_THAI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_ARABIC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_ARABIC);
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
        case INPUT_TYPE_SMART_HINDI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HINDI);
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif
        #if defined(__MMI_ZI_BENGALI__)
        case INPUT_TYPE_SMART_BENGALI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_BENGALI);
            MMI_current_input_mode = INPUT_MODE_SMART_BENGALI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_MARATHI__)
        case INPUT_TYPE_SMART_MARATHI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_MARATHI);
            MMI_current_input_mode = INPUT_MODE_SMART_MARATHI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_PUNJABI__)
        case INPUT_TYPE_SMART_PUNJABI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_PUNJABI);
            MMI_current_input_mode = INPUT_MODE_SMART_PUNJABI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_TAMIL__)
        case INPUT_TYPE_SMART_TAMIL:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_TAMIL);
            MMI_current_input_mode = INPUT_MODE_SMART_TAMIL;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_TELUGU__)
        case INPUT_TYPE_SMART_TELUGU:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_TELUGU);
            MMI_current_input_mode = INPUT_MODE_SMART_TELUGU;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_URDU__)
        case INPUT_TYPE_SMART_URDU:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_URDU);
            MMI_current_input_mode = INPUT_MODE_SMART_URDU;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif
        case INPUT_TYPE_SMART_HEBREW:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HEBREW);
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
        #if defined(__MMI_ZI_DANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_DANISH__) */ 
        #if defined(__MMI_ZI_POLISH__)
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_POLISH__) */ 
        #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
        #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
        #if defined(__MMI_ZI_GERMAN__)
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_GERMAN__) */ 
        #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_ITALIAN__) */ 
        #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
        #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_UKRAINIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_UKRAINIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_UKRAINIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_UKRAINIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_UKRAINIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_UKRAINIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_UKRAINIAN__) */ 
        #if defined(__MMI_ZI_TURKISH__)
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_TURKISH__) */ 
        #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
        #if defined(__MMI_ZI_INDONESIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_INDONESIAN__) */ 
        #if defined(__MMI_ZI_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_MALAY__) */ 
        #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
        #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SLOVAK__) */ 
        #if defined(__MMI_ZI_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_DUTCH__) */ 
        #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SWEDISH__) */ 
        #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CROATIAN__) */ 
        #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
        #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
        #if defined(__MMI_ZI_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_GREEK__) */ 
        #if defined(__MMI_ZI_FINNISH__)
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_FINNISH__) */ 
        #if defined(__MMI_ZI_CZECH__)
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CZECH__) */ 
        #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 
                    //PERSIAN add by Ailsa start
        #if defined(__MMI_ZI_PERSIAN__)
        case INPUT_TYPE_SMART_PERSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_PERSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_PERSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_PERSIAN) */
            //PERSIAN add by Ailsa end
        #elif defined(__MMI_KA__)
        case INPUT_TYPE_SM_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;
        case INPUT_TYPE_SM_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        #endif 
        default:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            break;
    }
    change_multiline_inputbox_mode(MMI_current_input_mode);
    if (!override_history_input_type && (saved_inputbox_flags & UI_MULTI_LINE_INPUT_BOX_MASK_CHARACTERS))
    {
        set_multiline_inputbox_mask(1);
        if ((saved_input_type & INPUT_TYPE_MASK) != INPUT_TYPE_ALPHANUMERIC_PASSWORD)
        {
            ClearKeyHandler(KEY_POUND, KEY_EVENT_DOWN);
        }
    }
    wgui_inputbox_RSK_label_icon = RSK_icon;
    wgui_inputbox_RSK_label_string = RSK_label;
    //MTK Terry move to the front for wgui_set_default_input_type
    register_multiline_inputbox_input_callback(wgui_handle_inputbox_input);
    /* register_multiline_inputbox_navigate_callback(wgui_handle_inputbox_navigate); */
#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    ext_stroke.x1 = 0;
    ext_stroke.y1 = 0;
    ext_stroke.x2 = UI_device_width - 1;
    ext_stroke.y2 = UI_device_height - 1;
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#else /* 0 */ 
    stroke_area.x1 = MMI_content_x;
    stroke_area.x2 = MMI_content_x + MMI_content_width - MMI_multiline_inputbox.vbar.width;
    stroke_area.y1 = MMI_title_y;
    stroke_area.y2 = MMI_title_y + MMI_content_height + MMI_title_height;
#endif /* 0 */ 
    /* W06.11 Support E-Dict for Touch Screen */
    if (category_screen_ID != MMI_CATEGORY201_ID)
    {
        mmi_pen_editor_setup_input_box(
            &stroke_area,
            &ext_stroke,
            MMI_current_input_type,
            MMI_TRUE,
            PEN_EDITOR_MULTILINE_INPUT_BOX);
    }
    else
    {
        mmi_pen_editor_setup_input_box(
            &stroke_area,
            &ext_stroke,
            MMI_current_input_type,
            MMI_TRUE,
            PEN_EDITOR_DICT_MULTILINE_INPUT_BOX);
    }
#endif /* defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__) */ 

    //hjf, for avoid text_offset_y not be calculated. show_multiline_inputbox_no_draw();
	gui_lock_double_buffer();
	show_multiline_inputbox();
	gui_unlock_double_buffer();
    UI_UNUSED_PARAMETER(saved_MMI_current_input_mode);
    UI_UNUSED_PARAMETER(fh);
}

/* Simplified interface for wgui_setup_inputbox_ext() */


/*****************************************************************************
 * FUNCTION
 *  wgui_setup_inputbox
 * DESCRIPTION
 *  
 * PARAMETERS
 *  x                           [IN]        
 *  y                           [IN]        
 *  width                       [IN]        
 *  height                      [IN]        
 *  buffer                      [?]         
 *  buffer_size                 [IN]        
 *  category_screen_ID          [IN]        
 *  RSK_label                   [IN]        
 *  RSK_icon                    [IN]        
 *  input_type                  [IN]        
 *  history_buffer              [?]         
 *  information_bar_flag        [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_setup_inputbox(
        S32 x,
        S32 y,
        S32 width,
        S32 height,
        U8 *buffer,
        S32 buffer_size,
        U16 category_screen_ID,
        UI_string_type RSK_label,
        PU8 RSK_icon,
        U16 input_type,
        U8 *history_buffer,
        U8 information_bar_flag)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_setup_inputbox_ext(
        x,
        y,
        width,
        height,
        buffer,
        buffer_size,
        category_screen_ID,
        RSK_label,
        RSK_icon,
        input_type,
        history_buffer,
        information_bar_flag,
        0,
        0,
        0,
        0,
        0,
        NULL);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_set_RSK
 * DESCRIPTION
 *  set RSK function handler of multiline input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_set_RSK(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_inputbox_RSK_label_clear = 0;
#if defined(__MMI_WITH_C_KEY__)
    SetKeyHandler(wgui_handle_inputbox_right_softkey_down, KEY_CLEAR, KEY_EVENT_DOWN);
    SetKeyHandler(wgui_handle_inputbox_right_softkey_long_press, KEY_CLEAR, KEY_LONG_PRESS);
    set_right_softkey_function(wgui_handle_inputbox_right_softkey_up, KEY_EVENT_UP);
#else /* defined(__MMI_WITH_C_KEY__) */ 
    set_right_softkey_function(wgui_handle_inputbox_right_softkey_down, KEY_EVENT_DOWN);
    set_right_softkey_function(wgui_handle_inputbox_right_softkey_long_press, KEY_LONG_PRESS);
#endif /* defined(__MMI_WITH_C_KEY__) */ 
    //      register_multiline_inputbox_input_callback(wgui_handle_inputbox_input);
    //      register_multiline_inputbox_navigate_callback(wgui_handle_inputbox_navigate);
    wgui_handle_inputbox_input();
    if (multiline_inputbox_empty())
    {
    #if defined(__MMI_WITH_C_KEY__)
        SetKeyHandler(wgui_handle_inputbox_right_softkey_up, KEY_CLEAR, KEY_EVENT_UP);
        if (wgui_inputbox_empty_callback != NULL)
        {
            wgui_inputbox_empty_callback();
        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        set_right_softkey_function(wgui_handle_inputbox_right_softkey_up, KEY_EVENT_UP);
        if (wgui_inputbox_empty_callback != NULL)
        {
            wgui_inputbox_empty_callback();
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
    else if (wgui_inputbox_not_empty_callback != NULL)
    {
        wgui_inputbox_not_empty_callback();
    }
    MMI_multiline_inputbox.validation_callback = wgui_multiline_inputbox_validation_callback;
    /* MMI_multiline_inputbox.validation_callback(MMI_multiline_inputbox.text,MMI_multiline_inputbox.cursor_p,MMI_multiline_inputbox.text_length); */
#ifdef __ASCII
    MMI_multiline_inputbox.validation_callback(
                            MMI_multiline_inputbox.text,
                            MMI_multiline_inputbox.cursor_p,
                            MMI_multiline_inputbox.text_length - 1);
#endif /* __ASCII */ 
    MMI_multiline_inputbox.validation_callback(
                            MMI_multiline_inputbox.text,
                            MMI_multiline_inputbox.cursor_p,
                            (MMI_multiline_inputbox.text_length >> 1) - 1);

}

/* MTK end */


/*****************************************************************************
 * FUNCTION
 *  wgui_close_inputbox
 * DESCRIPTION
 *  close input box
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_close_inputbox(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_multiline_inputbox_decimal_input_mode_flag = 0;
    wgui_inputbox_handle_multitap_input_complete(WGUI_INPUTBOX_EDIT_MULTITAP_ANY);
    reset_multiline_inputbox();
    wgui_inputbox_RSK_function = NULL;
    wgui_inputbox_RSK_label_clear = 0;
    wgui_inputbox_information_flag = 0;
    wgui_inputbox_not_empty_callback = NULL;
    wgui_inputbox_empty_callback = NULL;
    wgui_inputbox_validation_callback = NULL;
    wgui_inputbox_UCS2_count_function = NULL;
    wgui_inputbox_GSM_ext_count_function = NULL;
    /* MTK Terry for 0x81 encoding support */
    //MMI_current_input_ext_type = 0;
    //MTK Add By Elvis for T9
#ifdef __MMI_T9__
    InuptMethodExitCategory5();
#elif defined __MMI_CSTAR__
    CstarInputMethodExitCategory5();
#elif defined __MMI_ZI__
    ZiInuptMethodExitCategory5();
#elif defined __MMI_KA__
    KonkaInuptMethodExitCategory5();
#elif defined __MMI_ITAP__
/* under construction !*/
/* under construction !*/
#endif 
    /* MTK end */
#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    mmi_pen_editor_close_input_box();
#endif 

#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
    {
        MMI_english_input_mode_flag = 0;
    }
    if (MMI_allow_only_english_input_modes)
    {
        MMI_english_input_mode_flag = 1;
        MMI_allow_only_english_input_modes = 0;
    }
    ClearKeyHandler(KEY_STAR, KEY_EVENT_DOWN);
    ClearKeyHandler(KEY_POUND, KEY_EVENT_DOWN);
    /* W05.36 Fix Vietnamese Tone Input Issue */
    set_current_input_box_type(EDITOR_NONE_INPUT_BOX);
}

/* Common inputbox input method functions */

/*****************************************************************************
 * FUNCTION
 *  wgui_map_inputmode_to_inputtype
 * DESCRIPTION
 *  map input mode to input type
 * PARAMETERS
 *  S32 input_mode 
 * RETURNS
 *  U8 input type
 *****************************************************************************/
U8 wgui_map_inputmode_to_inputtype(S32 input_mode, const sIMEModeDetails *IMEModeArray)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 index = 0;
    
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    for (index = 0; IMEModeArray[index].IME_Mode_ID != 0xff; index++)
    {
        if (input_mode == IMEModeArray[index].IME_Mode_ID)
        {
            return IMEModeArray[index].IME_Type_ID;
        }
    }
    return INPUT_TYPE_NUMERIC;
}


/*----------------------------------------------------------------------------
Function:         wgui_change_inputbox_type
Description:      A function pointer which stores the address of function
               which change the input type of input box to the desired one
Input parameters :   U8 input_type         desired input type

Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/
void (*wgui_change_inputbox_type) (U8 input_type) = UI_dummy_function_byte;



/*----------------------------------------------------------------------------
Function:         wgui_inputbox_insert_symbol
Description:      A function pointer which stores the address of function
               which insert the symbol in input box
Input parameters :   UI_character_type

Output Parameters:   none
Returns:       none
----------------------------------------------------------------------------*/
void (*wgui_inputbox_insert_symbol) (UI_character_type c) = UI_dummy_function_character;


/*****************************************************************************
 * FUNCTION
 *  wgui_set_e_dictionary_test_clear_inputbox_buffer_funcptr
 * DESCRIPTION
 *  A function pointer which tests if need to clear
 *  multi-line inputbox buffer
 * PARAMETERS
 *  FuncPtr     [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
pBOOL(*wgui_e_dictionary_test_clear_inputbox_buffer) (void) = NULL;

void wgui_set_e_dictionary_test_clear_inputbox_buffer_funcptr(pBOOL(*FuncPtr) (void))
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_e_dictionary_test_clear_inputbox_buffer = FuncPtr;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_reset_e_dictionary_test_clear_inputbox_buffer_funcptr
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_reset_e_dictionary_test_clear_inputbox_buffer_funcptr(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_e_dictionary_test_clear_inputbox_buffer = NULL;
}

/* Pixtel - Gurinder - 2/6/04 - Api Call to intialize the multiline inscreen editor control. */


/*****************************************************************************
 * FUNCTION
 *  wgui_multiline_setup_inputbox
 * DESCRIPTION
 *  
 * PARAMETERS
 *  x                           [IN]        
 *  y                           [IN]        
 *  width                       [IN]        
 *  height                      [IN]        
 *  buffer                      [?]         
 *  buffer_size                 [IN]        
 *  category_screen_ID          [IN]        
 *  RSK_label                   [IN]        
 *  RSK_icon                    [IN]        
 *  input_type                  [IN]        
 *  history_buffer              [?]         
 *  information_bar_flag        [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_multiline_setup_inputbox(
        S32 x,
        S32 y,
        S32 width,
        S32 height,
        U8 *buffer,
        S32 buffer_size,
        U16 category_screen_ID,
        UI_string_type RSK_label,
        PU8 RSK_icon,
        U16 input_type,
        U8 *history_buffer,
        U8 information_bar_flag)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 l, fh;
    S16 input_type_flags = input_type & (~INPUT_TYPE_MASK);
    U8 saved_MMI_current_input_mode;
    U32 saved_inputbox_flags;
    U8 override_history_input_type = 0;
    S16 saved_input_type = input_type;
    U8 plus_character_handling = 0;

#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    mmi_pen_handwriting_area_struct stroke_area;
    mmi_pen_handwriting_area_struct ext_stroke;
#endif /* defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__) */ 

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* W05.36 Fix Vietnamese Tone Input Issue */
    set_current_input_box_type(EDITOR_INLINE_MULTILINE_INPUT_BOX);
    /* MTK Elvis 20040521 ---patch for inline multiline input box */
#ifdef __MMI_T9__
    InuptMethodEnterInlineMultilineScreen();
    if (buffer_size > CHINESE_BUFFER_LENGTH)
    {
        buffer_size = CHINESE_BUFFER_LENGTH;
    }
#elif defined __MMI_ZI__
    ZiInuptMethodEnterInline_Multiline_InputBox();
#elif defined __MMI_CSTAR__
    CstarInputMethodEnterInlineMultilineInputBox();
#endif 
    /* MTK end */

    wgui_inputbox_buffer_size = buffer_size;
    if (input_type & INPUT_TYPE_PLUS_CHARACTER_HANDLING)
    {
        plus_character_handling = 1;
    }
    wgui_set_default_input_type(&input_type);
    /* Gurinder - 6/5/2004 - Information Bar For Inline Multiline */
    if (information_bar_flag)
    {
        wgui_inputbox_information_flag = 1;
    }
    l = gui_strlen((UI_string_type) buffer);
    create_multiline_inputbox_set_buffer((UI_string_type) buffer, buffer_size, l, l);
    register_inscreen_multiline_inputbox_keys();
    /* Gurinder - 6/5/2004 - Information Bar For Inline Multiline */
    if (information_bar_flag)
    {
        /* Inline Multiline Control Information Bar Height Change - Gurinder - 12/5/2004 */
        wgui_inputbox_information_bar_height = INFORMATION_BAR_HEIGHT;
        /* Start Yogesh 20040830 */
        wgui_setup_input_information(x + 2, y + 1, width - 5, wgui_inputbox_information_bar_height);
        /* End Yogesh 20040830 */
    }
    /* Inline Multiline Control Information Bar Height Change - Gurinder - 12/5/2004 */
    move_multiline_inputbox(x, y + wgui_inputbox_information_bar_height + 2);
    gui_set_font(MMI_multiline_inputbox.text_font);
    fh = gui_get_character_height();
    /* Gurinder - 6/5/2004 - Information Bar For Inline Multiline */
#if !defined(__MMI_TOUCH_SCREEN__)
    height = (height / (fh + 1)) * (fh + 1);
#else /* !defined(__MMI_TOUCH_SCREEN__) */ 
    height =
        MMI_content_height - MMI_multitap_height - wgui_inputbox_information_bar_height -
        4 /* (height/(fh+1))*(fh+1) */ ;
#endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
#if !defined(__MMI_TOUCH_SCREEN__)
    resize_multiline_inputbox(width - 2, height + 4);
#else 
    resize_multiline_inputbox(width - 2, height);
#endif 
    switch (input_type & INPUT_TYPE_MASK)
    {
        case INPUT_TYPE_NUMERIC_PASSWORD:
        case INPUT_TYPE_SAT_NUMERIC_PASSWORD:
            override_history_input_type = 1;
            break;
    }

    set_multiline_inputbox_category_history(category_screen_ID, history_buffer, (S16*) & input_type);
    if (flag_use_current_input_type)
    {
        input_type = MMI_current_input_type;
    }
    flag_use_current_input_type = TRUE;
    saved_MMI_current_input_mode = MMI_current_input_mode;
    saved_inputbox_flags = MMI_multiline_inputbox.flags;
    if (override_history_input_type)
    {
        input_type = saved_input_type;
    }

    /* Get input mode from "Input Methods" list selection */
    wgui_change_inputbox_type = wgui_multiline_inputbox_change_input_type;
    wgui_inputbox_insert_symbol = wgui_multiline_inputbox_insert_symbol;

    if (wgui_multiline_inputbox_input_mode_changed)
    {
        input_type = wgui_multiline_inputbox_input_type;
        wgui_multiline_inputbox_input_mode_changed = 0;
    }

    input_type |= input_type_flags;
    MMI_current_input_type = input_type;
    wgui_inputbox_information_icon = NULL;
    wgui_multiline_inputbox_decimal_input_mode_flag = 0;
    wgui_inputbox_UCS2_count_function = wgui_multiline_inputbox_get_UCS2_count;
    wgui_inputbox_GSM_ext_count_function = wgui_multiline_inputbox_get_GSM_ext_count;
    if (input_type & INPUT_TYPE_USE_ENCODING_BASED_LENGTH)
    {
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_USE_ENCODING_BASED_LENGTH;
        if (input_type & INPUT_TYPE_ONE_LESS_CHARACTER)
        {
            MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_ONE_LESS_CHARACTER;
            UI_TEST_UCS2_COUNT_SET_LENGTH_TYPE2(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }
        else if (input_type & INPUT_TYPE_FORTY_FOUR_LESS_CHARACTER)
        {
            MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_FORTY_FOUR_LESS_CHARACTER;
            UI_TEST_UCS2_COUNT_SET_LENGTH_TYPE3(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }
        else
        {
            UI_TEST_UCS2_COUNT_SET_LENGTH(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }
    }
    if (input_type & INPUT_TYPE_USE_ONLY_ENGLISH_MODES)
    {
        MMI_allow_only_english_input_modes = 1;
    }
    if (plus_character_handling)
    {
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_PLUS_CHARACTER_HANDLING;
    }
    if (input_type_flags & INPUT_TYPE_GSM_EXTENDED_HANDLING)
    {
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_CHECK_GSM_EXTENDED;
    }

    switch (input_type & INPUT_TYPE_MASK)
    {
        case INPUT_TYPE_NUMERIC_CHANGEABLE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_NUMERIC:
        case INPUT_TYPE_SIGNED_NUMERIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            if (input_type & INPUT_TYPE_MASK == INPUT_TYPE_SIGNED_NUMERIC)
                SetKeyHandler(wgui_multiline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_DECIMAL_NUMERIC:
        case INPUT_TYPE_SIGNED_DECIMAL_NUMERIC:    
            wgui_multiline_inputbox_decimal_flag = 0;
            if (l > 0)
            {
                S32 i;
                UI_buffer_type t = buffer;
                UI_character_type c;

                for (i = 0; i < l; i++)
                {
                    UI_STRING_GET_NEXT_CHARACTER(t, c);
                    if (c == (UI_character_type) '.')
                    {
                        wgui_multiline_inputbox_decimal_flag = 1;
                        break;
                    }
                }
            }
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            SetKeyHandler(wgui_multiline_inputbox_decimal_numeric_handle_pound_key_down, KEY_POUND, KEY_EVENT_DOWN);
            if (input_type & INPUT_TYPE_MASK == INPUT_TYPE_SIGNED_DECIMAL_NUMERIC)
                SetKeyHandler(wgui_multiline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            wgui_multiline_inputbox_decimal_input_mode_flag = 1;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_KEYPAD_NUMERIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            SetKeyHandler(wgui_inputbox_keypad_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_inputbox_keypad_numeric_handle_pound_key_down, KEY_POUND, KEY_EVENT_DOWN);
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ABC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_SENTENCECASE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_NUMERIC_PASSWORD:
        case INPUT_TYPE_SIGNED_NUMERIC_PASSWORD:
            set_multiline_inputbox_mask(1);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            if (input_type & INPUT_TYPE_MASK == INPUT_TYPE_SIGNED_NUMERIC_PASSWORD)
                SetKeyHandler(wgui_multiline_inputbox_signed_numeric_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_SAT_NUMERIC_PASSWORD:
            set_multiline_inputbox_mask(1);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            SetKeyHandler(wgui_inputbox_numeric_password_input_handle_start_key_down, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_inputbox_numeric_password_input_handle_hash_key_down, KEY_POUND, KEY_EVENT_DOWN);
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_PASSWORD:
            set_multiline_inputbox_mask(1);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_PHONE_NUMBER:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            /* Handling of Phone number input   */
        #ifdef __MMI_MULTITAP_KEY_0__
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
        #else /* __MMI_MULTITAP_KEY_0__ */ 
            gui_create_multitap_input(
                &wgui_inputbox_multitap_star_key,
                0,
                0,
                0,
                0,
                (UI_string_type) wgui_inputbox_phone_number_star_key_string);
            gui_set_multitap_input_callbacks(
                &wgui_inputbox_multitap_star_key,
                multiline_inputbox_multitap_input,
                multiline_inputbox_multitap_input_complete);
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_star_key_down, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_star_key_up, KEY_STAR, KEY_EVENT_UP);
        #endif /* __MMI_MULTITAP_KEY_0__ */ 
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_hash_key_down, KEY_POUND, KEY_EVENT_DOWN);
            register_key_down_handler(wgui_inputbox_phone_number_numeric_key_handler);
        #if(ENABLE_DIALER_ZERO_KEY_MULTITAP)
            gui_create_multitap_input(
                &wgui_inputbox_multitap_zero_key,
                0,
                0,
                0,
                0,
                (UI_string_type) wgui_inputbox_phone_number_zero_key_string);
            gui_set_multitap_input_callbacks(
                &wgui_inputbox_multitap_zero_key,
                multiline_inputbox_multitap_input,
                multiline_inputbox_multitap_input_complete);
        #ifdef __MMI_MULTITAP_KEY_0__
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_zero_key_long_press, KEY_0, KEY_EVENT_LONG_PRESS);
        #else /* __MMI_MULTITAP_KEY_0__ */ 
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_zero_key_down, KEY_0, KEY_EVENT_DOWN);
            SetKeyHandler(wgui_inputbox_phone_number_input_handle_multitap_zero_key_up, KEY_0, KEY_EVENT_UP);
        #endif /* __MMI_MULTITAP_KEY_0__ */ 
        #endif /* (ENABLE_DIALER_ZERO_KEY_MULTITAP) */ 
            wgui_inputbox_active_multitap = WGUI_INPUTBOX_MULTITAP_NONE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_TYPE_ALPHANUMERIC_MULTITAP_THAI:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_THAI);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_THAI;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_THAI__) */ 

        #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
        #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
        #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
        #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
        #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
        #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
        #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_RUSSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_RUSSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
        #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_BULGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_BULGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
        #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_UKRAINIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_UKRAINIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
        #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
        #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_PORTUGUESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_PORTUGUESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
        #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
        #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
        #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
        #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
        #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
        #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 

        #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_TYPE_ALPHANUMERIC_HEBREW:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_HEBREW);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_HEBREW;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
        #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
        #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
        #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_ALPHANUMERIC_ARABIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_ARABIC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_ARABIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
        #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_ARABIC_NUMERIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_ARABIC_NUMERIC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_ARABIC_NUMERIC;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
        #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_PERSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_PERSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_PERSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif 
        #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_TYPE_ALPHANUMERIC_URDU:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_URDU);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_URDU;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif 
        #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
        #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
        #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
        #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
        #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
        #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_UPPERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;

        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_MULTITAP_LOWERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
        #if defined(__MMI_T9__) || defined(__MMI_ITAP__)

        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_MULTITAP_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;

        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_MULTITAP_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;

        case INPUT_TYPE_TR_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;

        case INPUT_TYPE_SM_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;

        case INPUT_TYPE_TR_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_TR_STROKE);
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;

        case INPUT_TYPE_SM_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
         case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif

        #if defined (__MMI_T9_THAI__)
        case INPUT_TYPE_SMART_THAI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_THAI);
            MMI_current_input_mode = INPUT_MODE_SMART_THAI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined (__MMI_T9_THAI__) */ 

        #if defined(__MMI_T9_SPANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_SPANISH__) */ 
        #if defined(__MMI_T9_DANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_DANISH__) */ 
        #if defined(__MMI_T9_POLISH__)
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_POLISH__) */ 
        #if defined(__MMI_T9_FRENCH__)
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_FRENCH__) */ 
        #if defined(__MMI_T9_GERMAN__)
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_GERMAN__) */ 
        #if defined(__MMI_T9_ITALIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_ITALIAN__) */ 
        #if defined(__MMI_T9_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:

            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_RUSSIAN__) */ 

        #if defined(__MMI_T9_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:

            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_BULGARIAN__) */ 

        #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

        #if defined(__MMI_T9_INDONESIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_INDONESIAN__) */ 
        #if defined(__MMI_T9_CZECH__)
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_CZECH__) */ 
        #if defined(__MMI_T9_TURKISH__)
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_TURKISH__) */ 

        #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_PORTUGUESE__) */ 

        #if defined(__MMI_T9_FINNISH__)
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_FINNISH__) */ 
        #if defined(__MMI_T9_HUNGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_HUNGARIAN__) */ 
        #if defined(__MMI_T9_ARABIC__)
        case INPUT_TYPE_SMART_ARABIC:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_ARABIC);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_ARABIC__) */ 
        #if defined(__MMI_T9_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_GREEK__) */ 
        #if defined(__MMI_T9_HEBREW__)
        case INPUT_TYPE_SMART_HEBREW:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HEBREW);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_HEBREW__) */ 
        #if defined(__MMI_T9_HINDI__)
        case INPUT_TYPE_SMART_HINDI:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HINDI);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_HINDI__) */ 
        #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
        #if defined(__MMI_T9_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_DUTCH__) */ 
        #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
        #if defined(__MMI_T9_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_SWEDISH__) */ 
        #if defined(__MMI_T9_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_MALAY__) */ 
        #if defined(__MMI_T9_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_CROATIAN__) */ 
        #if defined(__MMI_T9_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_SLOVAK__) */ 
        #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_T9_ROMANIAN__) */ 
        #elif defined(__MMI_ZI__)
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_MULTITAP_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_MULTITAP_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_TYPE_TR_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_TYPE_SM_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;

        case INPUT_TYPE_TR_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_TR_STROKE);
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO);
            break;

        case INPUT_TYPE_SM_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO);
            break;

        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif
      
        case INPUT_TYPE_SMART_THAI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_THAI);
            MMI_current_input_mode = INPUT_MODE_SMART_THAI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
            /* MTK Elvis for R2L characters */
        case INPUT_TYPE_SMART_ARABIC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_ARABIC);
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
        case INPUT_TYPE_SMART_HINDI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HINDI);
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif/* #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) */
        #if defined(__MMI_ZI_BENGALI__)
        case INPUT_TYPE_SMART_BENGALI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_BENGALI);
            MMI_current_input_mode = INPUT_MODE_SMART_BENGALI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif/* #if defined(__MMI_ZI_BENGALI__)  */

        #if defined(__MMI_ZI_MARATHI__)
        case INPUT_TYPE_SMART_MARATHI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_MARATHI);
            MMI_current_input_mode = INPUT_MODE_SMART_MARATHI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif/* #if defined(__MMI_ZI_MARATHI__)  */

        #if defined(__MMI_ZI_PUNJABI__)
        case INPUT_TYPE_SMART_PUNJABI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_PUNJABI);
            MMI_current_input_mode = INPUT_MODE_SMART_PUNJABI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif/* #if defined(__MMI_ZI_PUNJABI__) */

        #if defined(__MMI_ZI_TAMIL__)
        case INPUT_TYPE_SMART_TAMIL:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_TAMIL);
            MMI_current_input_mode = INPUT_MODE_SMART_TAMIL;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif/* #if defined(__MMI_ZI_TAMIL__) */

        #if defined(__MMI_ZI_TELUGU__)
        case INPUT_TYPE_SMART_TELUGU:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_TELUGU);
            MMI_current_input_mode = INPUT_MODE_SMART_TELUGU;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif/* #if defined(__MMI_ZI_TELUGU__)*/

        #if defined(__MMI_ZI_URDU__)
        case INPUT_TYPE_SMART_URDU:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_URDU);
            MMI_current_input_mode = INPUT_MODE_SMART_URDU;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif/* #if defined(__MMI_ZI_URDU__)*/
        case INPUT_TYPE_SMART_HEBREW:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HEBREW);
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 

        #if defined(__MMI_ZI_DANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_DANISH__) */ 
        #if defined(__MMI_ZI_POLISH__)
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_POLISH__) */ 
        #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
        #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
        #if defined(__MMI_ZI_GERMAN__)
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_GERMAN__) */ 
        #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_ITALIAN__) */ 
        #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
        #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
        #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_UKRAINIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_UKRAINIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_UKRAINIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_UKRAINIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_UKRAINIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_UKRAINIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
        #if defined(__MMI_ZI_TURKISH__)
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_TURKISH__) */ 
        #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
        #if defined(__MMI_ZI_INDONESIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_INDONESIAN__) */ 
        #if defined(__MMI_ZI_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_MALAY__) */ 
        #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
        #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SLOVAK__) */ 
        #if defined(__MMI_ZI_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_DUTCH__) */ 
        #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SWEDISH__) */ 
        #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CROATIAN__) */ 
        #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
        #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 

        #if defined(__MMI_ZI_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_GREEK__) */ 
        #if defined(__MMI_ZI_FINNISH__)
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_FINNISH__) */ 
        #if defined(__MMI_ZI_CZECH__)
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_CZECH__) */ 
        #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 
                    //PERSIAN add by Ailsa start
        #if defined(__MMI_ZI_PERSIAN__)
        case INPUT_TYPE_SMART_PERSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_PERSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_PERSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif /* defined(__MMI_ZI_PERSIAN) */
            //PERSIAN add by Ailsa end

        #elif defined(__MMI_CSTAR__)
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_MULTITAP_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;
        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_MULTITAP_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;
        case INPUT_TYPE_TR_BOPOMO:
            change_multiline_inputbox_mode(INPUT_MODE_TR_BOPOMO);
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;
        case INPUT_TYPE_SM_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;

        case INPUT_TYPE_TR_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_TR_STROKE);
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;

        case INPUT_TYPE_SM_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;

        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_FIRST_UPPERCASE_ABC);
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif
      
        case INPUT_TYPE_SMART_THAI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_THAI);
            MMI_current_input_mode = INPUT_MODE_SMART_THAI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
            /* MTK Elvis for R2L characters */
        case INPUT_TYPE_SMART_ARABIC:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_ARABIC);
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_HINDI:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HINDI);
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_HEBREW:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_HEBREW);
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        #if defined(__MMI_CSTAR_SPANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SPANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_EU_SPANISH__) || defined(__MMI_CSTAR_SA_SPANISH__) */ 

        #if defined(__MMI_CSTAR_DANISH__)
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DANISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_DANISH__) */ 
        #if defined(__MMI_CSTAR_POLISH__)
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_POLISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_POLISH__) */ 
        #if defined(__MMI_CSTAR_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_NORWEGIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_NORWEGIAN__) */ 
        #if defined(__MMI_CSTAR_FRENCH__)
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FRENCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_FRENCH__) */ 
        #if defined(__MMI_CSTAR_GERMAN__)
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GERMAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_GERMAN__) */ 
        #if defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ITALIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_ITALIAN__) */ 
        #if defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_RUSSIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_RUSSIAN__) */ 
        #if defined(__MMI_CSTAR_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_BULGARIAN);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_BULGARIAN__) */ 
        #if defined(__MMI_CSTAR_TURKISH__)
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_TURKISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_TURKISH__) */ 
        #if defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_PORTUGUESE);
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_EU_PORTUGUESE__) */ 
        #if defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_INDONESIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_INDONESIAN__) */ 
        #if defined(__MMI_CSTAR_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_MALAY);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_MALAY__) */ 
        #if defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_VIETNAMESE);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_VIETNAMESE__) */ 
        #if defined(__MMI_CSTAR_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVAK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
        #if defined(__MMI_CSTAR_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_DUTCH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
        #if defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SWEDISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
        #if defined(__MMI_CSTAR_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CROATIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
        #if defined(__MMI_CSTAR_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_ROMANIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 
        #if defined(__MMI_CSTAR_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_SLOVENIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 

        #if defined(__MMI_CSTAR_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_GREEK);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_GREEK__) */ 
        #if defined(__MMI_CSTAR_FINNISH__)
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_FINNISH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
        #if defined(__MMI_CSTAR_CZECH__)
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_CZECH);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_CZECH__) */ 
        #if defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_UPPERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_LOWERCASE_HUNGARIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 
        #if defined(__MMI_CSTAR_PERSIAN__)
        case INPUT_TYPE_SMART_PERSIAN:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_SMART_PERSIAN);
            // SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            MMI_current_input_mode = INPUT_MODE_SMART_PERSIAN;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        #endif /* defined(__MMI_CSTAR_PERSIAN) */

        #elif defined(__MMI_KA__)
        case INPUT_TYPE_SM_PINYIN:
            change_multiline_inputbox_mode(INPUT_MODE_SM_PINYIN);
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;
        case INPUT_TYPE_SM_STROKE:
            change_multiline_inputbox_mode(INPUT_MODE_SM_STROKE);
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            inputbox_change_mode = change_multiline_inputbox_input_mode;
            wgui_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        #endif 

        default:
            set_multiline_inputbox_mask(0);
            change_multiline_inputbox_mode(INPUT_MODE_123);
            MMI_current_input_mode = INPUT_MODE_123;
            break;
    }
    if (!override_history_input_type && (saved_inputbox_flags & UI_MULTI_LINE_INPUT_BOX_MASK_CHARACTERS))
    {
        set_multiline_inputbox_mask(1);
        if ((saved_input_type & INPUT_TYPE_MASK) != INPUT_TYPE_ALPHANUMERIC_PASSWORD)
        {
            ClearKeyHandler(KEY_POUND, KEY_EVENT_DOWN);
        }
    }
    wgui_inputbox_RSK_label_icon = RSK_icon;
    wgui_inputbox_RSK_label_string = RSK_label;
    MMI_multiline_inputbox.change_callback = set_multiline_inputbox_change;
    register_multiline_inputbox_input_callback(wgui_handle_inputbox_input);
#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    ext_stroke.x1 = 0;
    ext_stroke.y1 = 0;
    ext_stroke.x2 = UI_device_width - 1;
    ext_stroke.y2 = UI_device_height - 1;
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#else /* 0 */ 
    stroke_area.x1 = MMI_content_x;
    stroke_area.x2 = MMI_content_x + MMI_content_width - MMI_multiline_inputbox.vbar.width;
    stroke_area.y1 = MMI_title_y;
    stroke_area.y2 = MMI_title_y + MMI_content_height + MMI_title_height;
#endif /* 0 */ 
    mmi_pen_editor_setup_input_box(
        &stroke_area,
        &ext_stroke,
        MMI_current_input_type,
        MMI_TRUE,
        PEN_EDITOR_INLINE_MULTILINE_INPUT_BOX);
#endif /* defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__) */ 
    show_multiline_inputbox_no_draw();
    UI_UNUSED_PARAMETER(saved_MMI_current_input_mode);
}


/*****************************************************************************
 * FUNCTION
 *  category5_hide_multitap
 * DESCRIPTION
 *  Hide function for multitap
 *  
 *  Internal function
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void category5_hide_multitap(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    color c;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 

    /* micha1104 Chicago Feature */
#ifdef __MMI_DEFAULT_THEME_3__
    c.r = 206;
    c.g = 206;
    c.b = 206;
#else /* __MMI_DEFAULT_THEME_3__ */ 
    c.r = 255;
    c.g = 255;
    c.b = 255;
#endif /* __MMI_DEFAULT_THEME_3__ */ 
    c.alpha = 100;
    gui_reset_clip();
    /* MTK for modify the clear area because of one more pixel */
    gui_fill_rectangle(0, MMI_multitap_y, UI_device_width - 1, MMI_multitap_y + MMI_multitap_height - 1, c);
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(0, MMI_multitap_y, UI_device_width - 1, MMI_multitap_y + MMI_multitap_height + 1);
#endif /* (UI_DOUBLE_BUFFER_SUPPORT) */ 
}


/*****************************************************************************
 * FUNCTION
 *  RedrawCategory5Screen
 * DESCRIPTION
 *  Redraws the category5 screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void RedrawCategory5Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_lock_double_buffer();

    clear_screen();
    show_title_status_icon();
    draw_title();
    wgui_show_inputbox();
    show_softkey_background();
    show_left_softkey();
    show_right_softkey();
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(0, 0, UI_device_width - 1, UI_device_height - 1);
    /* MTK Elvis for redrawing spelling or candidate boxes */
    if (RedrawSpellingOrCandidateBoxesFunction)
    {
        RedrawSpellingOrCandidateBoxesFunction();
    }
    /* MTK end */
}


/*****************************************************************************
 * FUNCTION
 *  category5callback
 * DESCRIPTION
 *  
 * PARAMETERS
 *  coordinate      [?]     
 * RETURNS
 *  void
 *****************************************************************************/
void category5callback(dm_coordinates *coordinate)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* MTK Elvis for redrawing spelling or candidate boxes */
    if (RedrawSpellingOrCandidateBoxesFunction)
    {
        RedrawSpellingOrCandidateBoxesFunction();
    }
}


/*****************************************************************************
 * FUNCTION
 *  SetCategory5RightSoftkeyFunction
 * DESCRIPTION
 *  
 * PARAMETERS
 *  f       [IN]        
 *  k       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void SetCategory5RightSoftkeyFunction(void (*f) (void), MMI_key_event_type k)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    UI_UNUSED_PARAMETER(k);
    wgui_inputbox_RSK_function = f;
}

/* Function to append a string to category 5 screen   */


/*****************************************************************************
 * FUNCTION
 *  AppendCategory5String
 * DESCRIPTION
 *  append the string in category 5 (editor) text
 * PARAMETERS
 *  input_type          [IN]        Input ype
 *  buffer              [IN]        Buffer
 *  buffer_size         [IN]        Buffer isze
 *  s                   [IN]        String
 *  history_buffer      [IN]        History buffer
 * RETURNS
 *  void
 *****************************************************************************/
/* START PMT PUNJABI TELUGU */
/* CODE REMOVED */
/* END PMT PUNJABI TELUGU */
void wgui_multiline_inputbox_append_string(
                    S16 input_type, 
                    U8 *buffer, 
                    S32 buffer_size, 
                    U8 *s, 
                    U8 *history_buffer,
                    U16 category_id,
                    MMI_BOOL (*change_event_handler)(gui_multi_line_input_box_change_event_enum event,U16 C))
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 l, h, fh, i;
    UI_string_type ts = (UI_string_type) s;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 
#ifdef __MMI_INDIC_ALG__
add_template_multiline_flag =1;
#endif /* __MMI_INDIC_ALG__ */

    l = gui_strlen((UI_string_type) buffer);
    create_multiline_inputbox_set_buffer((UI_string_type) buffer, buffer_size, l, l);
    gui_multi_line_input_box_register_change_event_handler(&MMI_multiline_inputbox,change_event_handler);
    if (input_type & INPUT_TYPE_USE_ENCODING_BASED_LENGTH)
    {
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_USE_ENCODING_BASED_LENGTH;
        if (input_type & INPUT_TYPE_ONE_LESS_CHARACTER)
        {
            MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_ONE_LESS_CHARACTER;
            UI_TEST_UCS2_COUNT_SET_LENGTH_TYPE2(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }
        else if (input_type & INPUT_TYPE_FORTY_FOUR_LESS_CHARACTER)
        {
            MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_FORTY_FOUR_LESS_CHARACTER;
            UI_TEST_UCS2_COUNT_SET_LENGTH_TYPE3(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }
        else
        {
            UI_TEST_UCS2_COUNT_SET_LENGTH(
                MMI_multiline_inputbox.UCS2_count,
                MMI_multiline_inputbox.allocated_length,
                MMI_multiline_inputbox.available_length);
        }
    }

#ifdef __BW_MMI__
    h = MMI_content_height - MMI_multitap_height;
#else 
    h = MMI_content_height - MMI_multitap_height - MULTILINE_INPUTBOX_EDIT_HEIGHT_PAD;
#endif 
    set_multiline_inputbox_category_history(category_id, history_buffer, &input_type);
    show_multiline_inputbox_no_draw();
    fh = get_multiline_inputbox_line_height();
    h = ((h / fh) * fh) + MULTILINE_INPUTBOX_EDIT_HEIGHT_PAD;
    resize_multiline_inputbox(MMI_multiline_inputbox.width, h);

    l = gui_strlen(ts);

    MMI_multiline_inputbox.show_action_flag = 0;
    for (i = 0; i < l; i++)
    {
        if (!gui_multi_line_input_box_insert_character(&MMI_multiline_inputbox, (UI_character_type) ts[i]))
            break;
    }
    
#ifdef __MMI_INDIC_ALG__
    add_template_multiline_flag =0;
    gui_multi_line_post_template_addition_adjustment(&MMI_multiline_inputbox);
#endif /* __MMI_INDIC_ALG__ */
    MMI_multiline_inputbox.show_action_flag = 1;
    get_multiline_inputbox_category_history(category_id, history_buffer, input_type);
    show_multiline_inputbox();

#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
#endif 
}
void AppendCategory5String(S16 input_type, U8 *buffer, S32 buffer_size, U8 *s, U8 *history_buffer)
{
    wgui_multiline_inputbox_append_string(input_type,buffer,buffer_size,s,history_buffer,MMI_CATEGORY5_ID,NULL);
}

/*****************************************************************************
 * FUNCTION
 *  cat5_virtual_keypad_callback
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void cat5_virtual_keypad_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if defined(__MMI_TOUCH_SCREEN__)
    mmi_pen_editor_resize_multiline_input_box_for_vk();
#endif 
}


/*****************************************************************************
 * FUNCTION
 *  ShowCategory5Screen
 * DESCRIPTION
 *  Displays the category5 screen
 * PARAMETERS
 *  title                   [IN]        Title for the screen
 *  title_icon              [IN]        Icon shown with the title
 *  left_softkey            [IN]        Left softkey label
 *  left_softkey_icon       [IN]        Icon for the left softkey
 *  right_softkey           [IN]        Right softkey label
 *  right_softkey_icon      [IN]        Icon for the right softkey
 *  input_type              [IN]        Type of input to use
 *  buffer                  [IN]        Buffer the input box should use.
 *  buffer_size             [IN]        Size of the buffer.
 *  history_buffer          [IN]        History buffer
 *  For(?)                  [IN]        Example, 5 means only 5 characters can be input in this screen.
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory5Screen(
        U16 title,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        S16 input_type,
        U8 *buffer,
        S32 buffer_size,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* Begin AP input mode set */
    ShowCategory5Screen_ext(
        title,
        title_icon,
        left_softkey,
        left_softkey_icon,
        right_softkey,
        right_softkey_icon,
        input_type,
        buffer,
        buffer_size,
        history_buffer,
        0,
        NULL,
        NULL);
    /* End AP input mode set */
}

BOOL(*wgui_check_editor_buffer_need_flush) (void) = NULL;


/*****************************************************************************
 * FUNCTION
 *  Register_cat5_editor_buffer_need_flush
 * DESCRIPTION
 *  
 * PARAMETERS
 *  FuncPtr     [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void Register_cat5_editor_buffer_need_flush(BOOL(*FuncPtr) (void))      /* rajbir */
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_check_editor_buffer_need_flush = FuncPtr;
}

/* Begin AP input mode set */


/*****************************************************************************
 * FUNCTION
 *  wgui_fill_AP_required_input_mode_set
 * DESCRIPTION
 *  fill AP requried input mode set into global array
 * PARAMETERS
 *  required_input_mode_set     [IN]        Required input mode array
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_fill_AP_required_input_mode_set(S16 *required_input_mode_set)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U16 i = 0;
    U16 j = 0;
    U16 index = 0;
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    while (1)
    {
        if (i > INPUT_MODE_MAX_NUM + 1)
        {
            MMI_ASSERT(0);
            /*
             * reason: (1) No of AP input mode set is more than INPUT_MODE_MAX_NUM+1
             * (2) required_input_mode_set arrary is not ended with -1.
             */
        }
        if (required_input_mode_set[i] == -1)
        {
            MMI_AP_required_input_mode_set[index] = -1;
            break;
        }
        j = 0;
        while (gIMEModeArray[j].IME_Mode_ID != (0xff))
        {
            if (gIMEModeArray[j].IME_Mode_ID == required_input_mode_set[i])
            {
                MMI_AP_required_input_mode_set[index] = required_input_mode_set[i];
                index++;
                break;
            }
            j++;
        }
        i++;
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_set_AP_required_input_mode_set_flag
 * DESCRIPTION
 *  set MMI_AP_set_input_mode_set to true
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
S16 MMI_saved_prefered_input_type = 0;
extern void SetInputMethod(U16 index);
extern U16 MMI_all_prefered_input_mode_set[INPUT_MODE_MAX_NUM];
void wgui_set_AP_required_input_mode_set_flag(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 i = 0;
#if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
    MMI_BOOL is_in_ap_required_input_mode = MMI_FALSE;
    S32 input_mode = -1;
#endif
    S32 curIndex = 0;
    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    MMI_AP_set_input_mode_set = 1;
#if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
    MMI_saved_prefered_input_type = MMI_prefered_input_type;
    //Add by ailsa start : For applying prefered input type when AP_required_input_mode  
    // search the input mode ID of MMI_saved_prefered_input_type
    while (gIMEModeArray[i].IME_Mode_ID != (0xff))
    {
        if (gIMEModeArray[i].IME_Type_ID == MMI_saved_prefered_input_type)
        {
            input_mode = gIMEModeArray[i].IME_Mode_ID;
            break;        
        }
        i++;
    }

    // input mode ID found, search to check if it is in MMI_AR_required_input_mode_set
    if (input_mode !=-1)
    {
        for (i=0; MMI_AP_required_input_mode_set[i] != -1; i++)
        {
            if (MMI_AP_required_input_mode_set[i] == input_mode)
            {
                is_in_ap_required_input_mode = MMI_TRUE;
                break;
            }
        }
    }

    if (is_in_ap_required_input_mode)
    {
        MMI_prefered_input_type = MMI_saved_prefered_input_type;
    }
    else
    {
#endif
        // search the index in gIMEModeArray of which IME_Mode_ID equeal to MMI_AP_required_input_mode_set[0]  
        i = 0;
        while (gIMEModeArray[i].IME_Mode_ID != (0xff))
        {
            if (gIMEModeArray[i].IME_Mode_ID == MMI_AP_required_input_mode_set[0])
            {
                curIndex = i;
                break;
            }
            i++;
        }
    #if defined(__MMI_PREFER_INPUT_METHOD__)     
        SetInputMethod((U16)curIndex);
    #elif defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
        if (curIndex < INPUT_MODE_MAX_NUM)
        {
            MMI_prefered_input_type = gIMEModeArray[curIndex].IME_Type_ID;
        }
        else
        {
            MMI_prefered_input_type = INPUT_TYPE_ALPHANUMERIC_UPPERCASE;       
        }
    #endif
#if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
    }
#endif
    
}


/*****************************************************************************
 * FUNCTION
 *  wgui_unset_AP_required_input_mode_set_flag
 * DESCRIPTION
 *  unset MMI_AP_set_input_mode_set to true
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_unset_AP_required_input_mode_set_flag(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    MMI_AP_set_input_mode_set = 0;
#if defined(__MMI_PREFER_INPUT_METHOD__) || defined(__MMI_PREFER_WRITING_LANG__) || defined(__MMI_MIXED_LANG_SUPPORT__)
    MMI_prefered_input_type = MMI_saved_prefered_input_type;
#endif 
}

/* End AP input mode set */

/* Begin AP Symbol table */


/*****************************************************************************
 * FUNCTION
 *  wgui_fill_AP_No_Show_Symbol_List
 * DESCRIPTION
 *  fill AP No_Show_Symbol_List into global array
 * PARAMETERS
 *  no_show_symbol_list     [IN]        [] no show symbol list array
 * RETURNS
 *  void
 *****************************************************************************/
extern U8 *MMI_AP_No_Show_Symbol_List[];
void wgui_fill_AP_No_Show_Symbol_List(U8 *no_show_symbol_list[])
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U16 i = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    while (1)
    {
        if (*no_show_symbol_list[i] == ((U8)0x00))
        {
            MMI_AP_No_Show_Symbol_List[i] = (U8*) "\x00\x00\0\0";
            break;
        }
        MMI_AP_No_Show_Symbol_List[i] = no_show_symbol_list[i];
        i++;
    }
}


/*****************************************************************************
 * FUNCTION
 *  wgui_set_AP_No_Show_Symbol_List_flag
 * DESCRIPTION
 *  set MMI_AP_No_Show_Symbol_List_flag to true
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
extern U8 MMI_AP_No_Show_Symbol_List_flag;
void wgui_set_AP_No_Show_Symbol_List_flag(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    MMI_AP_No_Show_Symbol_List_flag = 1;
}


/*****************************************************************************
 * FUNCTION
 *  wgui_unset_AP_No_Show_Symbol_List_flag
 * DESCRIPTION
 *  unset MMI_AP_No_Show_Symbol_List_flag to true
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_unset_AP_No_Show_Symbol_List_flag(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    MMI_AP_No_Show_Symbol_List_flag = 0;
}

/* End AP Symbol table */

/* Begin AP Symbol table */


/*****************************************************************************
 * FUNCTION
 *  ShowCategory5Screen_ext
 * DESCRIPTION
 *  
 * PARAMETERS
 *  title                       [IN]        
 *  title_icon                  [IN]        
 *  left_softkey                [IN]        
 *  left_softkey_icon           [IN]        
 *  right_softkey               [IN]        
 *  right_softkey_icon          [IN]        
 *  input_type                  [IN]        
 *  buffer                      [?]         
 *  buffer_size                 [IN]        
 *  history_buffer              [?]         
 *  input_ext_type              [IN]        
 *  required_input_mode_set     [?]         
 *  no_show_symbol_list         [?]         
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory5Screen_ext(
        U16 title,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        S16 input_type,
        U8 *buffer,
        S32 buffer_size,
        U8 *history_buffer,
        S16 input_ext_type,
        S16 *required_input_mode_set,
        U8 *no_show_symbol_list[])
/* End AP Symbol table */
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_setup_common_layout();

#if defined(UI_SMALL_CATEGORY_EDITOR) 
    if (whether_no_small_screen())
    {
        ShowCategory100Screen(
            title,
            title_icon,
            left_softkey,
            left_softkey_icon,
            right_softkey,
            right_softkey_icon,
            input_type,
            buffer,
            buffer_size,
            history_buffer);
    }
    else
#endif /* defined(UI_SMALL_CATEGORY_EDITOR) && !defined(__MMI_CSTAR__) */ 
    {
        dm_data_struct dm_data;
        S32 inputbox_x = 0;
        S32 inputbox_y = (MMI_title_y + MMI_title_height);
        S32 inputbox_width = MMI_content_width;

    #if defined(__MMI_FULL_SCREEN_EDITOR__)
        S32 inputbox_height = MMI_content_height;
    #else 
        S32 inputbox_height = MMI_content_height - MMI_multitap_height;
    #endif 
        //      ADD_SCREEN_STRINGS((3,title,right_softkey,left_softkey));
        //      ADD_SCREEN_IMAGES((3,title_icon,right_softkey_icon,left_softkey_icon));

    #if(UI_DOUBLE_BUFFER_SUPPORT)
        gui_lock_double_buffer();
    #endif 

        MMI_menu_shortcut_number = -1;
        MMI_disable_title_shortcut_display = 1;
        clear_category_screen_key_handlers();
        change_left_softkey(left_softkey, left_softkey_icon);
        change_right_softkey(right_softkey, right_softkey_icon);
        clear_left_softkey();
        clear_right_softkey();
        register_left_softkey_handler();
        register_right_softkey_handler();
        register_default_hide_softkeys();

        /* Begin AP input mode set */
        if (required_input_mode_set != NULL)
        {
            wgui_fill_AP_required_input_mode_set(required_input_mode_set);
            wgui_set_AP_required_input_mode_set_flag();
        }
        /* End AP input mode set */

        /* MTK Add By Elvis for T9 */
    #ifdef __MMI_T9__
        InuptMethodEnterCategory5();
    #elif defined __MMI_ZI__
        ZiInuptMethodEnterCategory5();
    #elif defined __MMI_CSTAR__
        CstarInputMethodEnterCategory5();
    #elif defined __MMI_KA__
        KonkaInuptMethodEnterCategory5();
    #elif defined __MMI_ITAP__
/* under construction !*/
    #endif 
        /* MTK end */

        MMI_title_string = (UI_string_type) get_string(title);
        MMI_title_icon = (PU8) get_image(title_icon);
        register_hide_multitap(category5_hide_multitap);
        wgui_setup_inputbox(
            inputbox_x,
            inputbox_y,
            inputbox_width,
            inputbox_height,
            buffer,
            buffer_size,
            MMI_CATEGORY5_ID,
            get_string(right_softkey),
            get_image(right_softkey_icon),
            input_type,
            history_buffer,
            1);

        /* Begin AP Symbol table */
        if (no_show_symbol_list != NULL)
        {
            wgui_fill_AP_No_Show_Symbol_List(no_show_symbol_list);
            wgui_set_AP_No_Show_Symbol_List_flag();
        }
        /* End AP Symbol table */

        /* if input method changed from "option", and language changed then delete all character in case of dictionary */
        if (wgui_check_editor_buffer_need_flush)
        {
            if (wgui_check_editor_buffer_need_flush())
            {
                multiline_inputbox_delete_all_characters();
                set_right_softkey_function(GoBackHistory, KEY_EVENT_UP);
            #ifdef __MMI_T9__
                T9SynT9WithInputBoxMultilineInputBox();
            #endif 
            }
        }

        if (input_ext_type != 0)
        {
            MMI_current_input_ext_type = input_ext_type;
        }
        if (((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_NUMERIC_PASSWORD) ||
            ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_ALPHANUMERIC_PASSWORD) ||
            ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_SAT_NUMERIC_PASSWORD) ||
            ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_SIGNED_DECIMAL_NUMERIC_PASSWORD) ||
            ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_SIGNED_NUMERIC_PASSWORD))
        {
            MMI_current_input_ext_type |= INPUT_TYPE_EXT_NO_SHOW_NEW_LINE_SYMBOL;
        }

    #if defined(__MMI_FULL_SCREEN_EDITOR__)
        inputbox_height = MMI_content_height - wgui_inputbox_information_bar_height;
    #else 
        inputbox_height = MMI_content_height - MMI_multitap_height - wgui_inputbox_information_bar_height;
    #endif 
        if (MMI_multiline_inputbox.height > inputbox_height)
        {
            gui_resize_multi_line_input_box(&MMI_multiline_inputbox, MMI_multiline_inputbox.width, inputbox_height);
        }
    #if UI_INCLUDE_INFORMATION_AREA_IN_MULTI_LINE
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_INCLUDE_INFO_AREA;
    #endif 

    #ifdef __MMI_WALLPAPER_ON_BOTTOM__
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_TRANSPARENT_BACKGROUND;
        dm_get_scr_bg_opacity(&editor_scr_bg_opacity);
        dm_set_scr_bg_opacity((U8)(current_MMI_theme->bg_opacity_low));
    #endif 

        gui_unlock_double_buffer();

        ExitCategoryFunction = ExitCategory5Screen;
        dm_data.s32flags = DM_CLEAR_SCREEN_BACKGROUND;
        dm_data.s32flags |= DM_SHOW_VKPAD;
#if !defined(GUI_EDITOR_SHOW_TITLE)
        dm_data.s32flags |= DM_NO_TITLE;
#endif /* !defined(GUI_EDITOR_SHOW_TITLE) */

        dm_setup_category_functions(dm_redraw_category_screen, dm_get_category_history, dm_get_category_history_size);
        dm_register_category_controlled_callback(category5callback);
        dm_data.s32ScrId = (S32) GetActiveScreenId();
        dm_data.s32CatId = MMI_CATEGORY5_ID;
        dm_setup_data(&dm_data);
        dm_register_vkpad_callback(cat5_virtual_keypad_callback);
        dm_redraw_category_screen();
    }
}



/*****************************************************************************
 * FUNCTION
 *  ExitCategory5Screen
 * DESCRIPTION
 *  Exits the category5 screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory5Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    set_MMI_current_input_type();
    reset_multitaps();
    wgui_close_inputbox();
    reset_softkeys();
    ExitCategoryFunction = MMI_dummy_function;
    RedrawCategoryFunction = MMI_dummy_function;
    GetCategoryHistory = dummy_get_history;
    GetCategoryHistorySize = dummy_get_history_size;
    wgui_check_editor_buffer_need_flush = NULL;
#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    dm_set_scr_bg_opacity(editor_scr_bg_opacity);
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 
    /* Begin AP input mode set */
    if (MMI_AP_set_input_mode_set)
    {
        wgui_unset_AP_required_input_mode_set_flag();
    }
    /* End AP input mode set */

#ifdef UI_SMALL_LIST_SCREEN
    restore_small_screen();
#endif 
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory5HistorySize
 * DESCRIPTION
 *  Gets the size of the history buffer for category5 screen
 * PARAMETERS
 *  void
 * RETURNS
 *  size in U8s of the history buffer
 *****************************************************************************/
S32 GetCategory5HistorySize(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (sizeof(multiline_inputbox_category_history));
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory5History
 * DESCRIPTION
 *  Gets the history buffer for category5 screen
 * PARAMETERS
 *  history_buffer      [IN]        Is the buffer into which the history data is stored (pre-allocated)
 * RETURNS
 *  Pointer to the history buffer
 *****************************************************************************/
U8 *GetCategory5History(U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    get_multiline_inputbox_category_history(MMI_CATEGORY5_ID, history_buffer, MMI_current_input_type);
    return (history_buffer);
}


#ifdef UI_SMALL_CATEGORY_EDITOR
extern U16 title_bg_id;//092906 popup title
#if defined(__MMI_ZI__)
extern void ZiResizeSelectionArea(void);
#endif
/*****************************************************************************
 * FUNCTION
 *  ShowCategory100Screen
 * DESCRIPTION
 *  
 * PARAMETERS
 *  title                   [IN]        
 *  title_icon              [IN]        
 *  left_softkey            [IN]        
 *  left_softkey_icon       [IN]        
 *  right_softkey           [IN]        
 *  right_softkey_icon      [IN]        
 *  input_type              [IN]        
 *  buffer                  [?]         
 *  buffer_size             [IN]        
 *  history_buffer          [?]         
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory100Screen(
        U16 title,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        S16 input_type,
        U8 *buffer,
        S32 buffer_size,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    dm_data_struct dm_data;
    color c = *(current_MMI_theme->UI_black_color);
    S32 inputbox_height;
    UI_filled_area *title_filler;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    title_filler = current_window_title_theme->active_filler;
    current_window_title_theme->active_filler = current_MMI_theme->small_screen_title_filler;
    gui_title_set_theme(&g_wgui_title_bar, current_window_title_theme);
    gui_setup_common_layout();
    MMI_multiline_inputbox_x = MMI_SMALL_SCREEN_X_OFFSET;
    MMI_multiline_inputbox_y = MMI_title_y + 2 * MMI_title_height + MMI_SMALL_SCREEN_Y_OFFSET;
    MMI_multiline_inputbox_width = MMI_content_width - 2 * MMI_SMALL_SCREEN_X_OFFSET;
    MMI_multiline_inputbox_height = MMI_content_height - 2 * (MMI_SMALL_SCREEN_Y_OFFSET) - MMI_title_height + 1;
    MMI_multitap_x = MMI_SMALL_SCREEN_X_OFFSET + 1;
    MMI_multitap_y -= (MMI_SMALL_SCREEN_Y_OFFSET + 1);
	
    MMI_multitap_width = UI_DEVICE_WIDTH - 2 * (MMI_SMALL_SCREEN_X_OFFSET + 1); /* The border width is 1 */
    g_small_editor_category_present = TRUE;

#ifdef __MMI_UI_SMALL_SCREEN_SUPPORT__
    wgui_status_icon_integrated_enable(MMI_FALSE);
    set_small_screen();
    wgui_small_editor_information_flag = 1;
    gui_add_cleanup_hook(disable_resized_small_screen);
#endif /* __MMI_UI_SMALL_SCREEN_SUPPORT__ */ 

    hide_status_icon_bar(0);//052906 early status icon

#if defined (__MMI_T9_SM_CHINESE__) || defined (__MMI_T9_TR_CHINESE__)
    T9TrResizeSelectionArea();
#elif defined (__MMI_ZI__)
    ZiResizeSelectionArea();    /* for testing only..remove comment before making build */
#elif defined (__MMI_CSTAR__)
    CstarResizeSelectionArea();
#endif 
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 

    MMI_menu_shortcut_number = -1;
    MMI_disable_title_shortcut_display = 1;
    clear_category_screen_key_handlers();
    change_left_softkey(left_softkey, left_softkey_icon);
    change_right_softkey(right_softkey, right_softkey_icon);
    clear_left_softkey();
    clear_right_softkey();
    register_left_softkey_handler();
    register_right_softkey_handler();
    register_default_hide_softkeys();

    /* MTK Add By Elvis for T9 */
#ifdef __MMI_T9__
    InuptMethodEnterCategory5();
#elif defined __MMI_ZI__
    ZiInuptMethodEnterCategory5();
#elif defined __MMI_CSTAR__
    CstarInputMethodEnterCategory5();
#elif defined __MMI_KA__
    KonkaInuptMethodEnterCategory5();
#elif defined __MMI_ITAP__
/* under construction !*/
#endif 
    /* MTK end */

    MMI_title_string = (UI_string_type) get_string(title);

#ifdef GUI_COMMON_USE_THICK_TITLE
    MMI_title_icon = NULL;
#else
    MMI_title_icon = (PU8) get_image(title_icon); 
#endif

    register_hide_multitap(category100_hide_multitap);
    wgui_setup_inputbox(
        MMI_multiline_inputbox_x,
        MMI_multiline_inputbox_y,
        MMI_multiline_inputbox_width,
        MMI_multiline_inputbox_height,
        buffer,
        buffer_size,
        MMI_CATEGORY100_ID,
        get_string(right_softkey),
        get_image(right_softkey_icon),
        input_type,
        history_buffer,
        1);
    inputbox_height =
        MMI_content_height - MMI_title_height - 2 * MMI_SMALL_SCREEN_Y_OFFSET - wgui_inputbox_information_bar_height +
        1;
    if (MMI_multiline_inputbox.height > inputbox_height)
    {
        gui_resize_multi_line_input_box(&MMI_multiline_inputbox, MMI_multiline_inputbox.width, inputbox_height);
    }

    gui_unlock_double_buffer();

    ExitCategoryFunction = ExitCategory100Screen;
    dm_data.s32flags = /* DM_NO_FLAGS */ DM_NO_POPUP_BACKGROUND;
    dm_setup_category_functions(dm_redraw_category_screen, dm_get_category_history, dm_get_category_history_size);
    dm_register_category_controlled_callback(category5callback);
    dm_add_rectangle(c, DM_RECTANGLE_FILL_GRAYSCALE);
    dm_add_rectangle(c, 0);
    dm_data.s32ScrId = (S32) GetActiveScreenId();
    dm_data.s32CatId = MMI_CATEGORY100_ID;
    dm_setup_data(&dm_data);
    dm_redraw_category_screen();
    
    current_window_title_theme->active_filler = title_filler;
    gui_title_set_theme(&g_wgui_title_bar, current_window_title_theme);
}


/*****************************************************************************
 * FUNCTION
 *  ExitCategory100Screen
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory100Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    MMI_multiline_inputbox_x = MMI_MULTILINE_INPUTBOX_X;
    MMI_multiline_inputbox_y = MMI_MULTILINE_INPUTBOX_Y;
    MMI_multiline_inputbox_height = UI_DEVICE_HEIGHT;
    MMI_multiline_inputbox_width = UI_DEVICE_WIDTH;
    wgui_small_editor_information_flag = 0;
    MMI_multitap_x = MMI_MULTITAP_X;
    MMI_multitap_y = (UI_device_height - MMI_BUTTON_BAR_HEIGHT - MMI_multitap_height);/* MMI_MULTITAP_Y*/;
    MMI_multitap_width = UI_device_width - 4;

    g_small_editor_category_present = FALSE;
#if defined (__MMI_T9_SM_CHINESE__) || defined (__MMI_T9_TR_CHINESE__)
    T9TrResizeSelectionArea();
#elif defined (__MMI_ZI__)
    ZiResizeSelectionArea();
#elif defined (__MMI_CSTAR__)
    CstarResizeSelectionArea();
#endif 
#ifdef __MMI_UI_SMALL_SCREEN_SUPPORT__
    reset_small_screen();
#endif 
//#ifdef __MMI_WALLPAPER_ON_BOTTOM__//111306 popup title
    title_bg_id = 0;
//#endif
    show_status_icon_bar(0);//052906 early status icon
    set_MMI_current_input_type();
    reset_multitaps();
    wgui_close_inputbox();
    reset_softkeys();
    entry_full_screen();
    ExitCategoryFunction = MMI_dummy_function;
    RedrawCategoryFunction = MMI_dummy_function;
    GetCategoryHistory = dummy_get_history;
    GetCategoryHistorySize = dummy_get_history_size;

}


/*****************************************************************************
 * FUNCTION
 *  category100_hide_multitap
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void category100_hide_multitap(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    color c;
	S32 x1,y1,x2,y2;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_lock_double_buffer();

    /* micha1104 Chicago Feature */
#ifdef __MMI_DEFAULT_THEME_3__
    c.r = 206;
    c.g = 206;
    c.b = 206;
#else /* __MMI_DEFAULT_THEME_3__ */ 
    c.r = 255;
    c.g = 255;
    c.b = 255;
#endif /* __MMI_DEFAULT_THEME_3__ */ 
    c.alpha = 100;
    gui_reset_clip();
    /* MTK for modify the clear area because of one more pixel */

	x1 = MMI_multitap_x;
    y1 = MMI_multitap_y;
    x2 = MMI_multitap_x + MMI_multitap_width - 1;
    //PMT SUKRIT START MAUI_00226206
	y2 = MMI_multitap_y + MMI_multitap_height;
    //PMT SUKRIT END MAUI_00226206

    gui_fill_rectangle(x1,y1,x2,y2,c);


    gui_unlock_double_buffer();
    gui_BLT_double_buffer(x1,y1,x2,y2);

}

#endif /* UI_SMALL_CATEGORY_EDITOR */ 

/* global variable of category35 multiline box */
multi_line_input_box cat35_message_box;


/*****************************************************************************
 * FUNCTION
 *  category35callback
 * DESCRIPTION
 *  
 * PARAMETERS
 *  coordinate      [?]     
 * RETURNS
 *  void
 *****************************************************************************/
void category35callback(dm_coordinates *coordinate)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_show_multi_line_input_box(&cat35_message_box);
    coordinate->s16X = cat35_message_box.x;
    coordinate->s16Y = cat35_message_box.y;
    coordinate->s16Width = cat35_message_box.width;
    coordinate->s16Height = cat35_message_box.height;
}


/*****************************************************************************
 * FUNCTION
 *  SetCategory35RightSoftkeyFunction
 * DESCRIPTION
 *  register RSK function handler of category 35
 * PARAMETERS
 *  f       [IN]        
 *  k       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void SetCategory35RightSoftkeyFunction(void (*f) (void), MMI_key_event_type k)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    UI_UNUSED_PARAMETER(k);
    wgui_inputbox_RSK_function = f;
}


/*****************************************************************************
 * FUNCTION
 *  category35_message_box_previous_line
 * DESCRIPTION
 *  move to previous line of multi line box of category 35
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void category35_message_box_previous_line(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_previous_line(&cat35_message_box);
    gui_show_multi_line_input_box(&cat35_message_box);
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_BLT_double_buffer(
        cat35_message_box.x,
        cat35_message_box.y,
        cat35_message_box.x + cat35_message_box.width - 1,
        cat35_message_box.y + cat35_message_box.height - 1);
#endif /* (UI_DOUBLE_BUFFER_SUPPORT) */ 
}


/*****************************************************************************
 * FUNCTION
 *  category35_message_box_next_line
 * DESCRIPTION
 *  move to next  line of multi line box of category 35
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void category35_message_box_next_line(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_next_line(&cat35_message_box);
    gui_show_multi_line_input_box(&cat35_message_box);
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_BLT_double_buffer(
        cat35_message_box.x,
        cat35_message_box.y,
        cat35_message_box.x + cat35_message_box.width - 1,
        cat35_message_box.y + cat35_message_box.height - 1);
#endif /* (UI_DOUBLE_BUFFER_SUPPORT) */ 
}


/*****************************************************************************
 * FUNCTION
 *  category35_keyboard_key_handler
 * DESCRIPTION
 *  key board handling of category 35
 * PARAMETERS
 *  vkey_code       [IN]        
 *  key_state       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void category35_keyboard_key_handler(S32 vkey_code, S32 key_state)
{
#if(MMI_BUILD_TYPE == BUILD_TYPE_X86WIN32)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (key_state)
    {
        switch (vkey_code)
        {
            case 37:
                multiline_inputbox_previous_character();
                break;
            case 39:
                multiline_inputbox_next_character();
                break;
            case 38:
                category35_message_box_previous_line();
                break;
            case 40:
                category35_message_box_next_line();
                break;
            case 45:
                multiline_inputbox_toggle_insert_mode();
                break;
            case 46:
                multiline_inputbox_delete_current_character();
                break;
        }
    }
#else /* (MMI_BUILD_TYPE == BUILD_TYPE_X86WIN32) */ 
    UI_UNUSED_PARAMETER(vkey_code);
    UI_UNUSED_PARAMETER(key_state);
#endif /* (MMI_BUILD_TYPE == BUILD_TYPE_X86WIN32) */ 
}


/*****************************************************************************
 * FUNCTION
 *  cat35_virtual_keypad_callback
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void cat35_virtual_keypad_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if defined(__MMI_TOUCH_SCREEN__)
    mmi_pen_editor_resize_multiline_input_box_for_vk();
#endif 
}


/*****************************************************************************
 * FUNCTION
 *  ShowCategory35Screen
 * DESCRIPTION
 *  Displays the dynamic icon notification with user input screen
 * PARAMETERS
 *  left_softkey                                [IN]        Left softkey label
 *  left_softkey_icon                           [IN]        Icon for the left softkey
 *  right_softkey                               [IN]        Right softkey label
 *  right_softkey_icon                          [IN]        Icon for the right softkey
 *  message                                     [IN]        Notification message
 *  message_icon                                [IN]        
 *  input_type                                  [IN]        
 *  buffer                                      [IN]        Input buffer
 *  buffer_size                                 [IN]        Input buffer size
 *  history_buffer                              [IN]        History buffer
 *  INPUT_TYPE_ALPHANUMERIC_SENTENCECASE(?)     [IN]        
 *  INPUT_TYPE(?)                               [IN]        Can take the following values:
 *  INPUT_TYPE_ALPHANUMERIC_LOWERCASE(?)        [IN]        
 *  INPUT_TYPE_NUMERIC(?)                       [IN]        
 *  INPUT_TYPE_ALPHANUMERIC_PASSWORD(?)         [IN]        (rare).
 *  INPUT_TYPE_ALPHANUMERIC_UPPERCASE(?)        [IN]        
 *  INPUT_TYPE_NUMERIC_PASSWORD(?)              [IN]        
 *  IMAGE(?)                                    [IN]        Image          Notification image
 *  For(?)                                      [IN]        Example, 5 means only 5 characters can be input in this screen.
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory35Screen(
        U8 *left_softkey,
        PU8 left_softkey_icon,
        U8 *right_softkey,
        PU8 right_softkey_icon,
        U8 *message,
        PU8 message_icon,
        S16 input_type,
        U8 *buffer,
        S32 buffer_size,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    dm_data_struct dm_data;
    S32 l, x = 24;
    S32 inputbox_x, inputbox_y, inputbox_width, inputbox_height;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    UI_UNUSED_PARAMETER(history_buffer);
    gui_setup_common_layout();
    
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 

    MMI_menu_shortcut_number = -1;
    clear_category_screen_key_handlers();
    set_left_softkey_label((UI_string_type) left_softkey);
    set_left_softkey_icon(left_softkey_icon);
    set_right_softkey_label((UI_string_type) right_softkey);
    set_right_softkey_icon(right_softkey_icon);
    clear_left_softkey();
    clear_right_softkey();
    register_left_softkey_handler();
    register_right_softkey_handler();
    register_default_hide_softkeys();
    MMI_message_string = (UI_string_type) message;
    MMI_message_icon = message_icon;
    wgui_set_animation_image(x >> 1, (MMI_title_y + MMI_title_height), (PU8) message_icon);
    if (message_icon == NULL)
    {
        x = 0;
    }
    /* MTK Add By Elvis for T9 */
#ifdef __MMI_T9__
    InuptMethodEnterCategory5();
#elif defined __MMI_ZI__
    ZiInuptMethodEnterCategory5();
#elif defined __MMI_CSTAR__
    CstarInputMethodEnterCategory5();
#elif defined __MMI_KA__
    KonkaInuptMethodEnterCategory5();
#elif defined __MMI_ITAP__
/* under construction !*/
/* under construction !*/
#endif 
    /* MTK end */

    inputbox_x = 0;
    inputbox_y = (MMI_title_y + MMI_title_height) << 1;
    inputbox_width = UI_device_width;
    inputbox_height = MMI_content_height - (MMI_title_y + MMI_title_height) - (MMI_multitap_height << 1) + 4;
    register_hide_multitap(category5_hide_multitap);
    wgui_setup_inputbox(
        inputbox_x,
        inputbox_y,
        inputbox_width,
        inputbox_height,
        buffer,
        buffer_size,
        MMI_CATEGORY5_ID,
        (UI_string_type) right_softkey,
        (PU8) right_softkey_icon,
        input_type,
        history_buffer,
        1);
    l = gui_strlen(MMI_message_string);
    /* changed code vandana mehtani iheight +9 */
    gui_create_multi_line_input_box_set_buffer(
        &cat35_message_box,
        x,
        MMI_title_y,
        UI_device_width - x + 1,
        (MMI_title_height) << 1,
        MMI_message_string,
        l,
        l,
        0);
    /* end of changed code vandana mehtani */
    /* Add flags for input box here   */
    cat35_message_box.flags |=
        (UI_MULTI_LINE_INPUT_BOX_DISABLE_DRAW | UI_MULTI_LINE_INPUT_BOX_DISABLE_CURSOR_DRAW |
         UI_MULTI_LINE_INPUT_BOX_VIEW_MODE);
    gui_show_multi_line_input_box(&cat35_message_box);
    cat35_message_box.flags &= ~UI_MULTI_LINE_INPUT_BOX_DISABLE_DRAW;
    register_keyboard_key_handler(category35_keyboard_key_handler);
    SetKeyHandler(category35_message_box_previous_line, KEY_UP_ARROW, KEY_EVENT_DOWN);
    SetKeyHandler(category35_message_box_next_line, KEY_DOWN_ARROW, KEY_EVENT_DOWN);
    /* micha0106 */
    if (((input_type & INPUT_TYPE_MASK) != INPUT_TYPE_PHONE_NUMBER) &&
        ((input_type & INPUT_TYPE_MASK) != INPUT_TYPE_SAT_NUMERIC_PASSWORD))
    {
        ClearKeyHandler(KEY_POUND, KEY_EVENT_DOWN);
        ClearKeyHandler(KEY_POUND, KEY_EVENT_UP);
    }
    inputbox_height =
        UI_device_height - MMI_button_bar_height - wgui_inputbox_information_bar_height - cat35_message_box.height -
        MMI_multitap_height;
    gui_resize_multi_line_input_box(&MMI_multiline_inputbox, MMI_multiline_inputbox.width, inputbox_height);

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_TRANSPARENT_BACKGROUND;
    dm_get_scr_bg_opacity(&editor_scr_bg_opacity);
    dm_set_scr_bg_opacity((U8)(current_MMI_theme->bg_opacity_low));
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
#endif 
    ExitCategoryFunction = ExitCategory35Screen;
    dm_setup_category_functions(dm_redraw_category_screen, dm_get_category_history, dm_get_category_history_size);
    dm_register_category_controlled_callback(category35callback);
    dm_data.s32ScrId = (S32) GetActiveScreenId();
    dm_data.s32CatId = MMI_CATEGORY35_ID;
    dm_data.s32flags = DM_CLEAR_SCREEN_BACKGROUND;
    dm_data.s32flags |= DM_SHOW_VKPAD;
    dm_setup_data(&dm_data);
    dm_register_vkpad_callback(cat35_virtual_keypad_callback);
    dm_redraw_category_screen();
}


/*****************************************************************************
 * FUNCTION
 *  ExitCategory35Screen
 * DESCRIPTION
 *  Exits the dynamic icon notification with user input screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory35Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    set_MMI_current_input_type();
#if(UI_BLINKING_CURSOR_SUPPORT)
    //gui_cancel_timer(UI_inputbox_blink_cursor);
    StopTimer(BLINKING_CURSOR);

#endif /* (UI_BLINKING_CURSOR_SUPPORT) */ 
    reset_multitaps();
    wgui_close_inputbox();
    reset_softkeys();

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    dm_set_scr_bg_opacity(editor_scr_bg_opacity);
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

    ExitCategoryFunction = MMI_dummy_function;
    RedrawCategoryFunction = MMI_dummy_function;
    GetCategoryHistory = dummy_get_history;
    GetCategoryHistorySize = dummy_get_history_size;
}

/* Category 171: SAT edit screen (Equivalent to Cat-35)           */


/*****************************************************************************
 * FUNCTION
 *  SetCategory171RightSoftkeyFunction
 * DESCRIPTION
 *  Redraws the dynamic icon notification with user input screen
 * PARAMETERS
 *  f       [IN]        
 *  k       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void SetCategory171RightSoftkeyFunction(void (*f) (void), MMI_key_event_type k)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    UI_UNUSED_PARAMETER(k);
    wgui_inputbox_RSK_function = f;
}


/*****************************************************************************
 * FUNCTION
 *  cat171_virtual_keypad_callback
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void cat171_virtual_keypad_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if defined(__MMI_TOUCH_SCREEN__)
    mmi_pen_editor_resize_multiline_input_box_for_vk();
#endif 
}


/*****************************************************************************
 * FUNCTION
 *  ShowCategory171Screen
 * DESCRIPTION
 *  Displays the dynamic icon notification with user input screen
 * PARAMETERS
 *  left_softkey            [IN]        Left softkey label
 *  left_softkey_icon       [IN]        Icon for the left softkey
 *  right_softkey           [IN]        Right softkey label
 *  right_softkey_icon      [IN]        Icon for the right softkey
 *  message                 [IN]        Notification message
 *  message_icon            [IN]        
 *  input_type              [IN]        
 *  buffer                  [IN]        Input buffer
 *  buffer_size             [IN]        Input buffer size
 *  history_buffer          [IN]        History buffer
 *  IMAGE(?)                [IN]        Image          Notification image
 *  For(?)                  [IN]        Example, 5 means only 5 characters can be input in this screen.
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory171Screen(
        U8 *left_softkey,
        PU8 left_softkey_icon,
        U8 *right_softkey,
        PU8 right_softkey_icon,
        U8 *message,
        PU8 message_icon,
        S16 input_type,
        U8 *buffer,
        S32 buffer_size,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    dm_data_struct dm_data;
    S32 inputbox_x, inputbox_y, inputbox_width, inputbox_height;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    UI_UNUSED_PARAMETER(history_buffer);
    gui_setup_common_layout();
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 

    MMI_menu_shortcut_number = -1;
    clear_category_screen_key_handlers();
    set_left_softkey_label((UI_string_type) left_softkey);
    set_left_softkey_icon(left_softkey_icon);
    set_right_softkey_label((UI_string_type) right_softkey);
    set_right_softkey_icon(right_softkey_icon);
    clear_left_softkey();
    clear_right_softkey();
    register_left_softkey_handler();
    register_right_softkey_handler();
    register_default_hide_softkeys();
    MMI_title_string = (UI_string_type) message;
    MMI_title_icon = (PU8) message_icon;
    /* MTK Add By Elvis for T9 */
#ifdef __MMI_T9__
    InuptMethodEnterCategory5();
#elif defined __MMI_ZI__
    ZiInuptMethodEnterCategory5();
#elif defined __MMI_CSTAR__
    CstarInputMethodEnterCategory5();
#elif defined __MMI_KA__
    KonkaInuptMethodEnterCategory5();
#elif defined __MMI_ITAP__
/* under construction !*/
#endif 
    /* MTK end */

    inputbox_x = 0;
    inputbox_y = (MMI_title_y + MMI_title_height);
    inputbox_width = UI_device_width;
#if defined(__MMI_FULL_SCREEN_EDITOR__)
    inputbox_height = MMI_content_height - 12;
#else 
    inputbox_height = MMI_content_height - MMI_multitap_height - 12;
#endif 
    register_hide_multitap(category5_hide_multitap);
    wgui_setup_inputbox(
        inputbox_x,
        inputbox_y,
        inputbox_width,
        inputbox_height,
        buffer,
        buffer_size,
        MMI_CATEGORY171_ID,
        (UI_string_type) right_softkey,
        (PU8) right_softkey_icon,
        input_type,
        history_buffer,
        1);

    /* W05.41 Do not Clear Key Pound Function because it is used in some input method */
#if !defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__)
    if (((input_type & INPUT_TYPE_MASK) != INPUT_TYPE_PHONE_NUMBER) &&
        ((input_type & INPUT_TYPE_MASK) != INPUT_TYPE_SAT_NUMERIC_PASSWORD))
    {
        ClearKeyHandler(KEY_POUND, KEY_EVENT_DOWN);
        ClearKeyHandler(KEY_POUND, KEY_EVENT_UP);
    }
    if (((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_ALPHANUMERIC_LOWERCASE) ||
        ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_ALPHANUMERIC_UPPERCASE) ||
        ((input_type & INPUT_TYPE_MASK) == INPUT_TYPE_ALPHANUMERIC_SENTENCECASE))
    {
    #ifdef __MMI_TOUCH_SCREEN__
        SetKeyHandler(mmi_pen_editor_switch_input_method, KEY_POUND, KEY_EVENT_DOWN);
    #else
        SetKeyHandler(wgui_handle_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
    #endif /*__MMI_TOUCH_SCREEN__*/
    }
#endif /* !defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__) */ 
    setup_scrolling_title();

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_TRANSPARENT_BACKGROUND;
    dm_get_scr_bg_opacity(&editor_scr_bg_opacity);
    dm_set_scr_bg_opacity((U8)(current_MMI_theme->bg_opacity_low));
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
#endif 
    ExitCategoryFunction = ExitCategory171Screen;
    dm_setup_category_functions(dm_redraw_category_screen, dm_get_category_history, dm_get_category_history_size);
    dm_data.s32ScrId = (S32) GetActiveScreenId();
    dm_data.s32CatId = MMI_CATEGORY171_ID;
    dm_data.s32flags = DM_CLEAR_SCREEN_BACKGROUND | DM_SCROLL_TITLE;
    dm_data.s32flags |= DM_SHOW_VKPAD;
#if !defined(GUI_EDITOR_SHOW_TITLE)
    dm_data.s32flags |= DM_NO_TITLE;
#endif /* !defined(GUI_EDITOR_SHOW_TITLE) */

    dm_setup_data(&dm_data);
    dm_register_vkpad_callback(cat171_virtual_keypad_callback);
    dm_redraw_category_screen();
}


/*****************************************************************************
 * FUNCTION
 *  ExitCategory171Screen
 * DESCRIPTION
 *  Exits the dynamic icon notification with user input screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory171Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    set_MMI_current_input_type();
#if(UI_BLINKING_CURSOR_SUPPORT)
    //gui_cancel_timer(UI_inputbox_blink_cursor);
    StopTimer(BLINKING_CURSOR);

#endif /* (UI_BLINKING_CURSOR_SUPPORT) */ 
    close_scrolling_title();
    /* MTK Elvis 20040116 to reset softkeys and multitap status */

    reset_multitaps();
    /* MTK end */
    wgui_close_inputbox();
    reset_softkeys();

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    dm_set_scr_bg_opacity(editor_scr_bg_opacity);
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

    ExitCategoryFunction = MMI_dummy_function;
    RedrawCategoryFunction = MMI_dummy_function;
    GetCategoryHistory = dummy_get_history;
    GetCategoryHistorySize = dummy_get_history_size;
}


/*****************************************************************************
 * FUNCTION
 *  SetInputboxLSKFunction
 * DESCRIPTION
 *  
 * PARAMETERS
 *  f       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void SetInputboxLSKFunction(FuncPtr f)
{
#ifdef __MMI_T9__
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    T9SetInputboxLSKFunction(f);
#elif defined __MMI_ZI__
    ZiSetInputboxLSKFunction(f);
#elif defined __MMI_CSTAR__
    CstarSetInputboxLSKFunction(f);
#elif defined __MMI_KA__
    KonKaSetInputboxLSKFunction(f);
#elif defined __MMI_ITAP__
/* under construction !*/
#endif 

#if defined(__MMI_TOUCH_SCREEN__)
    mmi_pen_editor_set_inputbox_LSK_Function(f);
#endif 
}


/*****************************************************************************
 * FUNCTION
 *  SetInputboxLSKText
 * DESCRIPTION
 * PARAMETERS    
 * RETURNS
 *  void
 *****************************************************************************/
void SetInputboxLSKText(void)
{

    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#ifdef __MMI_T9__
    T9UpdateLSKString();
#elif defined __MMI_ZI__
    ZiUpdateLSKString();
#elif defined __MMI_CSTAR__
    CstarUpdateLSKString();
#endif 

#if defined(__MMI_TOUCH_SCREEN__)
    mmi_pen_editor_store_LSK_Text();
#endif 
}

#if defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__)
// TODO: to be moved to wgui_categories_inputs.c

U8 *cat115buffer;

static void wgui_WCSS_inputbox_input_handler(MMI_key_code_type key_code, MMI_key_event_type key_event);

/* Return The Input Mode Respect To The Input Method Passed By User. */


/*****************************************************************************
 * FUNCTION
 *  WCSS_check_input_method
 * DESCRIPTION
 *  
 * PARAMETERS
 *  s       [?]     
 * RETURNS
 *  
 *****************************************************************************/
static U16 WCSS_check_input_method(U8 *s)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    switch (s[0] & 0x1F)
    {
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC_NO_NUMERIC:
            return INPUT_TYPE_ALPHABATIC_UPPERCASE;
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC_NO_NUMERIC:
            return INPUT_TYPE_ALPHABATIC_LOWERCASE;
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
            return INPUT_TYPE_ALPHANUMERIC_UPPERCASE;
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
            return INPUT_TYPE_ALPHANUMERIC_LOWERCASE;
        case INPUT_MODE_123:
            return INPUT_TYPE_NUMERIC;
        case INPUT_MODE_123_SYMBOLS:
            return INPUT_TYPE_NUMERIC_SYMBOL;
        default:
            return INPUT_TYPE_ALPHANUMERIC_UPPERCASE;
    }
}


/*****************************************************************************
 * FUNCTION
 *  RedrawCategory115Screen
 * DESCRIPTION
 *  Redraws the category115 screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void RedrawCategory115Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    RedrawCategory5Screen();
}


/*****************************************************************************
 * FUNCTION
 *  SetCategory115RightSoftkeyFunction
 * DESCRIPTION
 *  
 * PARAMETERS
 *  f       [IN]        
 *  k       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void SetCategory115RightSoftkeyFunction(void (*f) (void), MMI_key_event_type k)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetCategory5RightSoftkeyFunction(f, k);
}


/*****************************************************************************
 * FUNCTION
 *  ExitCategory115Screen
 * DESCRIPTION
 *  Exits the category5 screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory115Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* Reference: ExitCategory5Screen() */
    set_MMI_current_input_type();
    reset_multitaps();
    wgui_close_inputbox();
    reset_softkeys();
    clear_key_input_handler();  /* Key input handler was registered before */

    ExitCategoryFunction = MMI_dummy_function;
    RedrawCategoryFunction = MMI_dummy_function;
    GetCategoryHistory = dummy_get_history;
    GetCategoryHistorySize = dummy_get_history_size;
    if (cat115buffer != NULL)
    {
        gui_free(cat115buffer);
        cat115buffer = NULL;
    }
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory115HistorySize
 * DESCRIPTION
 *  Gets the size of the history buffer for category115 screen
 * PARAMETERS
 *  void
 * RETURNS
 *  size in U8s of the history buffer
 *****************************************************************************/
S32 GetCategory115HistorySize(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (sizeof(multiline_inputbox_category_history));
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory115History
 * DESCRIPTION
 *  Gets the history buffer for category115 screen
 * PARAMETERS
 *  history_buffer      [IN]        Is the buffer into which the history data is stored (pre-allocated)
 *  buffer_size(?)      [IN]        In unicode (containing '\0')
 * RETURNS
 *  Pointer to the history buffer
 *****************************************************************************/
U8 *GetCategory115History(U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    get_multiline_inputbox_category_history(MMI_CATEGORY5_ID, history_buffer, MMI_current_input_type);
    return (history_buffer);
}

#ifdef __MMI_T9__
extern void InuptMethodEnterCategory5(void);
#endif 


/*****************************************************************************
 * FUNCTION
 *  ShowCategory115Screen
 * DESCRIPTION
 *  Displays the category115 screen (WCSS editor)
 * PARAMETERS
 *  title                   [IN]        Title for the screen
 *  title_icon              [IN]        Icon shown with the title
 *  left_softkey            [IN]        Left softkey label
 *  left_softkey_icon       [IN]        Icon for the left softkey
 *  right_softkey           [IN]        Right softkey label
 *  right_softkey_icon      [IN]        Icon for the right softkey
 *  buffer                  [IN]        Buffer the input box should use.
 *  buffer_size             [IN]        UCS2 character count including '\0'
 *  input_format            [IN]        WAP input-format
 *  input_required          [IN]        Unused
 *  input_type              [IN]        input type
 *  history_buffer          [IN]        History buffer
 * RETURNS
 *  void
 *****************************************************************************/
/*
 * Note: We do not handle Chinese input in ShowCategory115Screen to simplify the design.
 * * "*m" and "*M" is already handled in WAP. and "nnn*M" will only allow three digits, and 
 * * any number of western characters.
 */
void ShowCategory115Screen_ext(
        U16 title,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        U8 *buffer,
        S32 buffer_size,
        U8 *input_format,
        U8 input_required,
        U16 input_type,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    /* Reference: ShowCategory5Screen() */
    dm_data_struct dm_data;//092906 cat115
    S32 inputbox_x = 0;
    S32 inputbox_y = (MMI_title_y + MMI_title_height);
    S32 inputbox_width = MMI_content_width;

#if defined(__MMI_FULL_SCREEN_EDITOR__)
    S32 inputbox_height = MMI_content_height;
#else 
    S32 inputbox_height = MMI_content_height - MMI_multitap_height;
#endif 
    S8 input_format_status = 0;
    S32 format_length;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    // ADD_SCREEN_STRINGS((3,title,right_softkey,left_softkey));
    // ADD_SCREEN_IMAGES((3,title_icon,right_softkey_icon,left_softkey_icon));
    gui_setup_common_layout();
    
    if (buffer_size > CAT115_MAXSIZE)   /* Maximum input char = CAT115_MAXSIZE - 1 */
    {
        buffer_size = CAT115_MAXSIZE;
    }

    format_length = get_category_115_format_buffer_length(input_format, buffer_size);

    if (format_length == -1)
    {
        /* Use as normat category 5. */
        input_format_status = (S8) (-1);
    }
    else if (format_length == 0)
    {
        /* Leave buffer_size unchanged */
    }
    else if (format_length < buffer_size)
    {
        /* Set the buffer length to the upper bound derived from input format */
        buffer_size = format_length + 1;
    }
    else if (format_length >= buffer_size)
    {
        /* Act as Category 5 */
        input_format_status = (S8) (-1);
    }
    if (input_format_status != -1)
    {
        /* Allocate fixed size of control buffer bucket because the size is controlled by
           external web pages; otherwise, it might exhaust some kind of control buffer */
        cat115buffer = gui_malloc(CAT115_MAXSIZE);
        if (gui_parse_WCSS_string
            ((U8*) input_format, (U8*) buffer, (U8*) cat115buffer, (S16) buffer_size,
             (U8) ((history_buffer || buffer[0] || buffer[1]) ? 1 : 0)) != 0)
        {
            PRINT_INFORMATION("\n --- Category 115 --- Invalid WCSS Format --- ");
            input_format_status = (S8) (-1);    /* In this case the editor will works as normal text editor. */
        }
    }

    if (input_format_status != -1)
    {
        extern void gui_reset_WCSS_cursor_position(void);

        /* Use INPUT_TYPE_OVERRIDE_DEFAULT to prevent overriden by default input method, which might be chinese input method (unsupported) */
        if ((input_type & INPUT_TYPE_MASK) != INPUT_TYPE_NUMERIC_PASSWORD && 
            (input_type & INPUT_TYPE_MASK) != INPUT_TYPE_ALPHANUMERIC_PASSWORD)
        {
            input_type = WCSS_check_input_method(cat115buffer) | INPUT_TYPE_OVERRIDE_DEFAULT;
        }

        if (history_buffer == NULL)
        {
            is_fisrt_entry_WCSS_editor = MMI_TRUE;
        }
        else
        {
            is_fisrt_entry_WCSS_editor = MMI_FALSE;
        }
        gui_reset_WCSS_cursor_position();
    }

#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 

    MMI_menu_shortcut_number = -1;
    MMI_disable_title_shortcut_display = 1;
    clear_category_screen_key_handlers();
    change_left_softkey(left_softkey, left_softkey_icon);
    change_right_softkey(right_softkey, right_softkey_icon);
    clear_left_softkey();
    clear_right_softkey();
    register_left_softkey_handler();
    register_right_softkey_handler();
    register_default_hide_softkeys();

#ifdef __MMI_T9__
    InuptMethodEnterCategory5();
#elif defined __MMI_ZI__
    ZiInuptMethodEnterCategory5();
#elif defined __MMI_CSTAR__
    CstarInputMethodEnterCategory5();
#elif defined __MMI_KA__
    KonkaInuptMethodEnterCategory5();
#elif defined __MMI_ITAP__
/* under construction !*/
#endif 

    MMI_title_string = (UI_string_type) get_string(title);
    MMI_title_icon = (PU8) get_image(title_icon);
    register_hide_multitap(category5_hide_multitap);

    wgui_setup_inputbox(
        inputbox_x,
        inputbox_y,
        inputbox_width,
        inputbox_height,
        buffer,
        buffer_size,
        MMI_CATEGORY5_ID,
        get_string(right_softkey),
        get_image(right_softkey_icon),
        input_type,
        history_buffer,
        1);
    MMI_current_input_ext_type |= INPUT_TYPE_EXT_NO_SHOW_NEW_LINE_SYMBOL;

    if (input_format_status != -1)
    {
        register_key_input_handler(wgui_WCSS_inputbox_input_handler);
    }

#if defined(__MMI_FULL_SCREEN_EDITOR__)
    inputbox_height = MMI_content_height - wgui_inputbox_information_bar_height;
#else 
    inputbox_height = MMI_content_height - MMI_multitap_height - wgui_inputbox_information_bar_height;
#endif 
    if (MMI_multiline_inputbox.height > inputbox_height)
    {
        gui_resize_multi_line_input_box(&MMI_multiline_inputbox, MMI_multiline_inputbox.width, inputbox_height);
    }

#if UI_INCLUDE_INFORMATION_AREA_IN_MULTI_LINE
    MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_INCLUDE_INFO_AREA;
#endif 
    if (input_format_status != -1)
    {
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_OVERWRITE_MODE;
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_WCSS_INPUT_BOX_ENABLE;
        /* Disable word-wrapping for WCSS editor */
        MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_DISABLE_WRAPPING_BY_WORD;
    }

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_TRANSPARENT_BACKGROUND;
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
#endif 

    if (input_format_status != -1 && history_buffer == NULL)
    {
        /* We hope to edit from the beginning even with default input values, 
           and we just configured the input format for the first character */
        MMI_multiline_inputbox.cursor_p = MMI_multiline_inputbox.text;
        MMI_multiline_inputbox.cursor_line_position_counter = 0;
        show_multiline_inputbox_no_draw();
    }

#if 0//092006 cat115
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#else
    ExitCategoryFunction = ExitCategory115Screen;
    dm_data.s32flags = DM_CLEAR_SCREEN_BACKGROUND;
    dm_data.s32flags |= DM_SHOW_VKPAD;
    dm_setup_category_functions(dm_redraw_category_screen, dm_get_category_history, dm_get_category_history_size);
    dm_register_category_controlled_callback(category5callback);
    dm_data.s32ScrId = (S32) GetActiveScreenId();
    dm_data.s32CatId = MMI_CATEGORY5_ID;
    dm_setup_data(&dm_data);
    dm_register_vkpad_callback(cat5_virtual_keypad_callback);
    dm_redraw_category_screen();
#endif
}


/*****************************************************************************
 * FUNCTION
 *  ShowCategory115Screen
 * DESCRIPTION
 *  Displays the category115 screen (WCSS editor)
 * PARAMETERS
 *  title                   [IN]        Title for the screen
 *  title_icon              [IN]        Icon shown with the title
 *  left_softkey            [IN]        Left softkey label
 *  left_softkey_icon       [IN]        Icon for the left softkey
 *  right_softkey           [IN]        Right softkey label
 *  right_softkey_icon      [IN]        Icon for the right softkey
 *  buffer                  [IN]        Buffer the input box should use.
 *  buffer_size             [IN]        UCS2 character count including '\0'
 *  input_format            [IN]        WAP input-format
 *  input_required          [IN]        Unused
 *  history_buffer          [IN]        History buffer
 * RETURNS
 *  void
 *****************************************************************************/
/*
 * Note: We do not handle Chinese input in ShowCategory115Screen to simplify the design.
 * * "*m" and "*M" is already handled in WAP. and "nnn*M" will only allow three digits, and 
 * * any number of western characters.
 */
void ShowCategory115Screen(
        U16 title,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        U8 *buffer,
        S32 buffer_size,
        U8 *input_format,
        U8 input_required,
        U8 *history_buffer)
{
    ShowCategory115Screen_ext(
        title,
        title_icon,
        left_softkey,
        left_softkey_icon, 
        right_softkey,
        right_softkey_icon,
        buffer,
        buffer_size,
        input_format,
        input_required,
        INPUT_TYPE_ALPHANUMERIC_UPPERCASE,
        history_buffer);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_WCSS_inputbox_input_handler
 * DESCRIPTION
 *  
 * PARAMETERS
 *  key_code        [IN]        
 *  key_event       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
static void wgui_WCSS_inputbox_input_handler(MMI_key_code_type key_code, MMI_key_event_type key_event)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* 
     * When input method is changed before controlled by Multitap Input
     * We cannot switch input method automatically unless multitap is discarded.
     * For example: assume we do not do this, we may get string "ad" from input format "xn" when pressing '2' and '3' successively.
     */
#if 1
    if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_WCSS_INPUT_BOX_ENABLE)
#else 
/* under construction !*/
#endif 
    {
        if (MMI_active_multitap != key_code)
        {
            if (!gui_WCSS_check_next_multitap_input(&MMI_multiline_inputbox))
            {
                /* If the next character does not use multitap, disable multitap */
                disable_active_multitap();
            }
        }
    }
}

#endif /* defined(__MMI_WCSS_INPUT_FORMAT_SUPPORT__) */ 

#if defined(__MMI_SMART_MESSAGE_MO__) && !defined(__MMI_MESSAGES_EMS__)


/*****************************************************************************
 * FUNCTION
 *  mmi_nsm2_get_remaining_len
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  
 *****************************************************************************/
S32 mmi_nsm2_get_remaining_len(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (g_nsm_msg_context.UCS2_count > 0)
    {
        if (g_nsm_msg_context.is_picmsg == TRUE)
        {
            /* 64 */
            g_nsm_msg_context.remaining_length = (MAX_PICMSG_UCS2_DCS_TEXT_LEN) + 1;
        }
        else
        {
            /* 306 */
            g_nsm_msg_context.remaining_length = (UCS2_DCS_ALLOCATED_LENGTH) + 1;
        }
    }
    else    /* No UCS Character */
    {
        if (g_nsm_msg_context.is_picmsg == TRUE)
        {
            /* 128 */
            g_nsm_msg_context.remaining_length = (MAX_PICMSG_DEFAULT_DCS_TEXT_LEN) + 1;
        }
        else
        {
            /* 612 */
            g_nsm_msg_context.remaining_length = (DEFAULT_DCS_ALLOCATED_LENGTH) + 1;
        }
    }

    return (g_nsm_msg_context.remaining_length * 2);
}
#endif /* defined(__MMI_SMART_MESSAGE_MO__) && !defined(__MMI_MESSAGES_EMS__) */ 

#ifdef __MMI_MESSAGES_CHAT__

/* only used in cat305(ChatApp) */
UI_filled_area greenwgui_color_dialog_background = {UI_FILLED_AREA_TYPE_COLOR,
    UI_NULL_IMAGE,
    NULL,
    {200, 255, 145, 100},
    {0, 0, 0, 0},
    {0, 0, 0, 100},
    {50, 50, 50, 100},
    0
};


/********** MS CHAT SCREEN START **********/
#define LOCAL     0
#define SENDER    1
#define  RECEIVER_TRUNCATED      2
#define  SENDER_TRUNCATED     3

UI_filled_area SMSChat_inputbox_BG_filler = 
{
    UI_FILLED_AREA_TYPE_COLOR | UI_FILLED_AREA_DOUBLE_BORDER | UI_FILLED_AREA_ROUNDED_BORDER |
        UI_FILLED_AREA_SHADOW_DOUBLE_LINE | UI_FILLED_AREA_SHADOW,
    UI_NULL_IMAGE,
    NULL,
    {255, 255, 217, 100},
    {0, 0, 0, 0},
    {107, 215, 0, 100},
    {84, 84, 84, 100},
    0
};

UI_multi_line_input_box_theme SMSChat_MMI_multiline_inputbox_theme = { (UI_filled_area *)&SMSChat_inputbox_BG_filler,
    (UI_filled_area *)&SMSChat_inputbox_BG_filler,
    (UI_filled_area *)&SMSChat_inputbox_BG_filler,
    {0, 0, 0, 100},
    {0, 0, 0, 100},
    {128, 128, 128, 100},
    {0, 0, 0, 100},
    {255, 255, 255, 100},
    {51, 88, 171, 100},
    {255, 0, 0, 100},
    {255, 0, 0, 100},
    &(UI_DEFAULT_FONT),
    1,
    0,
    '*',
    5
};


//U8 chat_message[CHAT_MESSAGE_BUFFER];
U8 *chat_message = NULL;

const S8 uni_str_new_line[4] = { '\n', '\0', '\0', '\0' };
const S8 uni_grp_ch[4] = {0x1d, 0x00, 0x00, 0x00};
const S8 uni_file_ch[4] = {0x1c, 0x00, 0x00, 0x00};
const S8 uni_sender_truncate[4] = {0x1e, 0x00, 0x00, 0x00};
const S8 uni_receiver_truncate[4] = {0x1f, 0x00, 0x00, 0x00};
const S8 gChatTruncateSymbol[] = { '(', '\0', '.', '\0', '.', '\0', ')', '\0', '\0', '\0' };
scrolling_text wgui_category305_scrolling_text;

#define  MAX_CHAT_NICKNAME_SIZE  20
U8 *last_char = NULL, *current_pos = NULL;


/*****************************************************************************
 * FUNCTION
 *  concate_messages
 * DESCRIPTION
 *  
 * PARAMETERS
 *  list_of_msg     [?]         
 *  type_of_msg     [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void concate_messages(U8 *list_of_msg, U8 type_of_msg)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 len = 0;
    S32 messageLen = 0;
    S32 nCount = 0;
    S32 nTemp;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    len = mmi_ucs2strlen((PS8) chat_message);
    messageLen = mmi_ucs2strlen((PS8) list_of_msg);

    if (len * ENCODING_LENGTH > CHAT_MESSAGE_BUFFER)
    {
        memset(chat_message, 0, CHAT_MESSAGE_BUFFER);
    }

    if (type_of_msg == LOCAL)
    {
        mmi_ucs2cat((PS8) chat_message, (PS8) uni_grp_ch);
    }
    else if (type_of_msg == SENDER)
    {
        mmi_ucs2cat((PS8) chat_message, (PS8) uni_file_ch);
    }
    else if (type_of_msg == SENDER_TRUNCATED)
    {
        mmi_ucs2cat((PS8) chat_message, (PS8) uni_sender_truncate);

    }
    else
    {
        mmi_ucs2cat((PS8) chat_message, (PS8) uni_receiver_truncate);
    }

    while ((nCount < ((MAX_CHAT_NICKNAME_SIZE) * ENCODING_LENGTH)) && (nCount < messageLen * ENCODING_LENGTH))
    {
        if (list_of_msg[nCount] == (U8)':'  && list_of_msg[nCount+1] == (U8)0 )
        {
            if (nCount) /* If separator is the first character then skip it, else if it is not add */
            {
                nTemp = nCount + ENCODING_LENGTH;
                mmi_ucs2ncat((PS8) chat_message, (PS8) list_of_msg, nTemp / ENCODING_LENGTH);
                mmi_ucs2cat((PS8) ((chat_message) + nTemp), (PS8) uni_str_new_line);
                if (type_of_msg == SENDER_TRUNCATED || type_of_msg == RECEIVER_TRUNCATED)
                {
                    mmi_ucs2cat((PS8) chat_message, (PS8) gChatTruncateSymbol);
                }
                mmi_ucs2cat((PS8) chat_message, (PS8) (list_of_msg + nTemp));
                break;
            }
        }
        nCount += ENCODING_LENGTH;
    }
    if ((nCount >= (MAX_CHAT_NICKNAME_SIZE * ENCODING_LENGTH)) || (nCount >= messageLen * ENCODING_LENGTH))
    {
        if (type_of_msg == SENDER_TRUNCATED || type_of_msg == RECEIVER_TRUNCATED)
        {
            mmi_ucs2cat((PS8) chat_message, (PS8) gChatTruncateSymbol);
        }
        mmi_ucs2cat((PS8) chat_message, (PS8) list_of_msg);
    }

    mmi_ucs2cat((PS8) chat_message, (PS8) uni_str_new_line);
    PRINT_INFORMATION("\n CHAT MESSAGE  %s  ", chat_message);

}


/*****************************************************************************
 * FUNCTION
 *  ShowCatMessage
 * DESCRIPTION
 *  
 * PARAMETERS
 *  message         [?]         
 *  type_of_msg     [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCatMessage(U8 *message, U8 type_of_msg)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 index = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    concate_messages(message, type_of_msg);
    /* concate_messages(message,type_of_msg,(U8)index); */
    MMI_multiline_inputbox.text = (UI_buffer_type) chat_message;
    MMI_multiline_inputbox.cursor_p = chat_message;

    gui_set_font(&MMI_medium_font);

    show_multiline_inputbox_no_draw();

    for (index = 0; index < (MMI_multiline_inputbox.n_lines); index++)
    {
        gui_multi_line_input_box_next_line(&MMI_multiline_inputbox);
    }

    show_multiline_inputbox();
    gdi_layer_blt_previous(
        MMI_multiline_inputbox.x,
        MMI_multiline_inputbox.y,
        (MMI_multiline_inputbox.x + MMI_multiline_inputbox.width),
        (MMI_multiline_inputbox.y + MMI_multiline_inputbox.height));
}


/*****************************************************************************
 * FUNCTION
 *  initialize_chat_msg
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void initialize_chat_msg(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    memset(chat_message, 0, CHAT_MESSAGE_BUFFER);
}


/*****************************************************************************
 * FUNCTION
 *  cat_305_scrolling_timer
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void cat_305_scrolling_timer(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_handle_scrolling_text(&wgui_category305_scrolling_text);
}


/*****************************************************************************
 * FUNCTION
 *  wgui_draw_305_title_background
 * DESCRIPTION
 *  
 * PARAMETERS
 *  x1      [IN]        
 *  y1      [IN]        
 *  x2      [IN]        
 *  y2      [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_draw_305_title_background(S32 x1, S32 y1, S32 x2, S32 y2)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    if (wgui_is_wallpaper_on_bottom() == MMI_FALSE)
    {
        gui_fill_rectangle(x1, y1, x2, y2, *(current_MMI_theme->lite_disp_scr_bg_color));
        gui_draw_filled_area(x1, y1, x2, y2, current_window_title_theme->active_filler);
    }
    else
    {
        gdi_draw_solid_rect(x1, y1, x2, y2, GDI_COLOR_TRANSPARENT);
        gui_draw_filled_area(x1, y1, x2, y2, current_window_title_theme->active_filler);
    }
#else
    gdi_draw_solid_rect(x1, y1, x2, y2, GDI_COLOR_TRANSPARENT);
    gui_draw_filled_area(x1, y1, x2, y2, current_window_title_theme->active_filler);
#endif
}

/*****************************************************************************
 * FUNCTION
 *  wgui_clear_305_title_background
 * DESCRIPTION
 *  
 * PARAMETERS
 *  x1      [IN]        
 *  y1      [IN]        
 *  x2      [IN]        
 *  y2      [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_clear_305_title_background(S32 x1, S32 y1, S32 x2, S32 y2)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_set_font(&MMI_medium_font);

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    if (wgui_is_wallpaper_on_bottom() == MMI_FALSE)
    {
        gui_fill_rectangle(x1, y1-3, x2, y2, *(current_MMI_theme->lite_disp_scr_bg_color));
        gui_draw_filled_area(x1, y1-3, x2, y2, current_window_title_theme->active_filler);
    }
    else
    {
        gdi_draw_solid_rect(x1, y1-3, x2, y2, GDI_COLOR_TRANSPARENT);
        gui_draw_filled_area(x1, y1-3, x2, y2, current_window_title_theme->active_filler);
    }
#else
    gdi_draw_solid_rect(x1, y1-3, x2, y2, GDI_COLOR_TRANSPARENT);
    gui_draw_filled_area(x1, y1-3, x2, y2, current_window_title_theme->active_filler);
#endif
}

/*****************************************************************************
 * FUNCTION
 *  ExitCategory305Screen
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory305Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    ClearHighlightHandler();
    reset_softkeys();
    reset_menu_shortcut_handler();
    close_status_icons();
    gui_set_multi_line_input_box_current_theme(&MMI_multiline_inputbox);
    gui_cancel_timer(cat_305_scrolling_timer);
    reset_fixed_list();
    if ( chat_message != NULL )
    {
        mmi_frm_scrmem_free(chat_message);
        chat_message = NULL;
    }
#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    dm_set_scr_bg_opacity(editor_scr_bg_opacity);
#endif
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory305HistorySize
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  
 *****************************************************************************/
S32 GetCategory305HistorySize(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (sizeof(multiline_inputbox_category_history));
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory305History
 * DESCRIPTION
 *  Gets the history buffer for category5 screen
 * PARAMETERS
 *  history_buffer      [IN]        Is the buffer into which the history data is stored (pre-allocated)
 * RETURNS
 *  Pointer to the history buffer
 *****************************************************************************/
U8 *GetCategory305History(U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    get_multiline_inputbox_category_history(MMI_CATEGORY305_ID, history_buffer, MMI_current_input_type);
    return (history_buffer);
}


/*****************************************************************************
 * FUNCTION
 *  DrawCate305CategoryControlArea
 * DESCRIPTION
 *  This function is used to draw the category controlled area of category305 screen
 * PARAMETERS
 *  coordinate      [IN/OUT]        Coordinates of category controlled area.
 * RETURNS
 *  void
 *****************************************************************************/
 extern U8 *disp_valuestr;
extern S16 status_icon;
void DrawCate305CategoryControlArea(dm_coordinates *coordinate)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 w = 0, fh = 0;
    color c = *(current_MMI_theme->title_text_color);

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (disp_valuestr)
    {
        gui_measure_string((UI_string_type) disp_valuestr, &w, &fh);
        gdi_layer_set_clip(0, (MMI_status_bar_height), (UI_device_width - 1), (MMI_status_bar_height + fh + 3));
        wgui_draw_305_title_background(
            MMI_title_x,
            MMI_status_bar_height,
            (MMI_title_width - MMI_title_x) - 1,
            (MMI_status_bar_height + fh + 3));
        if (w > (MMI_title_width - MMI_title_x))
        {
            gui_create_scrolling_text(
                &wgui_category305_scrolling_text,
                MMI_title_x,
                MMI_status_bar_height + 3,
                (MMI_title_width - MMI_title_x),
                fh,
                (UI_string_type) disp_valuestr,
                cat_305_scrolling_timer,
                wgui_clear_305_title_background,
                gui_color(c.r, c.g, c.b),
                gui_color(255, 255, 255));

            wgui_category305_scrolling_text.flags &= ~UI_SCROLLING_TEXT_BORDERED_TEXT;
            gui_show_scrolling_text(&wgui_category305_scrolling_text);
            coordinate->s16Height = fh + 4;
        }
        else
        {
            gui_set_text_color(c);
            gui_measure_string((UI_string_type) disp_valuestr, &w, &fh);

            if (r2lMMIFlag)
            {
                gui_move_text_cursor((UI_device_width >> 1) - (w >> 1) + w, (MMI_status_bar_height + 3));
            }
            else
            {
                gui_move_text_cursor((UI_device_width >> 1) - (w >> 1), (MMI_status_bar_height + 3));
            }

            gui_print_text((UI_string_type) disp_valuestr);
            coordinate->s16Height = fh + 1;
        }
    }

    while (MMI_multiline_inputbox.text_offset_y + MMI_multiline_inputbox.text_height >
           MMI_multiline_inputbox.edit_height)
    {
        gui_multi_line_input_box_next_line(&MMI_multiline_inputbox);
    }

    show_multiline_inputbox();
}

#if (defined __MMI_TOUCH_SCREEN__)


/*****************************************************************************
 * FUNCTION
 *  Cat305CategoryControlAreaPenDownHdlr
 * DESCRIPTION
 *  
 * PARAMETERS
 *  pos     [IN]        
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL Cat305CategoryControlAreaPenDownHdlr(mmi_pen_point_struct pos)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    BOOL ret = MMI_FALSE;
    gui_multi_line_input_box_pen_enum multi_line_input_box_event;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (MMI_multiline_inputbox.flags & UI_MULTI_LINE_INPUT_BOX_VIEW_MODE)
    {
        ret = gui_multi_line_input_box_translate_pen_event(
                &MMI_multiline_inputbox,
                MMI_PEN_EVENT_DOWN,
                pos.x,
                pos.y,
                &multi_line_input_box_event);
    }

    if (ret)
    {
        return MMI_TRUE;
    }
    else
    {
        return MMI_FALSE;
    }
}


/*****************************************************************************
 * FUNCTION
 *  Cat305CategoryControlAreaPenUpHdlr
 * DESCRIPTION
 *  
 * PARAMETERS
 *  pos     [IN]        
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL Cat305CategoryControlAreaPenUpHdlr(mmi_pen_point_struct pos)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_pen_enum multi_line_input_box_event;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_translate_pen_event(
        &MMI_multiline_inputbox,
        MMI_PEN_EVENT_UP,
        pos.x,
        pos.y,
        &multi_line_input_box_event);
    return MMI_TRUE;
}


/*****************************************************************************
 * FUNCTION
 *  Cat305CategoryControlAreaPenMoveHdlr
 * DESCRIPTION
 *  
 * PARAMETERS
 *  pos     [IN]        
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL Cat305CategoryControlAreaPenMoveHdlr(mmi_pen_point_struct pos)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_pen_enum multi_line_input_box_event;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_translate_pen_event(
        &MMI_multiline_inputbox,
        MMI_PEN_EVENT_MOVE,
        pos.x,
        pos.y,
        &multi_line_input_box_event);
    return MMI_TRUE;
}


/*****************************************************************************
 * FUNCTION
 *  Cat305CategoryControlAreaPenLongTapHdlr
 * DESCRIPTION
 *  
 * PARAMETERS
 *  pos     [IN]        
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL Cat305CategoryControlAreaPenLongTapHdlr(mmi_pen_point_struct pos)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_pen_enum multi_line_input_box_event;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_translate_pen_event(
        &MMI_multiline_inputbox,
        MMI_PEN_EVENT_LONG_TAP,
        pos.x,
        pos.y,
        &multi_line_input_box_event);
    return MMI_TRUE;
}


/*****************************************************************************
 * FUNCTION
 *  Cat305CategoryControlAreaPenRepeatHdlr
 * DESCRIPTION
 *  
 * PARAMETERS
 *  pos     [IN]        
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL Cat305CategoryControlAreaPenRepeatHdlr(mmi_pen_point_struct pos)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_pen_enum multi_line_input_box_event;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_translate_pen_event(
        &MMI_multiline_inputbox,
        MMI_PEN_EVENT_REPEAT,
        pos.x,
        pos.y,
        &multi_line_input_box_event);
    return MMI_TRUE;
}


/*****************************************************************************
 * FUNCTION
 *  Cat305CategoryControlAreaPenAbortHdlr
 * DESCRIPTION
 *  
 * PARAMETERS
 *  pos     [IN]        
 * RETURNS
 *  
 *****************************************************************************/
MMI_BOOL Cat305CategoryControlAreaPenAbortHdlr(mmi_pen_point_struct pos)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_pen_enum multi_line_input_box_event;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_multi_line_input_box_translate_pen_event(
        &MMI_multiline_inputbox,
        MMI_PEN_EVENT_ABORT,
        pos.x,
        pos.y,
        &multi_line_input_box_event);
    return MMI_TRUE;
}
#endif /* (defined __MMI_TOUCH_SCREEN__) */ 


/*****************************************************************************
 * FUNCTION
 *  ShowCategory305Screen
 * DESCRIPTION
 *  
 * PARAMETERS
 *  title_id                [IN]        
 *  title_icon              [IN]        
 *  left_softkey            [IN]        
 *  left_softkey_icon       [IN]        
 *  right_softkey           [IN]        
 *  right_softkey_icon      [IN]        
 *  number_of_items         [IN]        
 *  chat_strings            [?]         
 *  history_buffer          [?]         
 *  top_msg                 [?]         
 *  top_msg_icon            [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory305Screen(
        U16 title_id,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        S32 number_of_items,
        chat_message_struct *chat_strings,
        U8 *history_buffer,
        U8 *top_msg,
        U16 top_msg_icon)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    dm_data_struct dm_data;
    S32 fw = 0;
    S32 l1 = 0, index = 0, temp_h = 0;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if ( chat_message != NULL )
    {
        mmi_frm_scrmem_free(chat_message);
    }
    chat_message = (U8*)mmi_frm_scrmem_alloc(CHAT_MESSAGE_BUFFER);

    gdi_layer_lock_frame_buffer();

/************************************************************************************
MTK Leo change. 
This category screen is just for sms chat, and title is not needed for this screen.
************************************************************************************/
    UI_UNUSED_PARAMETER(title_id);

    MMI_menu_shortcut_number = -1;
    change_left_softkey(left_softkey, left_softkey_icon);
    change_right_softkey(right_softkey, right_softkey_icon);
    SetupCategoryKeyHandlers();

    gui_set_font(&MMI_medium_font);
    disp_valuestr = top_msg;

    status_icon = 1;
    ShowStatusIconsTitle();

    /* Initialize Chat Message */
    memset(chat_message, 0, CHAT_MESSAGE_BUFFER);

    for (index = 0; index < number_of_items; index++)
    {
        concate_messages((U8*) chat_strings[index].chat_message_string, (U8) chat_strings[index].flag);
    }

    MMI_message_string = (UI_string_type) chat_message;
    l1 = gui_strlen((UI_string_type) MMI_message_string);
    create_multiline_inputbox_set_buffer((UI_string_type) MMI_message_string, l1, l1, 0);
    register_multiline_sms_chat_inputbox_keys();
    MMI_multiline_inputbox.flags |= (UI_MULTI_LINE_INPUT_BOX_DISABLE_CURSOR_DRAW | UI_MULTI_LINE_INPUT_BOX_VIEW_MODE | UI_MULTI_LINE_INPUT_BOX_DISPLAY_LASTLINE);       /* |UI_MULTI_LINE_INPUT_BOX_DISABLE_BACKGROUND); */
    MMI_multiline_inputbox.ext_flags |= GUI_MULTI_LINE_INPUT_BOX_CHAT_ICON_DISPLAY;

    if (top_msg)
    {
        gui_measure_string((UI_string_type) top_msg, &fw, &temp_h);
    }

#if defined( __MMI_MAINLCD_176X220__) || defined(__MMI_MAINLCD_240X320__)
    resize_multiline_inputbox(
        MMI_multiline_inputbox.width,
        (MMI_content_height + MMI_title_height 
        - 4 - temp_h));
#else
    resize_multiline_inputbox(
        MMI_multiline_inputbox.width,
        (MMI_content_height + MMI_title_height - MMI_status_bar_height
        - 4 - temp_h));
#endif

    move_multiline_inputbox(0, (MMI_status_bar_height) + temp_h + 4);
    show_multiline_inputbox_no_draw();

    set_multiline_inputbox_category_history(MMI_CATEGORY305_ID, history_buffer, &MMI_current_input_type);

    gdi_layer_unlock_frame_buffer();

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    MMI_multiline_inputbox.flags |= UI_MULTI_LINE_INPUT_BOX_TRANSPARENT_BACKGROUND;
    dm_get_scr_bg_opacity(&editor_scr_bg_opacity);
    dm_set_scr_bg_opacity((U8)(current_MMI_theme->bg_opacity_low));
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

    ExitCategoryFunction = ExitCategory305Screen;
#ifdef __MMI_TOUCH_SCREEN__
    wgui_register_category_screen_control_area_pen_handlers(Cat305CategoryControlAreaPenDownHdlr, MMI_PEN_EVENT_DOWN);
    wgui_register_category_screen_control_area_pen_handlers(Cat305CategoryControlAreaPenUpHdlr, MMI_PEN_EVENT_UP);
    wgui_register_category_screen_control_area_pen_handlers(Cat305CategoryControlAreaPenMoveHdlr, MMI_PEN_EVENT_MOVE);
    wgui_register_category_screen_control_area_pen_handlers(
        Cat305CategoryControlAreaPenLongTapHdlr,
        MMI_PEN_EVENT_LONG_TAP);
    wgui_register_category_screen_control_area_pen_handlers(
        Cat305CategoryControlAreaPenRepeatHdlr,
        MMI_PEN_EVENT_REPEAT);
    wgui_register_category_screen_control_area_pen_handlers(Cat305CategoryControlAreaPenAbortHdlr, MMI_PEN_EVENT_ABORT);
#endif /* __MMI_TOUCH_SCREEN__ */ 
    dm_register_category_controlled_callback(DrawCate305CategoryControlArea);
    dm_setup_category_functions(dm_redraw_category_screen, dm_get_category_history, dm_get_category_history_size);
    dm_data.s32ScrId = (S32) GetActiveScreenId();
    dm_data.s32CatId = MMI_CATEGORY305_ID;
    dm_data.s32flags = DM_CLEAR_SCREEN_BACKGROUND;
    dm_setup_data(&dm_data);
    dm_redraw_category_screen();

}
#endif /* __MMI_MESSAGES_CHAT__ */
/********** SMS CHAT SCREEN END  **********/


void (*category28_RSK_function) (void) = NULL;
U8 category28_RSK_label_clear = 0;
UI_string_type category28_RSK_label_string;
PU8 category28_RSK_label_icon;
extern UI_EMS_input_box MMI_EMS_inputbox;
extern U8 EMS_inputbox_has_changed;
extern PU8 wgui_EMS_inputbox_information_icon;
extern EMSTextFormat wgui_EMS_text_format;
extern S32 wgui_EMS_inputbox_information_bar_height;
extern U8 EMS_inputbox_alignment_added_flag;
extern EMSALIGNMENT EMS_inputbox_alignment;
U8 wgui_EMS_inputbox_input_type = 0;
U8 wgui_EMS_inputbox_input_mode_changed = 0;
#if((UI_ENABLE_FRAME_SKIPPING) && (ENABLE_EMS_INPUTBOX_FRAME_SKIPPING))
extern S32 wgui_EMS_inputbox_frame_counter;
#endif 


	/* MTK Add By Elvis for T9 */
#ifdef __MMI_T9__
#include "t9definition.h"
#include "t9api.h"
	
	extern T9U16 curInputMethod;
	extern void (*t9_inputbox_LSK_function) (void);
	extern void T9KeyArrowUPHandlerForEMSInputBox(void);
	extern void T9KeyArrowRightHandlerForEMSInputBox(void);
	extern void T9KeyArrowDownHandlerForEMSInputBox(void);
	extern void T9KeyArrowLeftHandlerForEMSInputBox(void);
	extern void T9KeyStarPressHandlerForEMSInputBox(void);
	extern void T9InputBoxDisplayForEMSInputBox(void);
	extern void T9ScreenStateChnageForEMSInputBox(void);
	extern void T9SynT9WithInputBoxForEMSInputBox(void);
	extern void T9Key0To9HandlerForEMSInputBox(T9MINOR mmiKey, T9MINOR keyType);
	extern void T9ClearKeyNavigationHandler(void);
	extern void T9ClearKeyStarAndPoundHandler(void);
	extern void T9ChangeLanguageForEMSInputBox(T9U8 inputMethod);
	extern void T9Key0PressHandlerForEMSInputBox(void);
	extern void T9Key1PressHandlerForEMSInputBox(void);
	extern void T9Key2PressHandlerForEMSInputBox(void);
	extern void T9Key3PressHandlerForEMSInputBox(void);
	extern void T9Key4PressHandlerForEMSInputBox(void);
	extern void T9Key5PressHandlerForEMSInputBox(void);
	extern void T9Key6PressHandlerForEMSInputBox(void);
	extern void T9Key7PressHandlerForEMSInputBox(void);
	extern void T9Key8PressHandlerForEMSInputBox(void);
	extern void T9Key9PressHandlerForEMSInputBox(void);
	extern void T9KeyPoundPressHandlerForEMSInputBox(void);
	extern void InuptMethodEnterCategory28(void);
	extern void InuptMethodExitCategory28(void);
	extern void T9ClearKey0To9Handler(void);
#elif defined __MMI_ZI__
	
#include "zi8hmi.h"
	extern void ZiKey0PressHandler(void);
	extern void ZiKey1PressHandler(void);
	extern void ZiKey2PressHandler(void);
	extern void ZiKey3PressHandler(void);
	extern void ZiKey4PressHandler(void);
	extern void ZiKey5PressHandler(void);
	extern void ZiKey6PressHandler(void);
	extern void ZiKey7PressHandler(void);
	extern void ZiKey8PressHandler(void);
	extern void ZiKey9PressHandler(void);
	
	extern void ZiKeyArrowUPHandler(void);
	extern void ZiKeyArrowRightHandler(void);
	extern void ZiKeyArrowDownHandler(void);
	extern void ZiKeyArrowLeftHandler(void);
	
	extern void ZiKeyStarPressHandler(void);
	extern void ZiKeyStarLongPressHandler(void);
	extern void ZiKeyHashPressHandler(void);
	extern void ZiKeyHashLongPressHandler(void);
	
	extern void ZiKeyLSKPressHandler(void);
	extern void ZiKeyLSKLongPressHandler(void);
	extern void ZiKeyRSKPressHandler(void);
	extern void ZiKeyRSKLongPressHandler(void);
    #ifdef __MMI_MIXED_LANG_SUPPORT__
        extern void ZiChangeInputMethod(INPUT_MODE inputMode, ime_support_writing_lang_enum sec_lang);
    #else
	    extern void ZiChangeInputMethod(INPUT_MODE inputMode);
    #endif
	extern void ZiClearKeyStarAndPoundHandler(void);
	extern void ZiClearKeyNavigationHandler(void);
	extern void ZiClearKey0To9Handler(void);
	
#if defined(__MMI_MESSAGES_EMS__)
	extern void ZiInuptMethodEnterCategory28(void);
	extern void ZiInuptMethodExitCategory28(void);
#endif /* defined(__MMI_MESSAGES_EMS__) */ 
	
	extern void ZiDisplay(void);
	extern void ZiInputBoxScreenStateChange(void);

#elif defined __MMI_CSTAR__
#include "CStarHMI.h"

	extern void CstarKey0PressHandler(void);
	extern void CstarKey1PressHandler(void);
	extern void CstarKey2PressHandler(void);
	extern void CstarKey3PressHandler(void);
	extern void CstarKey4PressHandler(void);
	extern void CstarKey5PressHandler(void);
	extern void CstarKey6PressHandler(void);
	extern void CstarKey7PressHandler(void);
	extern void CstarKey8PressHandler(void);
	extern void CstarKey9PressHandler(void);
	
	extern void CstarKeyArrowUPHandler(void);
	extern void CstarKeyArrowRightHandler(void);
	extern void CstarKeyArrowDownHandler(void);
	extern void CstarKeyArrowLeftHandler(void);
	
   extern void CstarKeyStarPressHandler(void);
   extern void CstarKeyLSKPressHandler(void);
   extern void CstarKeyRSKPressHandler(void);
   extern void CstarKeyRSKLongPressHandler(void);

   extern void CstarClearKey0To9Handler(void);
   extern void CstarClearKeyNavigationHandler(void);
   extern void CstarClearKeyStarAndPoundHandler(void);

	extern void CstarInputMethodEnterCategory5(void);
	extern void CstarInputMethodExitCategory5(void);
    
	extern void CstarInputMethodEnterCategory28(void);
	extern void CstarInputMethodExitCategory28(void);

	extern void CstarDisplay(void);
	extern void CstarInputBoxScreenStateChange(void);
    
#elif defined __MMI_KA__
	
#include "konkahmi.h"
	extern void KonkaKey0PressHandler(void);
	extern void KonkaKey1PressHandler(void);
	extern void KonkaKey2PressHandler(void);
	extern void KonkaKey3PressHandler(void);
	extern void KonkaKey4PressHandler(void);
	extern void KonkaKey5PressHandler(void);
	extern void KonkaKey6PressHandler(void);
	extern void KonkaKey7PressHandler(void);
	extern void KonkaKey8PressHandler(void);
	extern void KonkaKey9PressHandler(void);
	
	extern void KonkaKeyArrowUPHandler(void);
	extern void KonkaKeyArrowRightHandler(void);
	extern void KonkaKeyArrowDownHandler(void);
	extern void KonkaKeyArrowLeftHandler(void);
	
	extern void KonkaKeyStarPressHandler(void);
	extern void KonkaKeyStarLongPressHandler(void);
	extern void KonkaKeyHashPressHandler(void);
	extern void KonkaKeyHashLongPressHandler(void);
	
	extern void KonkaKeyLSKPressHandler(void);
	extern void KonkaKeyLSKLongPressHandler(void);
	extern void KonkaKeyRSKPressHandler(void);
	extern void KonkaKeyRSKLongPressHandler(void);
	extern void KonkaChangeInputMethod(INPUT_MODE inputMode);
	extern void KonkaClearKeyStarAndPoundHandler();
	extern void KonkaClearKeyNavigationHandler();
	extern void KonkaClearKey0To9Handler();
	
	extern void KonkaInuptMethodEnterCategory28(void);
	extern void KonkaInuptMethodExitCategory28(void);
	extern void KonkaDisplay(void);
	extern void KonkaInputBoxScreenStateChange(void);
#elif defined __MMI_ITAP__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif 


/*****************************************************************************
 * FUNCTION
 *  wgui_EMS_inputbox_change_input_type
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void wgui_EMS_inputbox_change_input_type(U8 input_type)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    wgui_EMS_inputbox_input_type = input_type;
    wgui_EMS_inputbox_input_mode_changed = 1;
}


/*****************************************************************************
 * FUNCTION
 *  SetCategory28RightSoftkeyFunction
 * DESCRIPTION
 *  
 * PARAMETERS
 *  f       [IN]        
 *  k       [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void SetCategory28RightSoftkeyFunction(void (*f) (void), MMI_key_event_type k)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    UI_UNUSED_PARAMETER(k);
    category28_RSK_function = f;
}


/*****************************************************************************
 * FUNCTION
 *  handle_category28_right_softkey_down
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void handle_category28_right_softkey_down(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    disable_active_multitap();
#if(UI_DISABLE_EMS_INPUT_BOX)
    if (MMI_multiline_inputbox.text_length > 1)
    {
        multiline_inputbox_delete_character();
    }
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    if (!gui_EMS_inputbox_empty(&MMI_EMS_inputbox))
    {
        EMS_inputbox_backspace();
    }
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}


/*****************************************************************************
 * FUNCTION
 *  handle_category28_right_softkey_up
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void handle_category28_right_softkey_up(void)
{
#if(UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if ((MMI_multiline_inputbox.text_length <= 1) && (!category28_RSK_label_clear))
    {
        if (category28_RSK_function != NULL)
        {
            category28_RSK_function();
        }
    }
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    if (category28_RSK_function != NULL)
    {
        category28_RSK_function();
    }
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}


/*****************************************************************************
 * FUNCTION
 *  register_category28_handle_right_softkey_up
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void register_category28_handle_right_softkey_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    set_right_softkey_function(handle_category28_right_softkey_up, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  register_category28_handle_clear_key_up
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void register_category28_handle_clear_key_up(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    SetKeyHandler(handle_category28_right_softkey_up, KEY_CLEAR, KEY_EVENT_UP);
}


/*****************************************************************************
 * FUNCTION
 *  handle_category28_right_softkey_long_press
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void handle_category28_right_softkey_long_press(void)
{
#if(UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    multiline_inputbox_delete_all_characters();
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    EMS_inputbox_delete_all();
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}


/*****************************************************************************
 * FUNCTION
 *  handle_category28_input
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void handle_category28_input(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    EMS_inputbox_has_changed = 1;
#if(UI_DISABLE_EMS_INPUT_BOX)
    if (MMI_multiline_inputbox.text_length > 1)
    {
    #if defined(__MMI_WITH_C_KEY__)

    #else /* defined(__MMI_WITH_C_KEY__) */ 
        if (category28_RSK_label_clear == 0)
        {
            set_right_softkey_label((UI_string_type) get_string(STR_GLOBAL_CLEAR));
            set_right_softkey_icon(NULL);
            redraw_right_softkey();
            category28_RSK_label_clear = 1;
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_UP);
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
    else
    {
    #if defined(__MMI_WITH_C_KEY__)
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        if (category28_RSK_label_clear == 1)
        {
            set_right_softkey_label(category28_RSK_label_string);
            set_right_softkey_icon(category28_RSK_label_icon);
            redraw_right_softkey();
            category28_RSK_label_clear = 0;
            set_right_softkey_function(register_category28_handle_right_softkey_up, KEY_EVENT_UP);
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 
    }
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    if (MMI_EMS_inputbox.data == NULL)
    {
        return;
    }
    if (!gui_EMS_inputbox_empty(&MMI_EMS_inputbox))
    {
    #if defined(__MMI_WITH_C_KEY__)
        if (category28_RSK_label_clear == 0)
        {
            category28_RSK_label_clear = 1;
            SetKeyHandler(handle_category28_right_softkey_down, KEY_CLEAR, KEY_EVENT_DOWN);
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_UP);
            SetKeyHandler(handle_category28_right_softkey_long_press, KEY_CLEAR, KEY_LONG_PRESS);
        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        if (category28_RSK_label_clear == 0)
        {
            set_right_softkey_label((UI_string_type) get_string(STR_GLOBAL_CLEAR));
            set_right_softkey_icon(NULL);
            redraw_right_softkey();
            category28_RSK_label_clear = 1;
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_UP);
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 

    }
    else
    {
    #if defined(__MMI_WITH_C_KEY__)
        if (category28_RSK_label_clear == 1)
        {
            category28_RSK_label_clear = 0;
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_EVENT_DOWN);
            SetKeyHandler(register_category28_handle_clear_key_up, KEY_CLEAR, KEY_EVENT_UP);
            SetKeyHandler(UI_dummy_function, KEY_CLEAR, KEY_LONG_PRESS);
        }
    #else /* defined(__MMI_WITH_C_KEY__) */ 
        if (category28_RSK_label_clear == 1)
        {
            set_right_softkey_label(category28_RSK_label_string);
            set_right_softkey_icon(category28_RSK_label_icon);
            redraw_right_softkey();
            category28_RSK_label_clear = 0;
            set_right_softkey_function(register_category28_handle_right_softkey_up, KEY_EVENT_UP);
        }
    #endif /* defined(__MMI_WITH_C_KEY__) */ 

    }
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}


/*****************************************************************************
 * FUNCTION
 *  handle_category28_change_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void handle_category28_change_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    disable_active_multitap();
    change_input_mode();
    set_MMI_current_input_type();
    switch (MMI_current_input_mode)
    {
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MULTITAP_THAI:
    #endif 
    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SPANISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_SPANISH:
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DANISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_DANISH:
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_POLISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_POLISH:
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FRENCH:
        case INPUT_MODE_MULTITAP_LOWERCASE_FRENCH:
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GERMAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_GERMAN:
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN:
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN:
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN:
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN:
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_TURKISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_TURKISH:
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE:
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined (__MMI_MULTITAP_HINDI__) 
        case INPUT_MODE_MULTITAP_HINDI:
    #endif 

    #if defined (__MMI_MULTITAP_MARATHI__) 
        case INPUT_MODE_MULTITAP_MARATHI:
    #endif 
	#if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_MODE_MULTITAP_TAMIL:
    #endif /* #if defined (__MMI_MULTITAP_TAMIL__)  */
    #if defined(__MMI_MULTITAP_BENGALI__)
        case INPUT_MODE_MULTITAP_BENGALI:
    #endif
	#if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_MODE_MULTITAP_PUNJABI:
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_MODE_MULTITAP_TELUGU:
    #endif 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN:
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CZECH:
        case INPUT_MODE_MULTITAP_LOWERCASE_CZECH:
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MULTITAP_UPPERCASE_MALAY:
        case INPUT_MODE_MULTITAP_LOWERCASE_MALAY:
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE:
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MULTITAP_HEBREW:
    #endif 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FINNISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_FINNISH:
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN:
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK:
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK:
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DUTCH:
        case INPUT_MODE_MULTITAP_LOWERCASE_DUTCH:
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN:
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MULTITAP_ARABIC:
        case INPUT_MODE_ARABIC_NUMERIC:
    #endif 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_MODE_MULTITAP_PERSIAN:
    #endif 
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_MODE_MULTITAP_URDU:
    #endif 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH:
        case INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH:
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 

    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN:
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN:
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN:
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GREEK:
        case INPUT_MODE_MULTITAP_LOWERCASE_GREEK:
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
        case INPUT_MODE_123:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #if defined(__MMI_T9__) || defined(__MMI_ITAP__) || defined(__MMI_KA__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;

        case INPUT_MODE_TR_BOPOMO:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;
        case INPUT_MODE_SM_PINYIN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;
        case INPUT_MODE_TR_STROKE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;
        case INPUT_MODE_SM_STROKE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        case INPUT_MODE_SMART_UPPERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;            
    #endif
    #if defined(__MMI_T9_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SPANISH__) */ 
    #if defined(__MMI_T9_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_DANISH__) */ 
    #if defined(__MMI_T9_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_POLISH__) */ 
    #if defined(__MMI_T9_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_FRENCH__) */ 
    #if defined(__MMI_T9_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_GERMAN__) */ 
    #if defined(__MMI_T9_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_ITALIAN__) */ 

    #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

    #if defined(__MMI_T9_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_TURKISH__) */ 
    #if defined(__MMI_T9_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_INDONESIAN__) */ 
    #if defined(__MMI_T9_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_CZECH__) */ 
    #if defined (__MMI_T9_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_T9_RUSSIAN__) */ 
    #if defined (__MMI_T9_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_T9_BULGARIAN__) */ 
    #if defined (__MMI_T9_THAI__)
        case INPUT_MODE_SMART_THAI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_T9_THAI__) */ 

    #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_PORTUGUESE__) */ 
    #if defined(__MMI_T9_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_FINNISH__) */ 
    #if defined(__MMI_T9_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_HUNGARIAN__) */ 

    #if defined(__MMI_T9_ARABIC__)
        case INPUT_MODE_SMART_ARABIC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_ARABIC__) */ 
    #if defined(__MMI_T9_HINDI__)
        case INPUT_MODE_SMART_HINDI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_HINDI__) */ 
    #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
    #if defined(__MMI_T9_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_DUTCH__) */ 
    #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
    #if defined(__MMI_T9_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SWEDISH__) */ 
    #if defined(__MMI_T9_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_GREEK__) */ 
    #if defined(__MMI_T9_HEBREW__)
        case INPUT_MODE_SMART_HEBREW:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_HEBREW__) */ 
    #if defined(__MMI_T9_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_MALAY__) */ 
    #if defined(__MMI_T9_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_CROATIAN__) */ 
    #if defined(__MMI_T9_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SLOVAK__) */ 
    #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_ROMANIAN__) */ 

    #elif defined(__MMI_CSTAR__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;
#if defined(__MMI_CSTAR_TR_CHINESE__)
        case INPUT_MODE_TR_BOPOMO:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;
        case INPUT_MODE_TR_STROKE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;
#endif /* #if defined(__MMI_CSTAR_TR_CHINESE__) */
#if defined(__MMI_CSTAR_SM_CHINESE__)
        case INPUT_MODE_SM_PINYIN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;
        case INPUT_MODE_SM_STROKE: 
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
#endif /* #if defined(__MMI_CSTAR_SM_CHINESE__) */
#if defined(__MMI_CSTAR_ENGLISH__)
        case INPUT_MODE_SMART_UPPERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;            
    #endif
#endif /* #if defined(__MMI_CSTAR_ENGLISH__) */

    #if defined(__MMI_CSTAR_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_SPANISH__) */ 
    #if defined(__MMI_CSTAR_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_DANISH__) */ 
    #if defined(__MMI_CSTAR_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_POLISH__) */ 
    #if defined(__MMI_CSTAR_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_FRENCH__) */ 
    #if defined(__MMI_CSTAR_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_GERMAN__) */ 
    #if defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_ITALIAN__) */ 

    #if defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_VIETNAMESE__) */ 

    #if defined(__MMI_CSTAR_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_TURKISH__) */ 
    #if defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_INDONESIAN__) */ 
    #if defined(__MMI_CSTAR_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_CZECH__) */ 
    #if defined (__MMI_CSTAR_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_CSTAR_RUSSIAN__) */ 
    #if defined (__MMI_CSTAR_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_CSTAR_BULGARIAN__) */ 
    #if defined (__MMI_CSTAR_THAI__)
        case INPUT_MODE_SMART_THAI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_CSTAR_THAI__) */ 

    #if defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_PORTUGUESE__) */ 
    #if defined(__MMI_CSTAR_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
    #if defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 

    #if defined(__MMI_CSTAR_ARABIC__)
        case INPUT_MODE_SMART_ARABIC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_ARABIC__) */ 
    #if defined(__MMI_CSTAR_HINDI__)
        case INPUT_MODE_SMART_HINDI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_HINDI__) */ 
    #if defined(__MMI_CSTAR_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_NORWEGIAN__) */ 
    #if defined(__MMI_CSTAR_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
    #if defined(__MMI_CSTAR_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 
    #if defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
    #if defined(__MMI_CSTAR_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_GREEK__) */ 
    #if defined(__MMI_CSTAR_HEBREW__)
        case INPUT_MODE_SMART_HEBREW:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_HEBREW__) */ 
    #if defined(__MMI_CSTAR_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_MALAY__) */ 
    #if defined(__MMI_CSTAR_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
    #if defined(__MMI_CSTAR_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
    #if defined(__MMI_CSTAR_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 

    #elif defined(__MMI_ZI__)
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_MODE_SM_MULTITAP_PINYIN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_MODE_TR_BOPOMO:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;
        case INPUT_MODE_SM_PINYIN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;
        case INPUT_MODE_TR_STROKE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO);
            break;
        case INPUT_MODE_SM_STROKE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO);
            break;
        case INPUT_MODE_SMART_UPPERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_MODE_SMART_LOWERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif        
        case INPUT_MODE_SMART_THAI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_MODE_SMART_ARABIC:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_MODE_SMART_PERSIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
        case INPUT_MODE_SMART_HINDI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif
        #if defined(__MMI_ZI_BENGALI__)
        case INPUT_MODE_SMART_BENGALI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_MARATHI__)
        case INPUT_MODE_SMART_MARATHI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_PUNJABI__)
        case INPUT_MODE_SMART_PUNJABI:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_TAMIL__)
        case INPUT_MODE_SMART_TAMIL:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_TELUGU__)
        case INPUT_MODE_SMART_TELUGU:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_URDU__)
        case INPUT_MODE_SMART_URDU:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif
        case INPUT_MODE_SMART_HEBREW:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

    #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
    #if defined(__MMI_ZI_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_DANISH__) */ 
    #if defined(__MMI_ZI_POLISH__)
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_POLISH__) */ 
    #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
    #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
    #if defined(__MMI_ZI_GERMAN__)
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_GERMAN__) */ 
    #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_ITALIAN__) */ 
    #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
    #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_MODE_SMART_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_SMART_LOWERCASE_UKRAINIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_UKRAINIAN__) */ 
    #if defined(__MMI_ZI_TURKISH__)
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_TURKISH__) */ 
    #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
    #if defined(__MMI_ZI_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_INDONESIAN__) */ 
    #if defined(__MMI_ZI_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_MALAY__) */ 
    #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
    #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_SLOVAK__) */ 
    #if defined(__MMI_ZI_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_DUTCH__) */ 
    #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_SWEDISH__) */ 
    #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_CROATIAN__) */ 
    #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
    #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 

    #if defined(__MMI_ZI_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_GREEK__) */ 
    #if defined(__MMI_ZI_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_FINNISH__) */ 
    #if defined(__MMI_ZI_CZECH__)
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_CZECH__) */ 
    #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 
    #endif 

        default:
            wgui_EMS_inputbox_information_icon = NULL;
            break;
    }
    wgui_EMS_redraw_input_information_bar();
}

/* MTK end */


/*****************************************************************************
 * FUNCTION
 *  RedrawCategory28Screen
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void RedrawCategory28Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_lock_double_buffer();

    clear_screen();

    show_title_status_icon();
    draw_title();
#if(UI_DISABLE_EMS_INPUT_BOX)
    show_multiline_inputbox();
#else 
    show_EMS_inputbox();
#endif 
    wgui_EMS_redraw_input_information_bar();
#if defined(__MMI_TOUCH_SCREEN__)
    wgui_show_virtual_keyboard();
#endif 
    show_softkey_background();
    show_left_softkey();
    show_right_softkey();
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(0, 0, UI_device_width - 1, UI_device_height - 1);
    /* MTK Elvis for redrawing spelling or candidate boxes */
    if (RedrawSpellingOrCandidateBoxesFunction)
    {
        RedrawSpellingOrCandidateBoxesFunction();
    }
    /* MTK end */

}


/*****************************************************************************
 * FUNCTION
 *  cat28_virtual_keypad_callback
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void cat28_virtual_keypad_callback(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if defined(__MMI_TOUCH_SCREEN__)
    mmi_pen_editor_resize_multiline_input_box_for_vk();
#endif 
}



/*****************************************************************************
 * FUNCTION
 *  category28callback
 * DESCRIPTION
 *  
 * PARAMETERS
 *  coordinate      [?]     
 * RETURNS
 *  void
 *****************************************************************************/
void category28callback(dm_coordinates *coordinate)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    if (RedrawSpellingOrCandidateBoxesFunction)
    {
        RedrawSpellingOrCandidateBoxesFunction();
    }
}




/*****************************************************************************
 * FUNCTION
 *  AppendCategory28String
 * DESCRIPTION
 *  
 * PARAMETERS
 *  input_type          [IN]        
 *  data                [?]         
 *  s                   [?]         
 *  history_buffer      [?]         
 * RETURNS
 *  
 *****************************************************************************/
U8 AppendCategory28String(S16 input_type, EMSData *data, U8 *s, U8 *history_buffer)
{
#if(!UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 i = 0, success = 1;

#ifdef __MMI_MENUTREE_2__
    S32 j = 0;
#endif 
    S32 l, box_height;
    U8 ts[2];
    U8 h;
    UI_character_type c;

    /* Manju added for template, 1213 */
    S32 remaining_length;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    //Mamju end
/*PMT IRE START*/
#ifdef __MMI_INDIC_ALG__
    add_template_ems_flag=1;
#endif /* __MMI_INDIC_ALG__ */
/*PMT IRE END*/

#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_lock_double_buffer();
#endif 
    l = gui_strlen((UI_string_type) s);
    box_height = MMI_content_height - MMI_multitap_height - 10;
    gui_create_EMS_input_box(&MMI_EMS_inputbox, 0, (MMI_title_y + MMI_title_height) + 12, UI_device_width, box_height);
    gui_set_EMS_input_box_data(&MMI_EMS_inputbox, data);
    h = set_EMS_inputbox_category_history(MMI_CATEGORY28_ID, history_buffer, (S16*) & input_type);
    if (h)
    {
        gui_EMS_input_box_locate_cursor(&MMI_EMS_inputbox);
    #ifdef __MMI_MESSAGES_EMS__
        gui_EMS_input_box_set_text_format_object(&MMI_EMS_inputbox, &wgui_EMS_text_format);
    #endif 
    }
    MMI_EMS_inputbox.flags |= UI_EMS_INPUT_BOX_DISABLE_DRAW;
    gui_show_EMS_input_box(&MMI_EMS_inputbox);
    MMI_EMS_inputbox.flags &= ~UI_EMS_INPUT_BOX_DISABLE_DRAW;

    if (gui_EMS_input_box_add_whole_string(&MMI_EMS_inputbox, s, &MMI_EMS_inputbox.text_format) != EMS_OK)
    {
        success = 0;
    }

#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
    #if(0)
/* under construction !*/
/* under construction !*/
    #else /* (0) */ 
/* under construction !*/
/* under construction !*/
    #endif /* (0) */ 
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#ifdef __MMI_INDIC_ALG__
/* under construction !*/
#endif /* __MMI_INDIC_ALG__ */
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#ifndef __MMI_INDIC_ALG__
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* __MMI_INDIC_ALG__ */
/* under construction !*/
/* under construction !*/
#endif
/*PMT IRE START*/
#ifdef __MMI_INDIC_ALG__
	/*This function call is to reset the offset of the objects after the  */
    /*the template has been added                                         */      
    gui_EMS_post_template_addition_adjustment(&MMI_EMS_inputbox);
	gui_EMS_input_box_locate_cursor(&MMI_EMS_inputbox);
    add_template_ems_flag=0;
#endif /* __MMI_INDIC_ALG__ */
/*PMT IRE END*/
    get_EMS_inputbox_category_history(MMI_CATEGORY28_ID, history_buffer, input_type);
#if(UI_DOUBLE_BUFFER_SUPPORT)
    gui_unlock_double_buffer();
#endif 
    if (success)
    {
        return (1);
    }
    else
    {
#if 0
    #ifdef __MMI_MENUTREE_2__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
    #endif /* __MMI_MENUTREE_2__ */ 
#endif
        return (0);
    }
#else /* (!UI_DISABLE_EMS_INPUT_BOX) */ 
    UI_UNUSED_PARAMETER(input_type);
    UI_UNUSED_PARAMETER(data);
    UI_UNUSED_PARAMETER(s);
    UI_UNUSED_PARAMETER(history_buffer);
    return (0);
#endif /* (!UI_DISABLE_EMS_INPUT_BOX) */ 
}


/*****************************************************************************
 * FUNCTION
 *  ShowCategory28Screen
 * DESCRIPTION
 *  Displays the MO EMS/SMS screen
 * PARAMETERS
 *  title                   [IN]        Title for the screen
 *  title_icon              [IN]        Icon shown with the title
 *  left_softkey            [IN]        Left softkey label
 *  left_softkey_icon       [IN]        Icon for the left softkey
 *  right_softkey           [IN]        Right softkey label
 *  right_softkey_icon      [IN]        Icon for the right softkey
 *  data                    [IN]        EMSData (Pre-allocated and initialized)
 *  history_buffer          [IN]        History buffer
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory28Screen(
        U16 title,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        EMSData *data,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
#if defined __MMI_LANG_HINDI__ && defined __MMI_BIDI_ALG__
    U16 unicode = 0;
    U16 clFill = 0;
#endif /*__MMI_BIDI_ALG__ */


    dm_data_struct dm_data;

    U16 input_type = (U16) INPUT_TYPE_ALPHANUMERIC_LOWERCASE;

#if(UI_DISABLE_EMS_INPUT_BOX)
    S32 length;
    S32 i, j, h, fh;

    UI_UNUSED_PARAMETER(history_buffer);
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    U8 h;
    S32 box_height;
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    mmi_pen_handwriting_area_struct stroke_area;
    mmi_pen_handwriting_area_struct ext_stroke;
#endif /* defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__) */ 

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gdi_layer_lock_frame_buffer();
    gui_setup_common_layout();
    mmi_is_alphanum_pass = MMI_FALSE;
    set_current_input_box_type(EDITOR_EMS_INPUT_BOX);
    wgui_set_default_input_type(&input_type);

    wgui_inputbox_information_flag = 1;
    wgui_inputbox_information_bar_height = INFORMATION_BAR_HEIGHT;
    wgui_EMS_setup_input_information(
        0,
        (MMI_title_y + MMI_title_height),
        UI_device_width,
        wgui_inputbox_information_bar_height);
    MMI_menu_shortcut_number = -1;
    change_left_softkey(left_softkey, left_softkey_icon);
    change_right_softkey(right_softkey, right_softkey_icon);
    SetupCategoryKeyHandlers();

#ifdef __MMI_T9__
    InuptMethodEnterCategory28();
#elif defined(__MMI_ZI__) && defined(__MMI_MESSAGES_EMS__)
    ZiInuptMethodEnterCategory28();
#elif defined(__MMI_CSTAR__)
    CstarInputMethodEnterCategory28();
#elif defined(__MMI_KA__)
    KonkaInuptMethodEnterCategory28();
#elif defined(__MMI_ITAP__)
/* under construction !*/
#endif 

    MMI_title_string = (UI_string_type) get_string(title);
    MMI_title_icon = (PU8) get_image(title_icon);

#if(UI_DISABLE_EMS_INPUT_BOX)
    length = (data->textBufferSize >> 1);
    if (length == 0)
    {
        UI_string_type s = (UI_string_type) "EMS Data not initialized";
        S32 l = gui_strlen((UI_string_type) s);

        temp_EMS_buffer = (UI_string_type) gui_malloc(l * sizeof(UI_character_type));
        gui_strcpy((UI_string_type) temp_EMS_buffer, (UI_string_type) s);
        length = l + 1;
        i = j = l;
    }
    else
    {
        temp_EMS_buffer = (UI_string_type) gui_malloc(length * sizeof(UI_character_type));
        i = j = 0;
        while (j < data->textLength)
        {
            if ((data->textBuffer[j] == '\0') && (data->textBuffer[j + 1] == '\0'))
            {
                temp_EMS_buffer[i] = '\0';
                break;
            }
            else
            {
                temp_EMS_buffer[i] = data->textBuffer[j + 1];
            }
            i++;
            j += 2;
        }
    }
    temp_EMS_data = data;
    create_multiline_inputbox_set_buffer(temp_EMS_buffer, length, i, 0);
    register_multiline_inputbox_keys();
    register_hide_multitap(category5_hide_multitap);
    h = MMI_content_height - MMI_multitap_height - 8;
    gui_set_font(MMI_multiline_inputbox.text_font);
    fh = gui_get_character_height();
    h = ((h / fh) * fh) + 8;
    resize_multiline_inputbox(MMI_multiline_inputbox.width, h);
    set_multiline_inputbox_mask(0);
    change_multiline_inputbox_mode(1);
    SetKeyHandler(change_input_mode, KEY_STAR, KEY_EVENT_DOWN);
    inputbox_change_mode = change_multiline_inputbox_input_mode;
    MMI_current_input_mode = 1;

    set_right_softkey_function(handle_category28_right_softkey_down, KEY_EVENT_DOWN);
    set_right_softkey_function(handle_category28_right_softkey_long_press, KEY_LONG_PRESS);
    register_multiline_inputbox_input_callback(handle_category28_input);
    category28_RSK_label_icon = get_image(right_softkey_icon);
    category28_RSK_label_string = get_string(right_softkey);
    handle_category28_input();
    if (MMI_multiline_inputbox.text_length <= 1)
    {
        set_right_softkey_function(handle_category28_right_softkey_up, KEY_EVENT_UP);
    }

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    MMI_EMS_inputbox.flags |= UI_EMS_INPUT_BOX_TRANSPARENT_BACKGROUND;
    dm_get_scr_bg_opacity(&editor_scr_bg_opacity);
    dm_set_scr_bg_opacity((U8)(current_MMI_theme->bg_opacity_low));
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 

#if((UI_ENABLE_FRAME_SKIPPING) && (ENABLE_EMS_INPUTBOX_FRAME_SKIPPING))
    wgui_EMS_inputbox_frame_counter = 0;
#endif 
#ifdef __MMI_MESSAGES_EMS__
    initialize_EMS_objects();
#endif 
    /* MTK Elvis to adjust to avoid overlap with multitap window */
#if defined(__MMI_FULL_SCREEN_EDITOR__)
    box_height = MMI_content_height - 13;
#else 
    box_height = MMI_content_height - MMI_multitap_height - 13;
#endif 
    register_EMS_inputbox_input_callback(UI_dummy_function);
    /* MTK end */
    gui_create_EMS_input_box(
        &MMI_EMS_inputbox,
        0,
        (MMI_title_y + MMI_title_height) + wgui_EMS_inputbox_information_bar_height,
        UI_device_width,
        box_height);
    gui_set_EMS_input_box_data(&MMI_EMS_inputbox, data);
    h = set_EMS_inputbox_category_history(MMI_CATEGORY28_ID, history_buffer, (S16*) & input_type);
    if (h)
    {   /* HACK: Current alignment is not saved in history, so test it using a flag   */
        if (EMS_inputbox_alignment_added_flag)
        {
            wgui_EMS_text_format.Alignment = EMS_inputbox_alignment;
            MMI_EMS_inputbox.text_format.Alignment = EMS_inputbox_alignment;
            EMS_inputbox_alignment_added_flag = 0;
        }
    #ifdef __MMI_MESSAGES_EMS__
        gui_EMS_input_box_set_text_format_object(&MMI_EMS_inputbox, &wgui_EMS_text_format);
    #endif 
    }
    else
    {
        gui_EMS_input_box_set_text_format_cursor_position(&MMI_EMS_inputbox);
        wgui_EMS_text_format = MMI_EMS_inputbox.text_format;
    }
    gui_EMS_input_box_locate_cursor(&MMI_EMS_inputbox);
    register_hide_multitap(category5_hide_multitap);
    /* MTK Terry : Switch IME by long press # */

#if !defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__)
    SetKeyHandler(handle_category28_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
    SetKeyHandler(wgui_EMS_inputbox_handle_symbol_picker_star_key, KEY_STAR, KEY_EVENT_DOWN);
#else /* !defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__) */ 
    SetKeyHandler(handle_category28_change_input_mode, KEY_POUND, KEY_LONG_PRESS);
    SetKeyHandler(wgui_handle_symbol_picker_bymultitapthai, KEY_STAR, KEY_LONG_PRESS);
#endif /* !defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__) */ 
    register_EMS_inputbox_keys();

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    MMI_EMS_inputbox.flags |= UI_EMS_INPUT_BOX_TRANSPARENT_BACKGROUND;
    dm_get_scr_bg_opacity(&editor_scr_bg_opacity);
    dm_set_scr_bg_opacity((U8)(current_MMI_theme->bg_opacity_low));
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

    inputbox_change_mode = change_EMS_inputbox_input_mode;

    /* Get input mode from "Input Methods" list selection */
    wgui_change_inputbox_type = wgui_inputbox_change_input_type;
    wgui_inputbox_insert_symbol = wgui_EMS_inputbox_insert_symbol;
    /* MTK Terry for wgui_set_default_type */
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

    if (wgui_inputbox_input_mode_changed)
    {
        input_type = wgui_inputbox_input_type;
        wgui_inputbox_input_mode_changed = 0;
    #if defined(__MMI_TOUCH_SCREEN__)
        mmi_pen_editor_set_vk_to_show(MMI_TRUE);
    #endif 
    }

    MMI_current_input_type = input_type;
    wgui_EMS_inputbox_information_icon = NULL;
    switch (input_type)
    {
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_NUMERIC:
        case INPUT_TYPE_NUMERIC_CHANGEABLE:
            MMI_current_input_mode = INPUT_MODE_123;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_TYPE_ALPHANUMERIC_MULTITAP_THAI:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_THAI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_THAI__) */ 
    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SPANISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SPANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SPANISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SPANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DANISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_DANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DANISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_DANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_POLISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_POLISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_POLISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_POLISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FRENCH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_FRENCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FRENCH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_FRENCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GERMAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_GERMAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GERMAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_GERMAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ITALIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ITALIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_RUSSIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_RUSSIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_BULGARIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_BULGARIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_UKRAINIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_UKRAINIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */ 
    #if defined(__MMI_MULTITAP_HINDI__)
        case INPUT_TYPE_MULTITAP_HINDI:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_HINDI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_HINDI__) */ 


    #if defined(__MMI_MULTITAP_MARATHI__)
        case INPUT_TYPE_MULTITAP_MARATHI:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_MARATHI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_MARATHI__) */  
	#if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_TYPE_MULTITAP_TAMIL:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_TAMIL;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* #if defined (__MMI_MULTITAP_TAMIL__)  */ 

    #if defined(__MMI_MULTITAP_BENGALI__)
            case INPUT_TYPE_MULTITAP_BENGALI:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_BENGALI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_BENGALI__) */ 
	  #if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_TYPE_MULTITAP_PUNJABI:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_PUNJABI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_TYPE_MULTITAP_TELUGU:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_TELUGU;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif

    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_PORTUGUESE:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_PORTUGUESE:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_TURKISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_TURKISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_TURKISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_TURKISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_INDONESIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_INDONESIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CZECH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_CZECH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CZECH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_CZECH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_MALAY:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_MALAY;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_MALAY:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_MALAY;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_VIETNAMESE:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_VIETNAMESE:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_FINNISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_FINNISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_FINNISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_FINNISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_HUNGARIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_HUNGARIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_TYPE_MMI_MULTITAP_HEBREW:
        case INPUT_TYPE_ALPHANUMERIC_MULTITAP_HEBREW:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_HEBREW;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 
    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVAK:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVAK:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_DUTCH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_DUTCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_DUTCH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_DUTCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_ALPHANUMERIC_ARABIC:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_ARABIC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_TYPE_ARABIC_NUMERIC:
            MMI_current_input_mode = INPUT_MODE_ARABIC_NUMERIC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_TYPE_ALPHANUMERIC_PERSIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_PERSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_TYPE_ALPHANUMERIC_URDU:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_URDU;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_NORWEGIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_NORWEGIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 
    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SWEDISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SWEDISH:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 
    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_CROATIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_CROATIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_ROMANIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_ROMANIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_SLOVENIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_SLOVENIAN:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_TYPE_ALPHANUMERIC_LOWERCASE_GREEK:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_LOWERCASE_GREEK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
        case INPUT_TYPE_ALPHANUMERIC_UPPERCASE_GREEK:
            MMI_current_input_mode = INPUT_MODE_MULTITAP_UPPERCASE_GREEK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_INPUT_INFORMATION_ICON1);
            break;
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 
    #if defined(__MMI_T9__) || defined(__MMI_ITAP__)
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;

        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;

        case INPUT_TYPE_TR_STROKE:
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;

        case INPUT_TYPE_SM_STROKE:
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif        
        case INPUT_TYPE_TR_BOPOMO:
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;

        case INPUT_TYPE_SM_PINYIN:
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;
    #if defined (__MMI_T9_THAI__)
        case INPUT_TYPE_SMART_THAI:
            MMI_current_input_mode = INPUT_MODE_SMART_THAI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined (__MMI_T9_THAI__) */ 
    #if defined(__MMI_T9_SPANISH__)
        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SPANISH__) */ 

    #if defined(__MMI_T9_DANISH__)
        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_DANISH__) */ 
    #if defined(__MMI_T9_POLISH__)
        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_POLISH__) */ 
    #if defined(__MMI_T9_FRENCH__)
        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_FRENCH__) */ 
    #if defined(__MMI_T9_GERMAN__)
        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_GERMAN__) */ 
    #if defined(__MMI_T9_ITALIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_ITALIAN__) */ 

    #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

    #if defined(__MMI_T9_TURKISH__)
        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_TURKISH__) */ 
    #if defined(__MMI_T9_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_RUSSIAN__) */ 
    #if defined(__MMI_T9_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_BULGARIAN__) */ 
    #if defined(__MMI_T9_INDONESIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_INDONESIAN__) */ 

    #if defined(__MMI_T9_CZECH__)
        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_CZECH__) */ 
    #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_PORTUGUESE__) */ 
    #if defined(__MMI_T9_FINNISH__)
        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_FINNISH__) */ 
    #if defined(__MMI_T9_HUNGARIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_HUNGARIAN__) */ 
    #if defined(__MMI_T9_ARABIC__)
        case INPUT_TYPE_SMART_ARABIC:
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_ARABIC__) */ 
    #if defined(__MMI_T9_HINDI__)
        case INPUT_TYPE_SMART_HINDI:
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_HINDI__) */ 
    #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
    #if defined(__MMI_T9_DUTCH__)
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_DUTCH__) */ 
    #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
    #if defined(__MMI_T9_SWEDISH__)
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SWEDISH__) */ 
    #if defined(__MMI_T9_GREEK__)
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_GREEK__) */ 
    #if defined(__MMI_T9_HEBREW__)
        case INPUT_TYPE_SMART_HEBREW:
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_HEBREW__) */ 
    #if defined(__MMI_T9_MALAY__)
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_MALAY__) */ 
    #if defined(__MMI_T9_CROATIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_CROATIAN__) */ 
    #if defined(__MMI_T9_SLOVAK__)
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_SLOVAK__) */ 
    #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_T9_ROMANIAN__) */ 
    #elif defined(__MMI_ZI__)
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;

        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;

        case INPUT_TYPE_TR_BOPOMO:
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_BPMF_LOGO);
            break;

        case INPUT_TYPE_SM_PINYIN:
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_PINYIN_LOGO);
            break;

        case INPUT_TYPE_TR_STROKE:
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_TR_STROKE_LOGO);
            break;

        case INPUT_TYPE_SM_STROKE:
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_SM_STROKE_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif        
        case INPUT_TYPE_SMART_THAI:
            MMI_current_input_mode = INPUT_MODE_SMART_THAI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_ARABIC:
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_PERSIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_PERSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
        case INPUT_TYPE_SMART_HINDI:
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif
        #if defined(__MMI_ZI_BENGALI__)
        case INPUT_TYPE_SMART_BENGALI:
            MMI_current_input_mode = INPUT_MODE_SMART_BENGALI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_MARATHI__)
        case INPUT_TYPE_SMART_MARATHI:
            MMI_current_input_mode = INPUT_MODE_SMART_MARATHI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_PUNJABI__)
        case INPUT_TYPE_SMART_PUNJABI:
            MMI_current_input_mode = INPUT_MODE_SMART_PUNJABI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_TAMIL__)
        case INPUT_TYPE_SMART_TAMIL:
            MMI_current_input_mode = INPUT_MODE_SMART_TAMIL;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_TELUGU__)
        case INPUT_TYPE_SMART_TELUGU:
            MMI_current_input_mode = INPUT_MODE_SMART_TELUGU;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif

        #if defined(__MMI_ZI_URDU__)
        case INPUT_TYPE_SMART_URDU:
            MMI_current_input_mode = INPUT_MODE_SMART_URDU;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        #endif
        case INPUT_TYPE_SMART_HEBREW:
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

    #if defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__)
        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_EU_SPANISH__) || defined(__MMI_ZI_SA_SPANISH__) */ 
    #if defined(__MMI_ZI_DANISH__)
        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_DANISH__) */ 
    #if defined(__MMI_ZI_POLISH__) || defined(__MMI_ZI_POLISH__)
        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_POLISH__) || defined(__MMI_ZI_POLISH__) */ 
    #if defined(__MMI_ZI_NORWEGIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_NORWEGIAN__) */ 
    #if defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__)
        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_CA_FRENCH__) || defined(__MMI_ZI_EU_FRENCH__) */ 
    #if defined(__MMI_ZI_GERMAN__)
        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_GERMAN__) */ 
    #if defined(__MMI_ZI_ITALIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_ITALIAN__) */ 
    #if defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_RUSSIAN__) || defined(__MMI_ZI_RECOMMENDED_SIZE_RUSSIAN__) */ 
    #if defined(__MMI_ZI_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_BULGARIAN__) */ 
    #if defined(__MMI_ZI_UKRAINIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_UKRAINIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_UKRAINIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_UKRAINIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_UKRAINIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_UKRAINIAN__) */ 
    #if defined(__MMI_ZI_TURKISH__)
        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_TURKISH__) */ 
    #if defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_EU_PORTUGUESE__) || defined(__MMI_ZI_SA_PORTUGUESE__) || defined(__MMI_ZI_BZ_PORTUGUESE__) */ 
    #if defined(__MMI_ZI_INDONESIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_INDONESIAN__) */ 
    #if defined(__MMI_ZI_MALAY__)
        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_MALAY__) */ 
    #if defined(__MMI_ZI_VIETNAMESE__)
        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_VIETNAMESE__) */ 
    #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_SLOVAK__) */ 
    #if defined(__MMI_ZI_DUTCH__)
        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_DUTCH__) */ 
    #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_SWEDISH__) */ 
    #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_CROATIAN__) */ 
    #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
    #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 
    #if defined(__MMI_ZI_GREEK__)
        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_GREEK__) */ 
    #if defined(__MMI_ZI_FINNISH__)
        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_FINNISH__) */ 
    #if defined(__MMI_ZI_CZECH__)
        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_CZECH__) */ 
    #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_ZI_EZITEXT_LOGO);
            break;
    #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 

    #elif defined(__MMI_CSTAR__)
        case INPUT_TYPE_TR_MULTITAP_BOPOMO:
            MMI_current_input_mode = INPUT_MODE_TR_MULTITAP_BOPOMO;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_BPMF_IMG);
            break;

        case INPUT_TYPE_SM_MULTITAP_PINYIN:
            MMI_current_input_mode = INPUT_MODE_SM_MULTITAP_PINYIN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_MULTITAP_PINYIN_IMG);
            break;

        case INPUT_TYPE_TR_BOPOMO:
            MMI_current_input_mode = INPUT_MODE_TR_BOPOMO;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_BPMF_IMG);
            break;

        case INPUT_TYPE_SM_PINYIN:
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;

        case INPUT_TYPE_TR_STROKE:
            MMI_current_input_mode = INPUT_MODE_TR_STROKE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_TR_STROKE_IMG);
            break;

        case INPUT_TYPE_SM_STROKE:
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_TYPE_SMART_FIRST_UPPERCASE_ABC:
            MMI_current_input_mode = INPUT_MODE_SMART_FIRST_UPPERCASE_ABC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif        
        case INPUT_TYPE_SMART_THAI:
            MMI_current_input_mode = INPUT_MODE_SMART_THAI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_ARABIC:
            MMI_current_input_mode = INPUT_MODE_SMART_ARABIC;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_PERSIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_PERSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_HINDI:
            MMI_current_input_mode = INPUT_MODE_SMART_HINDI;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_HEBREW:
            MMI_current_input_mode = INPUT_MODE_SMART_HEBREW;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

    #if defined(__MMI_CSTAR_SPANISH__)
        case INPUT_TYPE_SMART_LOWERCASE_SPANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SPANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SPANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SPANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_EU_SPANISH__) || defined(__MMI_CSTAR_SA_SPANISH__) */ 
    #if defined(__MMI_CSTAR_DANISH__)
        case INPUT_TYPE_SMART_LOWERCASE_DANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_DANISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DANISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_DANISH__) */ 
    #if defined(__MMI_CSTAR_POLISH__)
        case INPUT_TYPE_SMART_LOWERCASE_POLISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_POLISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_POLISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_POLISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_POLISH__) || defined(__MMI_CSTAR_POLISH__) */ 
    #if defined(__MMI_CSTAR_NORWEGIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_NORWEGIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_NORWEGIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_NORWEGIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_NORWEGIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_NORWEGIAN__) */ 
    #if defined(__MMI_CSTAR_FRENCH__)
        case INPUT_TYPE_SMART_LOWERCASE_FRENCH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FRENCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_FRENCH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FRENCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_FRENCH__) */ 
    #if defined(__MMI_CSTAR_GERMAN__)
        case INPUT_TYPE_SMART_LOWERCASE_GERMAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GERMAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_GERMAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GERMAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_GERMAN__) */ 
    #if defined(__MMI_CSTAR_ITALIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_ITALIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ITALIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ITALIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ITALIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_ITALIAN__) */ 
    #if defined(__MMI_CSTAR_RUSSIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_RUSSIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_RUSSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_RUSSIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_RUSSIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_RUSSIAN__) || defined(__MMI_CSTAR_RECOMMENDED_SIZE_RUSSIAN__) */ 
    #if defined(__MMI_CSTAR_BULGARIAN__)
        case INPUT_TYPE_SMART_UPPERCASE_BULGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_BULGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_BULGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_BULGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_BULGARIAN__) */ 
    #if defined(__MMI_CSTAR_TURKISH__)
        case INPUT_TYPE_SMART_LOWERCASE_TURKISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_TURKISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_TURKISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_TURKISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_TURKISH__) */ 
    #if defined(__MMI_CSTAR_PORTUGUESE__)
        case INPUT_TYPE_SMART_UPPERCASE_PORTUGUESE:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_PORTUGUESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;

        case INPUT_TYPE_SMART_LOWERCASE_PORTUGUESE:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_PORTUGUESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_EU_PORTUGUESE__) */ 
    #if defined(__MMI_CSTAR_INDONESIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_INDONESIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_INDONESIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_INDONESIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_INDONESIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_INDONESIAN__) */ 
    #if defined(__MMI_CSTAR_MALAY__)
        case INPUT_TYPE_SMART_LOWERCASE_MALAY:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_MALAY;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_MALAY:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_MALAY;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_MALAY__) */ 
    #if defined(__MMI_CSTAR_VIETNAMESE__)
        case INPUT_TYPE_SMART_LOWERCASE_VIETNAMESE:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_VIETNAMESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_VIETNAMESE:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_VIETNAMESE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_VIETNAMESE__) */ 
    #if defined(__MMI_CSTAR_SLOVAK__)
        case INPUT_TYPE_SMART_LOWERCASE_SLOVAK:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVAK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SLOVAK:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVAK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
    #if defined(__MMI_CSTAR_DUTCH__)
        case INPUT_TYPE_SMART_LOWERCASE_DUTCH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_DUTCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_DUTCH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_DUTCH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
    #if defined(__MMI_CSTAR_SWEDISH__)
        case INPUT_TYPE_SMART_LOWERCASE_SWEDISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SWEDISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SWEDISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SWEDISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
    #if defined(__MMI_CSTAR_CROATIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_CROATIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CROATIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_CROATIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CROATIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
    #if defined(__MMI_CSTAR_ROMANIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_ROMANIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_ROMANIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_ROMANIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_ROMANIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 
    #if defined(__MMI_CSTAR_SLOVENIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_SLOVENIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_SLOVENIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_SLOVENIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_SLOVENIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 
    #if defined(__MMI_CSTAR_GREEK__)
        case INPUT_TYPE_SMART_LOWERCASE_GREEK:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_GREEK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_GREEK:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_GREEK;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_GREEK__) */ 
    #if defined(__MMI_CSTAR_FINNISH__)
        case INPUT_TYPE_SMART_LOWERCASE_FINNISH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_FINNISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_FINNISH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_FINNISH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
    #if defined(__MMI_CSTAR_CZECH__)
        case INPUT_TYPE_SMART_LOWERCASE_CZECH:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_CZECH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_CZECH:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_CZECH;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_CZECH__) */ 
    #if defined(__MMI_CSTAR_HUNGARIAN__)
        case INPUT_TYPE_SMART_LOWERCASE_HUNGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_LOWERCASE_HUNGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
        case INPUT_TYPE_SMART_UPPERCASE_HUNGARIAN:
            MMI_current_input_mode = INPUT_MODE_SMART_UPPERCASE_HUNGARIAN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_ENGLISH_IMG);
            break;
    #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 

    #elif defined(__MMI_KA__)
        case INPUT_TYPE_SM_PINYIN:
            MMI_current_input_mode = INPUT_MODE_SM_PINYIN;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SMART_PINYIN_IMG);
            break;

        case INPUT_TYPE_SM_STROKE:
            MMI_current_input_mode = INPUT_MODE_SM_STROKE;
            wgui_EMS_inputbox_information_icon = get_image(WGUI_IME_SM_STROKE_IMG);
            break;
    #endif 
        default:
            MMI_current_input_mode = 0;
            break;
    }
    category28_RSK_label_icon = get_image(right_softkey_icon);
    category28_RSK_label_string = get_string(right_softkey);
    change_EMS_inputbox_input_mode();
#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    ext_stroke.x1 = 0;
    ext_stroke.y1 = 0;
    ext_stroke.x2 = UI_device_width - 1;
    ext_stroke.y2 = UI_device_height - 1;
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#else /* 0 */ 
    stroke_area.x1 = MMI_content_x;
    stroke_area.x2 = MMI_content_x + MMI_content_width - MMI_EMS_inputbox.vbar.width;
    stroke_area.y1 = MMI_title_y;
    stroke_area.y2 = MMI_title_y + MMI_content_height + MMI_title_height;
#endif /* 0 */ 
    mmi_pen_editor_setup_input_box(
        &stroke_area,
        &ext_stroke,
        MMI_current_input_type,
        MMI_TRUE,
        PEN_EDITOR_EMS_INPUT_BOX);
#endif /* defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__) */ 

#if(EMS_USE_INTERNAL_MENU)
    SetKeyHandler(EntryEMSMainMenu, KEY_SEND, KEY_EVENT_UP);
#endif 
    //      test_change_input_mode=test_EMS_inputbox_change_mode;
    //      SetKeyHandler(temp_ems_insert_character,KEY_STAR,KEY_EVENT_DOWN);
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 

    gui_unlock_double_buffer();

    ExitCategoryFunction = ExitCategory28Screen;
    dm_setup_category_functions(dm_redraw_category_screen, dm_get_category_history, dm_get_category_history_size);
    dm_register_category_controlled_callback(category28callback);
    dm_data.s32ScrId = (S32) GetActiveScreenId();
    dm_data.s32CatId = MMI_CATEGORY28_ID;
    dm_data.s32flags = DM_CLEAR_SCREEN_BACKGROUND;
    dm_data.s32flags |= DM_SHOW_VKPAD;
#if !defined(GUI_EDITOR_SHOW_TITLE)
    dm_data.s32flags |= DM_NO_TITLE;
#endif /* !defined(GUI_EDITOR_SHOW_TITLE) */
    dm_setup_data(&dm_data);
    dm_register_vkpad_callback(cat28_virtual_keypad_callback);
    dm_redraw_category_screen();
}



/*****************************************************************************
 * FUNCTION
 *  CloseCategory28Screen
 * DESCRIPTION
 *  Releases data used by the MO EMS/SMS screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void CloseCategory28Screen(void)
{
#if(UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 length;
    S32 i, j;
    U8 *buffer;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    length = MMI_multiline_inputbox.text_length;
    buffer = (U8*) gui_malloc((length << 1) + 2);
    i = j = 0;
    ResetCurrentPosition(temp_EMS_data);
    while (i < length)
    {
        buffer[j++] = 0;
        buffer[j++] = (U8) temp_EMS_buffer[i++];
    }
    buffer[j++] = 0;
    buffer[j++] = '\0';
    AddString(temp_EMS_data, buffer, (U16) length, NULL);
    gui_free(buffer);
    gui_free(temp_EMS_buffer);
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}


/*****************************************************************************
 * FUNCTION
 *  ExitCategory28Screen
 * DESCRIPTION
 *  Exits the MO EMS/SMS screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory28Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    EMS_inputbox_has_changed = 0;
    /* set_MMI_current_input_type(); */
    category28_RSK_label_clear = 0;
    category28_RSK_function = NULL;
    wgui_inputbox_information_flag = 0;
#ifdef __MMI_MESSAGES_EMS__
    close_EMS_objects();
#endif 
#if(!UI_DISABLE_EMS_INPUT_BOX)
    {
        reset_EMS_inputbox();
    }
#endif /* (!UI_DISABLE_EMS_INPUT_BOX) */ 

#ifdef __MMI_WALLPAPER_ON_BOTTOM__
    dm_set_scr_bg_opacity(editor_scr_bg_opacity);
#endif /* __MMI_WALLPAPER_ON_BOTTOM__ */ 

    ExitCategoryFunction = MMI_dummy_function;
    RedrawCategoryFunction = MMI_dummy_function;
    GetCategoryHistory = dummy_get_history;
    GetCategoryHistorySize = dummy_get_history_size;
#ifdef __MMI_T9__
    InuptMethodExitCategory28();
#elif defined (__MMI_ZI__) && defined(__MMI_MESSAGES_EMS__)
    ZiInuptMethodExitCategory28();
#elif defined(__MMI_CSTAR__)
    CstarInputMethodExitCategory28();    
#elif defined __MMI_KA__
    KonkaInuptMethodExitCategory28();
#elif defined __MMI_ITAP__
/* under construction !*/
#endif 
#if defined(__MMI_TOUCH_SCREEN__) || defined(__MMI_HANDWRITING_PAD__)
    mmi_pen_editor_close_input_box();
#endif 
#if 0
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
    {
        MMI_english_input_mode_flag = 0;
    }
    /* W05.36 Fix Vietnamese Tone Input Issue */
    set_current_input_box_type(EDITOR_NONE_INPUT_BOX);
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory28HistorySize
 * DESCRIPTION
 *  Gets the history buffer size for the MO EMS/SMS screen
 * PARAMETERS
 *  void
 * RETURNS
 *  size in U8s of the history buffer
 *****************************************************************************/
S32 GetCategory28HistorySize(void)
{
#if(UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (0);
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    return (sizeof(EMS_inputbox_category_history));
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory28History
 * DESCRIPTION
 *  Gets the history buffer for the MO EMS/SMS screen
 * PARAMETERS
 *  history_buffer      [IN]        Is the buffer into which the history data is stored (pre-allocated)
 * RETURNS
 *  pointer to the history buffer
 *****************************************************************************/
U8 *GetCategory28History(U8 *history_buffer)
{
#if(UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (history_buffer);
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    get_EMS_inputbox_category_history(MMI_CATEGORY28_ID, history_buffer, MMI_current_input_type);
    return (history_buffer);
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}



/*****************************************************************************
 * FUNCTION
 *  RedrawCategory39Screen
 * DESCRIPTION
 *  Redraws the MT EMS/SMS screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void RedrawCategory39Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gdi_layer_lock_frame_buffer();
    clear_screen();
    show_title_status_icon();
    draw_title();
    show_softkey_background();
    show_left_softkey();
    show_right_softkey();
#if(UI_DISABLE_EMS_INPUT_BOX)
    show_multiline_inputbox();
#else 
    show_EMS_inputbox();
#endif 
    gdi_layer_unlock_frame_buffer();
    gdi_layer_blt_previous(0, 0, UI_device_width - 1, UI_device_height - 1);
}


/*****************************************************************************
 * FUNCTION
 *  ShowCategory39Screen
 * DESCRIPTION
 *  Displays the MT EMS/SMS screen
 * PARAMETERS
 *  title                   [IN]        Title for the screen
 *  title_icon              [IN]        Icon displayed with the title
 *  left_softkey            [IN]        Left softkey label
 *  left_softkey_icon       [IN]        Left softkey icon
 *  right_softkey           [IN]        Right softkey label
 *  right_softkey_icon      [IN]        Right softkey icon
 *  data                    [IN]        EMSData (Pre-allocated and initialized)
 *  header                  [IN]        Header to be displayed (Must include '\n' for line seperation)
 *  history_buffer          [IN]        History buffer
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory39Screen(
        U16 title,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        EMSData *data,
        U8 *header,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    dm_data_struct dm_data;
    S16 input_type = 0;

#if(UI_DISABLE_EMS_INPUT_BOX)
    S32 length;
    S32 i, j, h, fh;

    UI_UNUSED_PARAMETER(history_buffer);
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    U8 h;
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_setup_common_layout();
    EMS_inputbox_has_changed = 0;
#ifdef __MMI_MESSAGES_EMS__
    initialize_EMS_objects();
#endif 
    MMI_menu_shortcut_number = -1;
    change_left_softkey(left_softkey, left_softkey_icon);
    change_right_softkey(right_softkey, right_softkey_icon);
    SetupCategoryKeyHandlers();

    MMI_title_string = (UI_string_type) get_string(title);
    MMI_title_icon = (PU8) get_image(title_icon);

#if(UI_DISABLE_EMS_INPUT_BOX)
    length = (data->textBufferSize >> 1);
    if (length == 0)
    {
        UI_string_type s = (UI_string_type) "EMS Data not initialized";
        S32 l = gui_strlen((UI_string_type) s);

        temp_EMS_buffer = (UI_string_type) gui_malloc(l * sizeof(UI_character_type));
        gui_strcpy((UI_string_type) temp_EMS_buffer, (UI_string_type) s);
        length = l + 1;
        i = l;
    }
    else
    {
        temp_EMS_buffer = (UI_string_type) gui_malloc(length * sizeof(UI_character_type));
        i = j = 0;
        while (j < data->textLength)
        {
            if ((data->textBuffer[j] == '\0') && (data->textBuffer[j + 1] == '\0'))
            {
                temp_EMS_buffer[i] = '\0';
                break;
            }
            else
            {
                temp_EMS_buffer[i] = data->textBuffer[j + 1];
            }
            i++;
            j += 2;
        }
    }
    temp_EMS_data = data;
    create_multiline_inputbox_set_buffer(temp_EMS_buffer, length, i, 0);
    register_multiline_inputbox_keys();
    register_hide_multitap(category5_hide_multitap);
    move_multiline_inputbox(0, (MMI_title_y + MMI_title_height));
    h = MMI_content_height - MMI_multitap_height - 8;
    gui_set_font(MMI_multiline_inputbox.text_font);
    fh = gui_get_character_height();
    h = ((h / fh) * fh) + 8;
    resize_multiline_inputbox(MMI_multiline_inputbox.width, h);
    set_multiline_inputbox_mask(0);
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
#if((UI_ENABLE_FRAME_SKIPPING) && (ENABLE_EMS_INPUTBOX_FRAME_SKIPPING))
    wgui_EMS_inputbox_frame_counter = 0;
#endif 
    register_EMS_inputbox_input_callback(UI_dummy_function);
    gui_create_EMS_input_box(
        &MMI_EMS_inputbox,
        0,
        (MMI_title_y + MMI_title_height),
        MMI_content_width,
        MMI_content_height);
    gui_set_EMS_input_box_data(&MMI_EMS_inputbox, data);

    MMI_EMS_inputbox.flags |= UI_EMS_INPUT_BOX_VIEW_MODE;
    MMI_EMS_inputbox.flags |= UI_EMS_INPUT_BOX_DISPLAY_HEADER;
    h = set_EMS_inputbox_category_history(MMI_CATEGORY39_ID, history_buffer, (S16*) & input_type);
    if (!h)
    {
        ResetCurrentPosition(MMI_EMS_inputbox.data);
    }
    MMI_EMS_inputbox.flags |= UI_EMS_INPUT_BOX_DISABLE_CURSOR_DRAW;
#ifdef __MMI_WALLPAPER_ON_BOTTOM__ 
    MMI_EMS_inputbox.flags |= UI_EMS_INPUT_BOX_TRANSPARENT_BACKGROUND;
    dm_get_scr_bg_opacity(&editor_scr_bg_opacity);
    dm_set_scr_bg_opacity((U8)(current_MMI_theme->bg_opacity_low));
#endif    
    register_EMS_inputbox_viewer_keys();
    create_EMS_viewer_header(header);
    MMI_EMS_inputbox.display_header = EMS_viewer_show_header;
    MMI_EMS_inputbox.measure_header = EMS_viewer_measure_header;
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    ExitCategoryFunction = ExitCategory39Screen;
    dm_setup_category_functions(dm_redraw_category_screen, GetCategory39History, GetCategory39HistorySize);
    dm_data.s32ScrId = (S32) GetActiveScreenId();
    dm_data.s32CatId = MMI_CATEGORY39_ID;
    dm_data.s32flags = DM_CLEAR_SCREEN_BACKGROUND;
    dm_setup_data(&dm_data);
    dm_redraw_category_screen();
}


/*****************************************************************************
 * FUNCTION
 *  CloseCategory39Screen
 * DESCRIPTION
 *  Releases data used by the MT EMS/SMS screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void CloseCategory39Screen(void)
{
#if(UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    S32 length;
    S32 i, j;
    U8 *buffer;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    length = MMI_multiline_inputbox.text_length;
    buffer = (U8*) gui_malloc((length << 1) + 2);
    i = j = 0;
    ResetCurrentPosition(temp_EMS_data);
    while (i < length)
    {
        buffer[j++] = 0;
        buffer[j++] = (U8) temp_EMS_buffer[i++];
    }
    buffer[j++] = 0;
    buffer[j++] = '\0';
    AddString(temp_EMS_data, buffer, (U16) length, NULL);
    gui_free(buffer);
    gui_free(temp_EMS_buffer);
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}


/*****************************************************************************
 * FUNCTION
 *  ExitCategory39Screen
 * DESCRIPTION
 *  Exits the MT EMS/SMS screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void ExitCategory39Screen(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
#if(!UI_DISABLE_EMS_INPUT_BOX)
    reset_EMS_inputbox();
#endif 
#ifdef __MMI_MESSAGES_EMS__
    close_EMS_objects();
#endif 
#ifdef __MMI_WALLPAPER_ON_BOTTOM__ 
    dm_set_scr_bg_opacity(editor_scr_bg_opacity);
#endif 
    ExitCategoryFunction = MMI_dummy_function;
    RedrawCategoryFunction = MMI_dummy_function;
    GetCategoryHistory = dummy_get_history;
    GetCategoryHistorySize = dummy_get_history_size;
}


/*****************************************************************************
 * FUNCTION
 *  GetCategory39HistorySize
 * DESCRIPTION
 *  Gets the history buffer size for the MT EMS/SMS screen
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
S32 GetCategory39HistorySize(void)
{
#if(UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (0);
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    return (sizeof(EMS_inputbox_category_history));
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 

}


/*****************************************************************************
 * FUNCTION
 *  GetCategory39History
 * DESCRIPTION
 *  Gets the history buffer for the MT EMS/SMS screen
 * PARAMETERS
 *  history_buffer      [?]             
 *  history(?)          [IN/OUT]        The buffer into which the history data is stored (pre-allocated)
 * RETURNS
 *  void
 *****************************************************************************/
U8 *GetCategory39History(U8 *history_buffer)
{
#if(UI_DISABLE_EMS_INPUT_BOX)
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    return (history_buffer);
#else /* (UI_DISABLE_EMS_INPUT_BOX) */ 
    get_EMS_inputbox_category_history(MMI_CATEGORY39_ID, history_buffer, MMI_current_input_type);
    return (history_buffer);
#endif /* (UI_DISABLE_EMS_INPUT_BOX) */ 
}

/*****************************************************************************
 * FUNCTION
 *  change_EMS_inputbox_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  mode        [IN]        
 * RETURNS
 *  void
 *****************************************************************************/
void change_EMS_inputbox_mode(U8 mode)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U16 input_type = MMI_current_input_type & INPUT_TYPE_MASK;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    /* PMT dara added for Multitap thai */

    switch (mode)
    {
        case INPUT_MODE_MULTITAP_UPPERCASE_ABC:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_ABC);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_ABC:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_ABC);
            register_EMS_multitap_function();
            break;
            /* PMT dara added for multitap thai */
    #if defined(__MMI_MULTITAP_THAI__)
        case INPUT_MODE_MULTITAP_THAI:
            change_multitap_mode(INPUT_MODE_MULTITAP_THAI);
    #if defined(__MMI_FULL_SCREEN_EDITOR__) || defined (__MMI_TOUCH_SCREEN__)
            register_multitap_no_draw_key_handlers();
    #else 
            register_multitap_key_handlers();
    #endif 
    #if defined(__MMI_MULTITAP_THAI_PROFILE_1__)
            register_MMI_key_input_extend_handler();
    #endif
            /* change_inputbox_type_multitapthai(EMS_INPUTBOX);             //msz065_20050420 */
            register_keyboard_input_handler(EMS_inputbox_alphanumeric_keyboard_input_handler);
            set_multitap_functions(EMS_inputbox_multitap_input, EMS_inputbox_multitap_input_complete);
            wgui_set_EMS_inputbox_RSK();
            register_EMS_inputbox_keys();
            break;
    #endif /* defined(__MMI_MULTITAP_THAI__) */ 

    #if defined(__MMI_MULTITAP_SPANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SPANISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_SPANISH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_SPANISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_SPANISH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_SPANISH__) */ 
    #if defined(__MMI_MULTITAP_DANISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DANISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_DANISH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_DANISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_DANISH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_DANISH__) */ 
    #if defined(__MMI_MULTITAP_POLISH__)    /* polish-vikas */
        case INPUT_MODE_MULTITAP_UPPERCASE_POLISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_POLISH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_POLISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_POLISH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_POLISH__) */ 
    #if defined(__MMI_MULTITAP_FRENCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FRENCH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_FRENCH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_FRENCH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_FRENCH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_FRENCH__) */ 
    #if defined(__MMI_MULTITAP_GERMAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GERMAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_GERMAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_GERMAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_GERMAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_GERMAN__) */ 
    #if defined(__MMI_MULTITAP_ITALIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_ITALIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_ITALIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_ITALIAN__) */ 
    #if defined(__MMI_MULTITAP_RUSSIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_RUSSIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_RUSSIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_RUSSIAN__) */ 
    #if defined(__MMI_MULTITAP_BULGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_BULGARIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_BULGARIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_BULGARIAN__) */ 
    #if defined(__MMI_MULTITAP_UKRAINIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_UKRAINIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_UKRAINIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_UKRAINIAN__) */
    #if defined(__MMI_MULTITAP_TURKISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_TURKISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_TURKISH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_TURKISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_TURKISH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_TURKISH__) */ 
    #if defined(__MMI_MULTITAP_PORTUGUESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_PORTUGUESE);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_PORTUGUESE);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_PORTUGUESE__) */ 
    #if defined(__MMI_MULTITAP_HINDI__)
        case INPUT_MODE_MULTITAP_HINDI:
            change_multitap_mode(INPUT_MODE_MULTITAP_HINDI);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_HINDI__) */ 

    #if defined(__MMI_MULTITAP_MARATHI__)
        case INPUT_MODE_MULTITAP_MARATHI:
            change_multitap_mode(INPUT_MODE_MULTITAP_MARATHI);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_MARATHI__) */ 
	#if defined (__MMI_MULTITAP_TAMIL__) 
        case INPUT_MODE_MULTITAP_TAMIL:
            change_multitap_mode(INPUT_MODE_MULTITAP_TAMIL);
            register_EMS_multitap_function();
            break;
    #endif /* #if defined (__MMI_MULTITAP_TAMIL__)  */ 
    #if defined(__MMI_MULTITAP_BENGALI__)
        case INPUT_MODE_MULTITAP_BENGALI:
            change_multitap_mode(INPUT_MODE_MULTITAP_BENGALI);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_BENGALI__) */ 

	#if defined (__MMI_MULTITAP_PUNJABI__) 
        case INPUT_MODE_MULTITAP_PUNJABI:
            change_multitap_mode(INPUT_MODE_MULTITAP_PUNJABI);
            register_EMS_multitap_function();
            break;
    #endif
    #if defined (__MMI_MULTITAP_TELUGU__) 
        case INPUT_MODE_MULTITAP_TELUGU:
            change_multitap_mode(INPUT_MODE_MULTITAP_TELUGU);
            register_EMS_multitap_function();
            break;
    #endif
    #if defined(__MMI_MULTITAP_INDONESIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_INDONESIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_INDONESIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_INDONESIAN__) */ 
    #if defined(__MMI_MULTITAP_CZECH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CZECH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_CZECH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_CZECH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_CZECH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_CZECH__) */ 
    #if defined(__MMI_MULTITAP_MALAY__)
        case INPUT_MODE_MULTITAP_UPPERCASE_MALAY:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_MALAY);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_MALAY:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_MALAY);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_MALAY__) */ 
    #if defined(__MMI_MULTITAP_VIETNAMESE__)
        case INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_VIETNAMESE);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_VIETNAMESE);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_VIETNAMESE__) */ 
    #if defined(__MMI_MULTITAP_FINNISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_FINNISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_FINNISH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_FINNISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_FINNISH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_FINNISH__) */ 
    #if defined(__MMI_MULTITAP_HUNGARIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_HUNGARIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_HUNGARIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_HUNGARIAN__) */ 

    #if defined(__MMI_MULTITAP_SLOVAK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_SLOVAK);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_SLOVAK);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVAK__) */ 
    #if defined(__MMI_MULTITAP_DUTCH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_DUTCH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_DUTCH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_DUTCH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_DUTCH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_DUTCH__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_MULTITAP_ARABIC:
            change_multitap_mode(INPUT_MODE_MULTITAP_ARABIC);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_ARABIC__)
        case INPUT_MODE_ARABIC_NUMERIC:
            change_multitap_mode(INPUT_MODE_ARABIC_NUMERIC);
            clear_multitap_key_handlers();
            register_MMI_key_input_handler();
            register_key_down_handler(EMS_inputbox_handle_key_down);
            register_keyboard_input_handler(EMS_inputbox_numeric_keyboard_input_handler);
            wgui_set_EMS_inputbox_RSK();
            register_EMS_inputbox_keys();
            break;
    #endif /* defined(__MMI_MULTITAP_ARABIC__) */ 
    #if defined(__MMI_MULTITAP_PERSIAN__)
        case INPUT_MODE_MULTITAP_PERSIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_PERSIAN);
            register_EMS_multitap_function();
            break;
    #endif         
    #if defined(__MMI_MULTITAP_URDU__)
        case INPUT_MODE_MULTITAP_URDU:
            change_multitap_mode(INPUT_MODE_MULTITAP_URDU);
            register_EMS_multitap_function();
            break;
    #endif 
    #if defined(__MMI_MULTITAP_NORWEGIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_NORWEGIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_NORWEGIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_NORWEGIAN__) */ 

    #if defined(__MMI_MULTITAP_SWEDISH__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_SWEDISH);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_SWEDISH);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_SWEDISH__) */ 

    #if defined(__MMI_MULTITAP_CROATIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_CROATIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_CROATIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_CROATIAN__) */ 
    #if defined(__MMI_MULTITAP_HEBREW__)
        case INPUT_MODE_MULTITAP_HEBREW:
            change_multitap_mode(INPUT_MODE_MULTITAP_HEBREW);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_HEBREW__) */ 

    #if defined(__MMI_MULTITAP_ROMANIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_ROMANIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_ROMANIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_ROMANIAN__) */ 
    #if defined(__MMI_MULTITAP_SLOVENIAN__)
        case INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_SLOVENIAN);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_SLOVENIAN);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_SLOVENIAN__) */ 
    #if defined(__MMI_MULTITAP_GREEK__)
        case INPUT_MODE_MULTITAP_UPPERCASE_GREEK:
            change_multitap_mode(INPUT_MODE_MULTITAP_UPPERCASE_GREEK);
            register_EMS_multitap_function();
            break;

        case INPUT_MODE_MULTITAP_LOWERCASE_GREEK:
            change_multitap_mode(INPUT_MODE_MULTITAP_LOWERCASE_GREEK);
            register_EMS_multitap_function();
            break;
    #endif /* defined(__MMI_MULTITAP_GREEK__) */ 

        case INPUT_MODE_123:
            change_multitap_mode(INPUT_MODE_123);
            clear_multitap_key_handlers();
            register_MMI_key_input_handler();
            register_key_down_handler(EMS_inputbox_handle_key_down);
            register_keyboard_input_handler(EMS_inputbox_numeric_keyboard_input_handler);
            wgui_set_EMS_inputbox_RSK();
            register_EMS_inputbox_keys();
            break;

        #ifdef __MMI_T9__
        case INPUT_MODE_TR_BOPOMO:
        case INPUT_MODE_SM_PINYIN:
        case INPUT_MODE_TR_STROKE:
        case INPUT_MODE_SM_STROKE:
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
    #endif
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
        case INPUT_MODE_SM_MULTITAP_PINYIN:
        case INPUT_MODE_SMART_THAI:
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
        case INPUT_MODE_SMART_HEBREW:
        #if defined(__MMI_T9_DANISH__)
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
        #endif /* defined(__MMI_T9_DANISH__) */ 
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:

        #if defined(__MMI_T9_VIETNAMESE__)
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
        #endif /* defined(__MMI_T9_VIETNAMESE__) */ 

        #if defined(__MMI_T9_INDONESIAN__)
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
        #endif /* defined(__MMI_T9_INDONESIAN__) */ 
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
        #if defined(__MMI_T9_PORTUGUESE__)
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
        #endif /* defined(__MMI_T9_PORTUGUESE__) */ 
        #if defined(__MMI_T9_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
        #endif /* defined(__MMI_T9_FINNISH__) */ 
        #if defined(__MMI_T9_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:
        #endif /* defined(__MMI_T9_HUNGARIAN__) */ 
        #if defined(__MMI_T9_ARABIC__)
        case INPUT_MODE_SMART_ARABIC:
        #endif 
        #if defined(__MMI_T9_HINDI__)
        case INPUT_MODE_SMART_HINDI:
        #endif 
        #if defined(__MMI_T9_NORWEGIAN__)
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
        #endif /* defined(__MMI_T9_NORWEGIAN__) */ 
        #if defined(__MMI_T9_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
        #endif /* defined(__MMI_T9_DUTCH__) */ 
        #if defined(__MMI_T9_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
        #endif /* defined(__MMI_T9_SLOVENIAN__) */ 
        #if defined(__MMI_T9_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
        #endif /* defined(__MMI_T9_SWEDISH__) */ 
        #if defined(__MMI_T9_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
        #endif /* defined(__MMI_T9_GREEK__) */ 
        #if defined(__MMI_T9_MALAY__)
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
        #endif /* defined(__MMI_T9_MALAY__) */ 
        #if defined(__MMI_T9_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
        #endif /* defined(__MMI_T9_CROATIAN__) */ 
        #if defined(__MMI_T9_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
        #endif /* defined(__MMI_T9_SLOVAK__) */ 
        #if defined(__MMI_T9_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
        #endif /* defined(__MMI_T9_ROMANIAN__) */ 
            T9ChangeLanguageForEMSInputBox(mode);
            T9ClearKeyStarAndPoundHandler();
            T9ClearKeyNavigationHandler();
            T9ClearKey0To9Handler();
            //clear_right_softkey();
            //register_MMI_key_input_handler();
            /* W06.09 Touch Screen With Keypad V1 */
        #if !defined(__MMI_TOUCH_SCREEN__)
        #if defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__)
            SetKeyHandler(T9KeyPoundPressHandlerForEMSInputBox, KEY_POUND, KEY_EVENT_DOWN);
            /* W05.41 Long Press Key * to select symbols when __MMI_MULTITAP_FOR_STAR_AND_POUND__ */
            SetKeyHandler(wgui_EMS_inputbox_handle_symbol_picker_star_key, KEY_STAR, KEY_LONG_PRESS);
        #endif /* !defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__) */ 
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
            SetKeyHandler(T9KeyStarPressHandlerForEMSInputBox, KEY_STAR, KEY_EVENT_DOWN);
            /* set key arrow handler */
            SetKeyHandler(T9KeyArrowUPHandlerForEMSInputBox, KEY_UP_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(T9KeyArrowRightHandlerForEMSInputBox, KEY_RIGHT_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(T9KeyArrowDownHandlerForEMSInputBox, KEY_DOWN_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(T9KeyArrowLeftHandlerForEMSInputBox, KEY_LEFT_ARROW, KEY_EVENT_DOWN);
            /* register_key_down_handler(T9Key0To9HandlerForEMSInputBox); */
            SetKeyHandler(T9Key0PressHandlerForEMSInputBox, KEY_0, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key1PressHandlerForEMSInputBox, KEY_1, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key2PressHandlerForEMSInputBox, KEY_2, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key3PressHandlerForEMSInputBox, KEY_3, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key4PressHandlerForEMSInputBox, KEY_4, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key5PressHandlerForEMSInputBox, KEY_5, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key6PressHandlerForEMSInputBox, KEY_6, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key7PressHandlerForEMSInputBox, KEY_7, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key8PressHandlerForEMSInputBox, KEY_8, KEY_EVENT_DOWN);
            SetKeyHandler(T9Key9PressHandlerForEMSInputBox, KEY_9, KEY_EVENT_DOWN);
            wgui_set_EMS_inputbox_RSK();
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_DOWN);
            set_right_softkey_function(UI_dummy_function, KEY_EVENT_LONG_PRESS);
        #if !defined(__MMI_TOUCH_SCREEN__)
            T9SynT9WithInputBoxForEMSInputBox();
            T9ScreenStateChnageForEMSInputBox();
            T9InputBoxDisplayForEMSInputBox();
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            register_EMS_inputbox_keys();
            wgui_set_EMS_inputbox_RSK();
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 

        #elif defined __MMI_ZI__
        case INPUT_MODE_TR_BOPOMO:
        case INPUT_MODE_SM_PINYIN:
        case INPUT_MODE_TR_STROKE:
        case INPUT_MODE_SM_STROKE:
        case INPUT_MODE_SMART_UPPERCASE_ABC:
        case INPUT_MODE_SMART_LOWERCASE_ABC:
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
        case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
    #endif
        case INPUT_MODE_TR_MULTITAP_BOPOMO:
        case INPUT_MODE_SM_MULTITAP_PINYIN:
        case INPUT_MODE_SMART_THAI:
        case INPUT_MODE_SMART_ARABIC:
        case INPUT_MODE_SMART_PERSIAN:
    #if (defined(__MMI_ZI_HINDI__) || defined(__MMI_T9_HINDI__)) 
        case INPUT_MODE_SMART_HINDI:
    #endif
    #if defined(__MMI_ZI_BENGALI__)
        case INPUT_MODE_SMART_BENGALI:
    #endif

    #if defined(__MMI_ZI_MARATHI__)
        case INPUT_MODE_SMART_MARATHI:
    #endif

    #if defined(__MMI_ZI_PUNJABI__)
        case INPUT_MODE_SMART_PUNJABI:
    #endif

    #if defined(__MMI_ZI_TAMIL__)
        case INPUT_MODE_SMART_TAMIL:
    #endif

    #if defined(__MMI_ZI_TELUGU__)
        case INPUT_MODE_SMART_TELUGU:
    #endif

    #if defined(__MMI_ZI_URDU__)
        case INPUT_MODE_SMART_URDU:
    #endif
        case INPUT_MODE_SMART_HEBREW:
        case INPUT_MODE_SMART_UPPERCASE_SPANISH:
        case INPUT_MODE_SMART_LOWERCASE_SPANISH:
        #if defined(__MMI_T9_DANISH__) || defined(__MMI_ZI_DANISH__)    /* Danish-Vikas */
        case INPUT_MODE_SMART_UPPERCASE_DANISH:
        case INPUT_MODE_SMART_LOWERCASE_DANISH:
        #endif /* defined(__MMI_T9_DANISH__) || defined(__MMI_ZI_DANISH__) */ 
        case INPUT_MODE_SMART_UPPERCASE_POLISH:
        case INPUT_MODE_SMART_LOWERCASE_POLISH:
        case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
        case INPUT_MODE_SMART_UPPERCASE_FRENCH:
        case INPUT_MODE_SMART_LOWERCASE_FRENCH:
        case INPUT_MODE_SMART_UPPERCASE_GERMAN:
        case INPUT_MODE_SMART_LOWERCASE_GERMAN:
        case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
        case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
        case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
        case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
        case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
        case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
        case INPUT_MODE_SMART_UPPERCASE_UKRAINIAN:
        case INPUT_MODE_SMART_LOWERCASE_UKRAINIAN:
        case INPUT_MODE_SMART_UPPERCASE_TURKISH:
        case INPUT_MODE_SMART_LOWERCASE_TURKISH:
        case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
        case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
        case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
        case INPUT_MODE_SMART_UPPERCASE_CZECH:
        case INPUT_MODE_SMART_LOWERCASE_CZECH:
        case INPUT_MODE_SMART_UPPERCASE_MALAY:
        case INPUT_MODE_SMART_LOWERCASE_MALAY:
        case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
        case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
        #if defined(__MMI_ZI_FINNISH__)
        case INPUT_MODE_SMART_UPPERCASE_FINNISH:
        case INPUT_MODE_SMART_LOWERCASE_FINNISH:
        #endif /* defined(__MMI_ZI_FINNISH__) */ 
        #if defined(__MMI_ZI_HUNGARIAN__)
        case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:  
        case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:  
        #endif /* defined(__MMI_ZI_HUNGARIAN__) */ 
        #if defined(__MMI_ZI_SLOVAK__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
        case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
        #endif /* defined(__MMI_ZI_SLOVAK__) */ 
        #if defined(__MMI_ZI_DUTCH__)
        case INPUT_MODE_SMART_UPPERCASE_DUTCH:
        case INPUT_MODE_SMART_LOWERCASE_DUTCH:
        #endif /* defined(__MMI_ZI_DUTCH__) */ 
        #if defined(__MMI_ZI_SWEDISH__)
        case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
        case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
        #endif /* defined(__MMI_ZI_SWEDISH__) */ 

        #if defined(__MMI_ZI_CROATIAN__)
        case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
        case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
        #endif /* defined(__MMI_ZI_CROATIAN__) */ 
        #if defined(__MMI_ZI_ROMANIAN__)
        case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
        case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
        #endif /* defined(__MMI_ZI_ROMANIAN__) */ 
        #if defined(__MMI_ZI_SLOVENIAN__)
        case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
        case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
        #endif /* defined(__MMI_ZI_SLOVENIAN__) */ 

        #if defined(__MMI_ZI_GREEK__)
        case INPUT_MODE_SMART_UPPERCASE_GREEK:
        case INPUT_MODE_SMART_LOWERCASE_GREEK:
        #endif /* defined(__MMI_ZI_GREEK__) */ 
        #ifdef __MMI_MIXED_LANG_SUPPORT__
            ZiChangeInputMethod((INPUT_MODE) mode, g_ime_sub_writing_lang);
        #else
            ZiChangeInputMethod((INPUT_MODE) mode);
        #endif
            ZiClearKeyStarAndPoundHandler();
            ZiClearKeyNavigationHandler();
            ZiClearKey0To9Handler();
            /* set key arrow handler */
            SetKeyHandler(ZiKeyArrowUPHandler, KEY_UP_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKeyArrowRightHandler, KEY_RIGHT_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKeyArrowDownHandler, KEY_DOWN_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKeyArrowLeftHandler, KEY_LEFT_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey0PressHandler, KEY_0, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey1PressHandler, KEY_1, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey2PressHandler, KEY_2, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey3PressHandler, KEY_3, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey4PressHandler, KEY_4, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey5PressHandler, KEY_5, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey6PressHandler, KEY_6, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey7PressHandler, KEY_7, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey8PressHandler, KEY_8, KEY_EVENT_DOWN);
            SetKeyHandler(ZiKey9PressHandler, KEY_9, KEY_EVENT_DOWN);
            /* MTK Terry For RSK Display */
            handle_category28_input();
            /* W06.09 Touch Screen With Keypad V1 */
        #if !defined(__MMI_TOUCH_SCREEN__)
            ZiDisplay();
        #else /* !defined(__MMI_TOUCH_SCREEN__) */ 
            register_EMS_inputbox_keys();
            wgui_set_EMS_inputbox_RSK();
        #endif /* !defined(__MMI_TOUCH_SCREEN__) */ 

#elif defined(__MMI_CSTAR__)
    #if defined(__MMI_CSTAR_TR_CHINESE__)
    #if defined(__MMI_CSTAR_SMART_PHONETIC_INPUT__)
                case INPUT_MODE_TR_BOPOMO:
    #endif /*     #if defined(__MMI_CSTAR_SMART_PHONETIC_INPUT__) */
    #if defined(__MMI_CSTAR_MULTITAP_PHONETIC_INPUT__)
                case INPUT_MODE_TR_MULTITAP_BOPOMO:
    #endif
                case INPUT_MODE_TR_STROKE:
    #endif
    #if defined(__MMI_CSTAR_SM_CHINESE__)
    #if defined(__MMI_CSTAR_SMART_PHONETIC_INPUT__)
                case INPUT_MODE_SM_PINYIN:
    #endif
    #if defined(__MMI_CSTAR_MULTITAP_PHONETIC_INPUT__)
                case INPUT_MODE_SM_MULTITAP_PINYIN:
    #endif
                case INPUT_MODE_SM_STROKE:
    #endif
    
                case INPUT_MODE_SMART_UPPERCASE_ABC:
                case INPUT_MODE_SMART_LOWERCASE_ABC:
    #if defined(__MMI_SMART_FIRST_UPPERCASE_ABC__)
                case INPUT_MODE_SMART_FIRST_UPPERCASE_ABC:
    #endif

#if defined(__MMI_CSTAR_THAI__)
                case INPUT_MODE_SMART_THAI:
#endif
#if defined(__MMI_CSTAR_ARABIC__)
                case INPUT_MODE_SMART_ARABIC:
#endif
#if defined(__MMI_CSTAR_PERSIAN__)
                case INPUT_MODE_SMART_PERSIAN:
#endif
#if defined(__MMI_CSTAR_HINDI__)
                case INPUT_MODE_SMART_HINDI:
#endif
#if defined(__MMI_CSTAR_HEBREW__)
                case INPUT_MODE_SMART_HEBREW:
#endif
#if defined(__MMI_CSTAR_SPANISH__)
                case INPUT_MODE_SMART_UPPERCASE_SPANISH:
                case INPUT_MODE_SMART_LOWERCASE_SPANISH:
#endif
#if defined(__MMI_CSTAR_DANISH__)
                case INPUT_MODE_SMART_UPPERCASE_DANISH:
                case INPUT_MODE_SMART_LOWERCASE_DANISH:
#endif
#if defined(__MMI_CSTAR_POLISH__)
                case INPUT_MODE_SMART_UPPERCASE_POLISH:
                case INPUT_MODE_SMART_LOWERCASE_POLISH:
#endif
#if defined(__MMI_CSTAR_NORWEGIAN__)
                case INPUT_MODE_SMART_UPPERCASE_NORWEGIAN:
                case INPUT_MODE_SMART_LOWERCASE_NORWEGIAN:
#endif
#if defined(__MMI_CSTAR_FRENCH__)
                case INPUT_MODE_SMART_UPPERCASE_FRENCH:
                case INPUT_MODE_SMART_LOWERCASE_FRENCH:
#endif
#if defined(__MMI_CSTAR_GERMAN__)
                case INPUT_MODE_SMART_UPPERCASE_GERMAN:
                case INPUT_MODE_SMART_LOWERCASE_GERMAN:
#endif
#if defined(__MMI_CSTAR_ITALIAN__)
                case INPUT_MODE_SMART_UPPERCASE_ITALIAN:
                case INPUT_MODE_SMART_LOWERCASE_ITALIAN:
#endif
#if defined(__MMI_CSTAR_RUSSIAN__)
                case INPUT_MODE_SMART_UPPERCASE_RUSSIAN:
                case INPUT_MODE_SMART_LOWERCASE_RUSSIAN:
#endif
#if defined(__MMI_CSTAR_BULGARIAN__)
                case INPUT_MODE_SMART_UPPERCASE_BULGARIAN:
                case INPUT_MODE_SMART_LOWERCASE_BULGARIAN:
#endif
#if defined(__MMI_CSTAR_TURKISH__)
                case INPUT_MODE_SMART_UPPERCASE_TURKISH:
                case INPUT_MODE_SMART_LOWERCASE_TURKISH:
#endif
#if defined(__MMI_CSTAR_PORTUGUESE__)
                case INPUT_MODE_SMART_UPPERCASE_PORTUGUESE:
                case INPUT_MODE_SMART_LOWERCASE_PORTUGUESE:
#endif
#if defined(__MMI_CSTAR_INDONESIAN__)
                case INPUT_MODE_SMART_UPPERCASE_INDONESIAN:
                case INPUT_MODE_SMART_LOWERCASE_INDONESIAN:
#endif
#if defined(__MMI_CSTAR_CZECH__)
                case INPUT_MODE_SMART_UPPERCASE_CZECH:
                case INPUT_MODE_SMART_LOWERCASE_CZECH:
#endif
#if defined(__MMI_CSTAR_MALAY__)
                case INPUT_MODE_SMART_UPPERCASE_MALAY:
                case INPUT_MODE_SMART_LOWERCASE_MALAY:
#endif
#if defined(__MMI_CSTAR_VIETNAMESE__)
                case INPUT_MODE_SMART_UPPERCASE_VIETNAMESE:
                case INPUT_MODE_SMART_LOWERCASE_VIETNAMESE:
#endif
        #if defined(__MMI_CSTAR_FINNISH__)
                case INPUT_MODE_SMART_UPPERCASE_FINNISH:
                case INPUT_MODE_SMART_LOWERCASE_FINNISH:
        #endif /* defined(__MMI_CSTAR_FINNISH__) */ 
        #if defined(__MMI_CSTAR_HUNGARIAN__)
                case INPUT_MODE_SMART_UPPERCASE_HUNGARIAN:  
                case INPUT_MODE_SMART_LOWERCASE_HUNGARIAN:  
        #endif /* defined(__MMI_CSTAR_HUNGARIAN__) */ 
        #if defined(__MMI_CSTAR_SLOVAK__)
                case INPUT_MODE_SMART_UPPERCASE_SLOVAK:
                case INPUT_MODE_SMART_LOWERCASE_SLOVAK:
        #endif /* defined(__MMI_CSTAR_SLOVAK__) */ 
        #if defined(__MMI_CSTAR_DUTCH__)
                case INPUT_MODE_SMART_UPPERCASE_DUTCH:
                case INPUT_MODE_SMART_LOWERCASE_DUTCH:
        #endif /* defined(__MMI_CSTAR_DUTCH__) */ 
        #if defined(__MMI_CSTAR_SWEDISH__)
                case INPUT_MODE_SMART_UPPERCASE_SWEDISH:
                case INPUT_MODE_SMART_LOWERCASE_SWEDISH:
        #endif /* defined(__MMI_CSTAR_SWEDISH__) */ 
        
        #if defined(__MMI_CSTAR_CROATIAN__)
                case INPUT_MODE_SMART_UPPERCASE_CROATIAN:
                case INPUT_MODE_SMART_LOWERCASE_CROATIAN:
        #endif /* defined(__MMI_CSTAR_CROATIAN__) */ 
        #if defined(__MMI_CSTAR_ROMANIAN__)
                case INPUT_MODE_SMART_UPPERCASE_ROMANIAN:
                case INPUT_MODE_SMART_LOWERCASE_ROMANIAN:
        #endif /* defined(__MMI_CSTAR_ROMANIAN__) */ 
        #if defined(__MMI_CSTAR_SLOVENIAN__)
                case INPUT_MODE_SMART_UPPERCASE_SLOVENIAN:
                case INPUT_MODE_SMART_LOWERCASE_SLOVENIAN:
        #endif /* defined(__MMI_CSTAR_SLOVENIAN__) */ 
        
        #if defined(__MMI_CSTAR_GREEK__)
                case INPUT_MODE_SMART_UPPERCASE_GREEK:
                case INPUT_MODE_SMART_LOWERCASE_GREEK:
        #endif /* defined(__MMI_CSTAR_GREEK__) */ 

            CstarChangeInputMethod(mode);
            CstarClearKeyStarAndPoundHandler();
            CstarClearKeyNavigationHandler();
            CstarClearKey0To9Handler();
            SetKeyHandler(CstarKeyArrowUpHandler, KEY_UP_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKeyArrowRightHandler, KEY_RIGHT_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKeyArrowDownHandler, KEY_DOWN_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKeyArrowLeftHandler, KEY_LEFT_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey0PressHandler, KEY_0, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey1PressHandler, KEY_1, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey2PressHandler, KEY_2, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey3PressHandler, KEY_3, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey4PressHandler, KEY_4, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey5PressHandler, KEY_5, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey6PressHandler, KEY_6, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey7PressHandler, KEY_7, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey8PressHandler, KEY_8, KEY_EVENT_DOWN);
            SetKeyHandler(CstarKey9PressHandler, KEY_9, KEY_EVENT_DOWN);

            SetKeyHandler(CstarKeyStarPressHandler, KEY_STAR, KEY_EVENT_DOWN);
            //SetKeyHandler(wgui_handle_singleline_inputbox_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            #if !defined(__MMI_TOUCH_SCREEN__)
            SetKeyHandler(handle_category28_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);			 
            set_right_softkey_function(CstarKeyRSKPressHandler, KEY_EVENT_DOWN);
            set_right_softkey_function(CstarKeyRSKLongPressHandler, KEY_EVENT_LONG_PRESS);
            set_left_softkey_function(CstarKeyLSKPressHandler, KEY_EVENT_DOWN);
            set_left_softkey_function(UI_dummy_function, KEY_EVENT_LONG_PRESS);
            #else
                register_EMS_inputbox_keys();
                wgui_set_EMS_inputbox_RSK();
            #endif 
            
            CstarDisplay();


        #elif defined __MMI_KA__
        case INPUT_MODE_SM_PINYIN:
        case INPUT_MODE_SM_STROKE:
            KonkaChangeInputMethod(mode);
            KonkaClearKeyStarAndPoundHandler();
            KonkaClearKeyNavigationHandler();
            KonkaClearKey0To9Handler();
            clear_right_softkey();
            clear_left_softkey();
            /* set key arrow handler */
            SetKeyHandler(KonkaKeyArrowUPHandler, KEY_UP_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKeyArrowRightHandler, KEY_RIGHT_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKeyArrowDownHandler, KEY_DOWN_ARROW, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKeyArrowLeftHandler, KEY_LEFT_ARROW, KEY_EVENT_DOWN);
            /* register_key_down_handler(T9Key0To9HandlerForEMSInputBox); */
            SetKeyHandler(KonkaKey0PressHandler, KEY_0, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey1PressHandler, KEY_1, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey2PressHandler, KEY_2, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey3PressHandler, KEY_3, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey4PressHandler, KEY_4, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey5PressHandler, KEY_5, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey6PressHandler, KEY_6, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey7PressHandler, KEY_7, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey8PressHandler, KEY_8, KEY_EVENT_DOWN);
            SetKeyHandler(KonkaKey9PressHandler, KEY_9, KEY_EVENT_DOWN);
            /* register the star and hash key handkers */
            SetKeyHandler(EntrySymbolPickerScreen, KEY_STAR, KEY_EVENT_DOWN);
            SetKeyHandler(handle_category28_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
            /* register the L and R softkey handlers */
            set_right_softkey_function(KonkaKeyRSKPressHandler, KEY_EVENT_DOWN);
            set_right_softkey_function(KonkaKeyRSKLongPressHandler, KEY_EVENT_LONG_PRESS);
            set_left_softkey_function(KonkaKeyLSKPressHandler, KEY_EVENT_UP);
            set_left_softkey_function(KonkaKeyLSKLongPressHandler, KEY_EVENT_LONG_PRESS);
            KonkaDisplay();

        #elif defined __MMI_ITAP__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
        #endif 
            break;
    }

    if (input_type != INPUT_TYPE_NUMERIC &&
        input_type != INPUT_TYPE_DECIMAL_NUMERIC &&
        input_type != INPUT_TYPE_DECIMAL_NUMERIC_PASSWORD &&
        input_type != INPUT_TYPE_KEYPAD_NUMERIC &&
        input_type != INPUT_TYPE_NUMERIC_PASSWORD &&
        input_type != INPUT_TYPE_PHONE_NUMBER &&
        input_type != INPUT_TYPE_NONE)
    {
    
#if defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__ )
        if (wgui_inputbox_handle_symbol_picker_star_key_down == currKeyFuncPtrs[KEY_STAR][KEY_EVENT_UP])
        {
            ClearKeyHandler(KEY_STAR, KEY_EVENT_UP);
            /* W05.41 Long Press Key * to select symbols when __MMI_MULTITAP_FOR_STAR_AND_POUND__ */
            SetKeyHandler(wgui_inputbox_handle_symbol_picker_star_key_down, KEY_STAR, KEY_LONG_PRESS);
        }
        SetKeyHandler(wgui_handle_symbol_picker_bymultitapthai, KEY_STAR, KEY_LONG_PRESS);

        SetKeyHandler(wgui_handle_inputbox_change_input_mode_bymultitapthai, KEY_POUND, KEY_LONG_PRESS);
        SetKeyHandler(wgui_handle_inputbox_change_input_mode_bymultitapthai, KEY_POUND, KEY_REPEAT);
#else
        SetKeyHandler(handle_category28_change_input_mode, KEY_POUND, KEY_EVENT_DOWN);
        SetKeyHandler(wgui_inputbox_handle_symbol_picker_star_key_down, KEY_STAR, KEY_EVENT_UP);
#endif /* defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__) */ 
    }
}


/*****************************************************************************
 * FUNCTION
 *  change_EMS_inputbox_input_mode
 * DESCRIPTION
 *  
 * PARAMETERS
 *  void
 * RETURNS
 *  void
 *****************************************************************************/
void change_EMS_inputbox_input_mode(void)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    change_EMS_inputbox_mode(MMI_current_input_mode);
}
/* Cat_215 Start */


/*****************************************************************************
 * FUNCTION
 *  cat_215_text_change_event_callback
 * DESCRIPTION
 *  Function to call info bar fillers
 * PARAMETERS
 *  event       [IN]        Action performed on insert, delete character or delete all
 *  C           [IN]        Character to insert or delete
 * RETURNS
 *  void
 *****************************************************************************/
MMI_BOOL cat_215_text_change_event_callback(gui_multi_line_input_box_change_event_enum event, U16 C)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    MMI_BOOL result = MMI_TRUE;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    switch (event)
    {
        case GUI_MULTI_LINE_INPUT_BOX_INSERT_CHAR:
            if (cat_215_text_utf8_length + app_unicode_to_utf8_len(C) > (wgui_inputbox_buffer_size - 1))
            {
                result = MMI_FALSE;
            }
            else
            {
                cat_215_text_utf8_length += app_unicode_to_utf8_len(C);
            }
            break;
        case GUI_MULTI_LINE_INPUT_BOX_DELETE_CHAR:
            cat_215_text_utf8_length -= app_unicode_to_utf8_len(C);
            break;
        case GUI_MULTI_LINE_INPUT_BOX_DELETEALL:
            cat_215_text_utf8_length = 0;
            break;
    }
    return result;
}


/*****************************************************************************
 * FUNCTION
 *  cat_215_text_total_characters_in_byte_callback
 * DESCRIPTION
 *  Function to call info bar fillers
 * PARAMETERS
 *  x1      [IN]        Start x position of input box
 *  y1      [IN]        Start y position of input box
 *  x2      [IN]        End x position of input box
 *  y2      [IN]        End y position of input box
 * RETURNS
 *  void
 *****************************************************************************/
void cat_215_text_total_characters_in_byte_callback(S32 x1, S32 y1, S32 x2, S32 y2)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    color c;

#if !defined(__MMI_TOUCH_SCREEN__)
    stFontAttribute *f = &MMI_small_font;
    S32 w, n, max_n;
#else /* !defined(__MMI_TOUCH_SCREEN__) */ 
    stFontAttribute *f = &MMI_medium_font;
    S32 w, h, n, max_n;
#endif /* !defined(__MMI_TOUCH_SCREEN__) */ 
    UI_character_type str[32];

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_lock_double_buffer();
    gui_reset_text_clip();
    wgui_input_information_background(x1, y1, x2, y2);
    wgui_multiline_inputbox_show_current_input_method(x1, y1, x2, y2);
    gui_sprintf(str, "%d/%d", cat_215_text_utf8_length, (wgui_inputbox_buffer_size - 1));
    c = *current_MMI_theme->remaining_length_text_color;
    gui_set_font(f);
    gui_set_text_color(c);
    gui_set_text_clip(0, 0, UI_device_width - 1, UI_device_height - 1);
#if !defined(__MMI_TOUCH_SCREEN__)
    w = gui_get_string_width(str);
#else 
    gui_measure_string(str, &w, &h);
#endif 
    if (!r2lMMIFlag)
#if !defined(__MMI_TOUCH_SCREEN__)
        gui_move_text_cursor(x2 - 2 - w, y1 + 2);
#else 
        gui_move_text_cursor(x2 - 2 - w, y1 + (wgui_inputbox_information_bar_height - h) / 2);
#endif 
    else
#if !defined(__MMI_TOUCH_SCREEN__)
        gui_move_text_cursor(x1 + 2 + w, y1 + 2);
#else 
        gui_move_text_cursor(x1 + 2 + w, y1 + (wgui_inputbox_information_bar_height - h) / 2);
#endif 
    gui_print_text(str);
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(x1, y1, x2, y2);
}


/*****************************************************************************
 * FUNCTION
 *  cat_215_draw_infobar_callback
 * DESCRIPTION
 *  Function to call info bar fillers
 * PARAMETERS
 *  x1      [IN]        Start x position of input box
 *  y1      [IN]        Start y position of input box
 *  x2      [IN]        End x position of input box
 *  y2      [IN]        End y position of input box
 * RETURNS
 *  void
 *****************************************************************************/
void cat_215_draw_infobar_callback(S32 x1, S32 y1, S32 x2, S32 y2)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    cat_215_text_total_characters_in_byte_callback(x1, y1, x2, y2);
}


/*****************************************************************************
 * FUNCTION
 *  cat_215_fit_text_for_ut8_length_in_multiline_inputbox
 * DESCRIPTION
 *  Function to take only buffer upto limit
 * PARAMETERS
 *  buffer      [IN/OUT]        To change the string buffer to the passed size
 * RETURNS
 *  void
 *****************************************************************************/
void cat_215_fit_text_for_ut8_length_in_multiline_inputbox(U8 *buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/
    U8 i = 0;
    U8 char_len;
    U16 ucs2_char;

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    cat_215_text_utf8_length = 0;
    ucs2_char = (buffer[i]) | ((buffer[i + 1] << 8));
    char_len = app_unicode_to_utf8_len(ucs2_char);
    while (ucs2_char && (cat_215_text_utf8_length + char_len <= (wgui_inputbox_buffer_size - 1)))
    {
        cat_215_text_utf8_length += char_len;
        i += ENCODING_LENGTH;
        ucs2_char = (buffer[i]) | ((buffer[i + 1] << 8));
        char_len = app_unicode_to_utf8_len(ucs2_char);
    }
    buffer[i] = 0;
    buffer[i + 1] = 0;
}


/*****************************************************************************
 * FUNCTION
 *  ShowCategory215Screen
 * DESCRIPTION
 *  Displays the category215 screen. This category checks for
 *  maximum number of characters based on utf8 length rather than ucs2.
 * PARAMETERS
 *  title                   [IN]        Title for the screen
 *  title_icon              [IN]        Icon shown with the title
 *  left_softkey            [IN]        Left softkey label
 *  left_softkey_icon       [IN]        Icon for the left softkey
 *  right_softkey           [IN]        Right softkey label
 *  right_softkey_icon      [IN]        Icon for the right softkey
 *  input_type              [IN]        Type of input to use
 *  buffer                  [IN]        Buffer the input box should use.
 *  buffer_size             [IN]        Size of the buffer.
 *  history_buffer          [IN]        History buffer
 * RETURNS
 *  void
 *****************************************************************************/
void ShowCategory215Screen(
        U16 title,
        U16 title_icon,
        U16 left_softkey,
        U16 left_softkey_icon,
        U16 right_softkey,
        U16 right_softkey_icon,
        S16 input_type,
        U8 *buffer,
        S32 buffer_size,
        U8 *history_buffer)
{
    /*----------------------------------------------------------------*/
    /* Local Variables                                                */
    /*----------------------------------------------------------------*/

    /*----------------------------------------------------------------*/
    /* Code Body                                                      */
    /*----------------------------------------------------------------*/
    gui_lock_double_buffer();
    gui_setup_common_layout();
    wgui_inputbox_buffer_size = buffer_size;
    cat_215_fit_text_for_ut8_length_in_multiline_inputbox(buffer);
    ShowCategory5Screen(
        title,
        title_icon,
        left_softkey,
        left_softkey_icon,
        right_softkey,
        right_softkey_icon,
        input_type,
        buffer,
        buffer_size,
        history_buffer);
    wgui_multiline_inputbox_register_change_event_handler(cat_215_text_change_event_callback);
    wgui_multiline_inputbox_register_infobar_callback(
        cat_215_draw_infobar_callback,
        cat_215_text_total_characters_in_byte_callback,
        0);
    wgui_redraw_input_information_bar();
    gui_unlock_double_buffer();
    gui_BLT_double_buffer(0, 0, UI_device_width - 1, UI_device_height - 1);
}

/* Cat_215 End */
