#line 1 "custom\common\fs_quota.c"
 


































 





































































































































#line 1 "kal\include\kal_release.h"
 


































 








































































































































































































































































































































 











 




#line 1 "nucleus\inc\Nucleus.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

 













 


 


 


 




 




 




 


 


typedef unsigned long           UNSIGNED;
typedef long                    SIGNED;
typedef unsigned char           DATA_ELEMENT;
typedef DATA_ELEMENT            OPTION;
typedef int                     STATUS;
typedef unsigned char           UNSIGNED_CHAR;
typedef char                    CHAR;
typedef int                     INT;
typedef unsigned long *         UNSIGNED_PTR;
typedef unsigned char *         BYTE_PTR;


typedef char           INT8;  
typedef unsigned char  UINT8; 
typedef signed short   INT16; 
typedef unsigned short UINT16;
typedef signed long    INT32; 
typedef unsigned long  UINT32;


 









 


   



 


   






 








 















 

typedef struct NU_VECTOR_STRUCT
{
     void        *pointer;
} NU_VECTOR;


 






















 





 















 























































 







 











 




































































 



#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

 






































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 66 "nucleus\inc\cs_defs.h"


 




 


typedef struct  CS_NODE_STRUCT
{
    struct CS_NODE_STRUCT  *cs_previous;
    struct CS_NODE_STRUCT  *cs_next;
    DATA_ELEMENT            cs_priority;


    DATA_ELEMENT            cs_padding[ 3 ];


}  CS_NODE;




#line 418 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





 








 

typedef struct TM_TCB_STRUCT 
{
    INT                 tm_timer_type;          
    UNSIGNED            tm_remaining_time;      
     void                *tm_information;         
    struct TM_TCB_STRUCT
                       *tm_next_timer,          
                       *tm_previous_timer;      
} TM_TCB;    


 

typedef struct TM_APP_TCB_STRUCT
{
    CS_NODE             tm_created;             
                                                
    UNSIGNED            tm_id;                  
    CHAR                tm_name[ 8 ];   
     void   (*tm_expiration_routine)(UNSIGNED);   
    UNSIGNED            tm_expiration_id;       
    INT                 tm_enabled;             
    UNSIGNED            tm_expirations;         
    UNSIGNED            tm_initial_time;        
    UNSIGNED            tm_reschedule_time;     
    TM_TCB              tm_actual_timer;        
} TM_APP_TCB;


 

   
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





 











 

typedef struct TC_TCB_STRUCT 
{
     


       
    CS_NODE             tc_created;             
                                                
    UNSIGNED            tc_id;                  
    CHAR                tc_name[ 8 ];   
    DATA_ELEMENT        tc_status;              
    DATA_ELEMENT        tc_delayed_suspend;     
    DATA_ELEMENT        tc_priority;            
    DATA_ELEMENT        tc_preemption;          
    UNSIGNED            tc_scheduled;           
    UNSIGNED            tc_cur_time_slice;      
     void                *tc_stack_start;         
     void                *tc_stack_end;           
     void                *tc_stack_pointer;       
    UNSIGNED            tc_stack_size;          
    UNSIGNED            tc_stack_minimum;       
    struct TC_PROTECT_STRUCT
                       *tc_current_protect;     
     void                *tc_saved_stack_ptr;     
    UNSIGNED            tc_time_slice;          

    
     


    struct TC_TCB_STRUCT
                       *tc_ready_previous,      
                       *tc_ready_next;          
                        
     

    UNSIGNED            tc_priority_group;      
    struct TC_TCB_STRUCT
                      **tc_priority_head;       
    DATA_ELEMENT       *tc_sub_priority_ptr;    
    DATA_ELEMENT        tc_sub_priority;        
    DATA_ELEMENT        tc_saved_status;        
    DATA_ELEMENT        tc_signal_active;       
    

    DATA_ELEMENT        tc_padding[ 1 ];


                                                
     void                 (*tc_entry)(UNSIGNED,  void  *);
    UNSIGNED            tc_argc;                
     void                *tc_argv;                
     void                 (*tc_cleanup) ( void  *); 
     void                *tc_cleanup_info;        
    struct TC_PROTECT_STRUCT
                       *tc_suspend_protect;     
                                                

     
    INT                 tc_timer_active;        
    TM_TCB              tc_timer_control;       

     
    
    UNSIGNED            tc_signals;             
    UNSIGNED            tc_enabled_signals;     
    
     

    
     
     void                 (*tc_signal_handler) (UNSIGNED);

     

    UNSIGNED            tc_system_reserved_1;   
    UNSIGNED            tc_system_reserved_2;   
    UNSIGNED            tc_system_reserved_3;   
    UNSIGNED            tc_app_reserved_1;      

} TC_TCB;    


 

typedef struct TC_HCB_STRUCT 
{
     


       
    CS_NODE             tc_created;             
                                                
    UNSIGNED            tc_id;                  
    CHAR                tc_name[ 8 ];   
    DATA_ELEMENT        tc_not_used_1;          
    DATA_ELEMENT        tc_not_used_2;          
    DATA_ELEMENT        tc_priority;            
    DATA_ELEMENT        tc_not_used_3;          
    UNSIGNED            tc_scheduled;           
    UNSIGNED            tc_cur_time_slice;      
     void                *tc_stack_start;         
     void                *tc_stack_end;           
     void                *tc_stack_pointer;       
    UNSIGNED            tc_stack_size;          
    UNSIGNED            tc_stack_minimum;       
    struct TC_PROTECT_STRUCT
                       *tc_current_protect;     
    struct TC_HCB_STRUCT
                       *tc_active_next;         
    
     


    UNSIGNED            tc_activation_count;    
     void                 (*tc_entry)( void );      

     

    UNSIGNED            tc_system_reserved_1;   
    UNSIGNED            tc_system_reserved_2;   
    UNSIGNED            tc_system_reserved_3;   
    UNSIGNED            tc_app_reserved_1;      

} TC_HCB;    


 

typedef struct TC_PROTECT_STRUCT
{
    TC_TCB             *tc_tcb_pointer;         
    UNSIGNED            tc_thread_waiting;      
} TC_PROTECT;




#line 117 "nucleus\inc\tm_defs.h"




#line 419 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





























































































































































#line 420 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\mb_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 67 "nucleus\inc\mb_defs.h"
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





























































































































































#line 68 "nucleus\inc\mb_defs.h"


 





 





 

typedef struct MB_MCB_STRUCT 
{
    CS_NODE             mb_created;             
                                                
    UNSIGNED            mb_id;                  
    CHAR                mb_name[ 8 ];   
    DATA_ELEMENT        mb_message_present;     
    DATA_ELEMENT        mb_fifo_suspend;        

    DATA_ELEMENT        mb_padding[ 2 ];

    UNSIGNED            mb_tasks_waiting;       
    UNSIGNED                                    
                        mb_message_area[ 4 ];
    struct MB_SUSPEND_STRUCT
                       *mb_suspension_list;     
} MB_MCB;    


 

   
typedef struct MB_SUSPEND_STRUCT
{
    CS_NODE             mb_suspend_link;        
    MB_MCB             *mb_mailbox;             
    TC_TCB             *mb_suspended_task;      
    UNSIGNED           *mb_message_area;        
    STATUS              mb_return_status;       
} MB_SUSPEND;




#line 421 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\qu_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 66 "nucleus\inc\qu_defs.h"
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





























































































































































#line 67 "nucleus\inc\qu_defs.h"


 





 




 

typedef struct QU_QCB_STRUCT 
{
    CS_NODE             qu_created;             
                                                
    UNSIGNED            qu_id;                  
    CHAR                qu_name[ 8 ];   
    DATA_ELEMENT        qu_fixed_size;          
    DATA_ELEMENT        qu_fifo_suspend;        

    DATA_ELEMENT        qu_padding[ 2 ];

    UNSIGNED            qu_queue_size;          
    UNSIGNED            qu_messages;            
    UNSIGNED            qu_message_size;        
    UNSIGNED            qu_available;           
    UNSIGNED_PTR        qu_start;               
    UNSIGNED_PTR        qu_end;                 
    UNSIGNED_PTR        qu_read;                
    UNSIGNED_PTR        qu_write;               
    UNSIGNED            qu_tasks_waiting;       
    struct QU_SUSPEND_STRUCT
                       *qu_urgent_list;         
    struct QU_SUSPEND_STRUCT
                       *qu_suspension_list;     
} QU_QCB;    


 

   
typedef struct QU_SUSPEND_STRUCT
{
    CS_NODE             qu_suspend_link;        
    QU_QCB             *qu_queue;               
    TC_TCB             *qu_suspended_task;      
    UNSIGNED_PTR        qu_message_area;        
    UNSIGNED            qu_message_size;        
    UNSIGNED            qu_actual_size;         
    STATUS              qu_return_status;       
} QU_SUSPEND;




#line 422 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\pi_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 66 "nucleus\inc\pi_defs.h"
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





























































































































































#line 67 "nucleus\inc\pi_defs.h"


 





 




 

typedef struct PI_PCB_STRUCT 
{
    CS_NODE             pi_created;             
                                                
    UNSIGNED            pi_id;                  
    CHAR                pi_name[ 8 ];   
    DATA_ELEMENT        pi_fixed_size;          
    DATA_ELEMENT        pi_fifo_suspend;        

    DATA_ELEMENT        pi_padding[ 2 ];

    UNSIGNED            pi_pipe_size;           
    UNSIGNED            pi_messages;            
    UNSIGNED            pi_message_size;        
    UNSIGNED            pi_available;           
    BYTE_PTR            pi_start;               
    BYTE_PTR            pi_end;                 
    BYTE_PTR            pi_read;                
    BYTE_PTR            pi_write;               
    UNSIGNED            pi_tasks_waiting;       
    struct PI_SUSPEND_STRUCT
                       *pi_urgent_list;         
    struct PI_SUSPEND_STRUCT
                       *pi_suspension_list;     
} PI_PCB;    


 

   
typedef struct PI_SUSPEND_STRUCT
{
    CS_NODE             pi_suspend_link;        
    PI_PCB             *pi_pipe;                
    TC_TCB             *pi_suspended_task;      
    BYTE_PTR            pi_message_area;        
    UNSIGNED            pi_message_size;        
    UNSIGNED            pi_actual_size;         
    STATUS              pi_return_status;       
} PI_SUSPEND;




#line 423 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\sm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 66 "nucleus\inc\sm_defs.h"
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





























































































































































#line 67 "nucleus\inc\sm_defs.h"


 





 




 

typedef struct SM_SCB_STRUCT 
{
    CS_NODE             sm_created;             
                                                
    UNSIGNED            sm_id;                  
    CHAR                sm_name[ 8 ];   
    UNSIGNED            sm_semaphore_count;     
    DATA_ELEMENT        sm_fifo_suspend;        

    DATA_ELEMENT        sm_padding[ 3 ];

    UNSIGNED            sm_tasks_waiting;       
    struct SM_SUSPEND_STRUCT
                       *sm_suspension_list;     
} SM_SCB;    


 

   
typedef struct SM_SUSPEND_STRUCT
{
    CS_NODE             sm_suspend_link;        
    SM_SCB             *sm_semaphore;           
    TC_TCB             *sm_suspended_task;      
    STATUS              sm_return_status;       
} SM_SUSPEND;




#line 424 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\ev_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 66 "nucleus\inc\ev_defs.h"
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





























































































































































#line 67 "nucleus\inc\ev_defs.h"


 





 






 

typedef struct EV_GCB_STRUCT 
{
    CS_NODE             ev_created;             
                                                
    UNSIGNED            ev_id;                  
    CHAR                ev_name[ 8 ];   
    UNSIGNED            ev_current_events;      
    UNSIGNED            ev_tasks_waiting;       
    struct EV_SUSPEND_STRUCT
                       *ev_suspension_list;     
} EV_GCB;    


 

   
typedef struct EV_SUSPEND_STRUCT
{
    CS_NODE             ev_suspend_link;        
    EV_GCB             *ev_event_group;         
    UNSIGNED            ev_requested_events;    
    DATA_ELEMENT        ev_operation;           

    DATA_ELEMENT        ev_padding[ 3 ];

    TC_TCB             *ev_suspended_task;      
    STATUS              ev_return_status;       
    UNSIGNED            ev_actual_events;       
} EV_SUSPEND;




#line 425 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\pm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 67 "nucleus\inc\pm_defs.h"
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





























































































































































#line 68 "nucleus\inc\pm_defs.h"


 





 







 

typedef struct PM_PCB_STRUCT 
{
    CS_NODE             pm_created;             
                                                
    UNSIGNED            pm_id;                  
    CHAR                pm_name[ 8 ];   
     void                *pm_start_address;       
    UNSIGNED            pm_pool_size;           
    UNSIGNED            pm_partition_size;      
    UNSIGNED            pm_available;           
    UNSIGNED            pm_allocated;           
    struct PM_HEADER_STRUCT    
                       *pm_available_list;      
    DATA_ELEMENT        pm_fifo_suspend;        

    DATA_ELEMENT        pm_padding[ 3 ];

    UNSIGNED            pm_tasks_waiting;       
    struct PM_SUSPEND_STRUCT
                       *pm_suspension_list;     
} PM_PCB;    


 

typedef struct PM_HEADER_STRUCT
{
    struct PM_HEADER_STRUCT
                       *pm_next_available;      
                                                
    PM_PCB             *pm_partition_pool;      
} PM_HEADER;


 

   
typedef struct PM_SUSPEND_STRUCT
{
    CS_NODE             pm_suspend_link;        
    PM_PCB             *pm_partition_pool;      
    TC_TCB             *pm_suspended_task;      
     void                *pm_return_pointer;      
    STATUS              pm_return_status;       
} PM_SUSPEND;




#line 426 "nucleus\inc\Nucleus.h"
#line 1 "nucleus\inc\dm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 70 "nucleus\inc\dm_defs.h"
#line 1 "nucleus\inc\tc_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 72 "nucleus\inc\tc_defs.h"
#line 1 "nucleus\inc\tm_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\cs_defs.h"
 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

#line 1 "nucleus\inc\nucleus.h"
#line 66 "nucleus\inc\cs_defs.h"



 






















#line 65 "nucleus\inc\tm_defs.h"


 





















































#line 73 "nucleus\inc\tc_defs.h"


 





























































































































































#line 71 "nucleus\inc\dm_defs.h"


 





 







 

typedef struct DM_PCB_STRUCT 
{
    CS_NODE             dm_created;             
                                                
    TC_PROTECT          dm_protect;             
    UNSIGNED            dm_id;                  
    CHAR                dm_name[ 8 ];   
     void                *dm_start_address;       
    UNSIGNED            dm_pool_size;           
    UNSIGNED            dm_min_allocation;      
    UNSIGNED            dm_available;           
    struct DM_HEADER_STRUCT    
                       *dm_memory_list;         
    struct DM_HEADER_STRUCT
                       *dm_search_ptr;          
    DATA_ELEMENT        dm_fifo_suspend;        

    DATA_ELEMENT        dm_padding[ 3 ];

    UNSIGNED            dm_tasks_waiting;       
    struct DM_SUSPEND_STRUCT
                       *dm_suspension_list;     
} DM_PCB;    


 

typedef struct DM_HEADER_STRUCT
{
    struct DM_HEADER_STRUCT
                       *dm_next_memory,         
                       *dm_previous_memory;     
    DATA_ELEMENT        dm_memory_free;         

    DATA_ELEMENT        dm_padding[ 3 ];

    DM_PCB             *dm_memory_pool;         
} DM_HEADER;


 

   
typedef struct DM_SUSPEND_STRUCT
{
    CS_NODE             dm_suspend_link;        
    DM_PCB             *dm_memory_pool;         
    UNSIGNED            dm_request_size;        
    TC_TCB             *dm_suspended_task;      
     void                *dm_return_pointer;      
    STATUS              dm_return_status;       
} DM_SUSPEND;




#line 427 "nucleus\inc\Nucleus.h"













 

typedef TC_TCB      NU_TASK;













 

typedef TC_HCB      NU_HISR;













 

typedef MB_MCB      NU_MAILBOX;


 










 

typedef QU_QCB      NU_QUEUE;













 

typedef PI_PCB      NU_PIPE;













 

typedef SM_SCB      NU_SEMAPHORE;













 

typedef EV_GCB      NU_EVENT_GROUP;













 

typedef PM_PCB      NU_PARTITION_POOL;













 

typedef DM_PCB      NU_MEMORY_POOL;













 

typedef TM_APP_TCB      NU_TIMER;













 

typedef TC_PROTECT      NU_PROTECT;




 

struct NU_INITIALIZE_STRUCT
{
     void        *nu_io_address;               
    UNSIGNED    nu_logical_units;            
     void        *nu_memory;                   
    INT         nu_vector;                   
};

struct NU_ASSIGN_STRUCT
{
    UNSIGNED    nu_logical_unit;             
    INT         nu_assign_info;              
};

struct NU_RELEASE_STRUCT
{
    UNSIGNED    nu_logical_unit;             
    INT         nu_release_info;             
};

struct NU_INPUT_STRUCT
{
    UNSIGNED    nu_logical_unit;             
    UNSIGNED    nu_offset;                   
    UNSIGNED    nu_request_size;             
    UNSIGNED    nu_actual_size;              
     void        *nu_buffer_ptr;               
};

struct NU_OUTPUT_STRUCT
{
    UNSIGNED    nu_logical_unit;             
    UNSIGNED    nu_offset;                   
    UNSIGNED    nu_request_size;             
    UNSIGNED    nu_actual_size;              
     void        *nu_buffer_ptr;               
};

struct NU_STATUS_STRUCT
{
    UNSIGNED    nu_logical_unit;             
     void        *nu_extra_status;             
};

struct NU_TERMINATE_STRUCT
{
    UNSIGNED    nu_logical_unit;             
};


typedef struct NU_DRIVER_REQUEST_STRUCT
{
    INT         nu_function;                 
    UNSIGNED    nu_timeout;                  
    STATUS      nu_status;                   
    UNSIGNED    nu_supplemental;             
     void        *nu_supplemental_ptr;         
    
     
    union NU_REQUEST_INFO_UNION
    {
        struct NU_INITIALIZE_STRUCT     nu_initialize;
        struct NU_ASSIGN_STRUCT         nu_assign;
        struct NU_RELEASE_STRUCT        nu_release;
        struct NU_INPUT_STRUCT          nu_input;
        struct NU_OUTPUT_STRUCT         nu_output;
        struct NU_STATUS_STRUCT         nu_status;
        struct NU_TERMINATE_STRUCT      nu_terminate;
    } nu_request_info;
    
} NU_DRIVER_REQUEST;

typedef struct NU_DRIVER_STRUCT
{
    UNSIGNED       words[ 3 ];       
    CHAR           nu_driver_name[ 8 ];
     void           *nu_info_ptr;
    UNSIGNED       nu_driver_id;
     void            (*nu_driver_entry)(struct NU_DRIVER_STRUCT *,
                                                NU_DRIVER_REQUEST *);
} NU_DRIVER;



 

 void             Application_Initialize( void  *first_available_memory);


 



 












































































































































































































































 

STATUS           TCCE_Create_Task (NU_TASK *task, CHAR *name, 
                         void  (*task_entry)(UNSIGNED,  void  *), UNSIGNED argc,
                         void  *argv,  void  *stack_address, UNSIGNED stack_size,
                        OPTION priority, UNSIGNED time_slice, 
                        OPTION preempt, OPTION auto_start);
STATUS           TCCE_Delete_Task (NU_TASK *task);
STATUS           TCCE_Reset_Task (NU_TASK *task, UNSIGNED argc,  void  *argv);
STATUS           TCCE_Terminate_Task (NU_TASK *task);
STATUS           TCCE_Resume_Service (NU_TASK *task);
STATUS           TCCE_Suspend_Service (NU_TASK *task);
 void              TCCE_Relinquish ( void );
 void              TCCE_Task_Sleep (UNSIGNED ticks);
OPTION           TCSE_Change_Priority (NU_TASK *task, OPTION new_priority);
OPTION           TCSE_Change_Preemption (OPTION preempt);
UNSIGNED         TCSE_Change_Time_Slice (NU_TASK *task, UNSIGNED time_slice);
UNSIGNED         TCT_Check_Stack ( void );
NU_TASK        * TCC_Current_Task_Pointer ( void );
UNSIGNED         TCF_Established_Tasks ( void );
STATUS           TCF_Task_Information (NU_TASK *task, CHAR *name, 
                        DATA_ELEMENT *status, UNSIGNED *scheduled_count,
                        OPTION *priority, OPTION *preempt,
                        UNSIGNED *time_slice,  void  **stack_base,
                        UNSIGNED *stack_size, UNSIGNED *minimum_stack);
UNSIGNED         TCF_Task_Pointers (NU_TASK **pointer_list, 
                                                UNSIGNED maximum_pointers);

 

STATUS           MBCE_Create_Mailbox (NU_MAILBOX *mailbox, CHAR *name, 
                                                OPTION suspend_type);
STATUS           MBCE_Delete_Mailbox (NU_MAILBOX *mailbox);
STATUS           MBSE_Reset_Mailbox (NU_MAILBOX *mailbox);
STATUS           MBCE_Send_To_Mailbox (NU_MAILBOX *mailbox,  void  *message, 
                                                        UNSIGNED suspend);
STATUS           MBSE_Broadcast_To_Mailbox (NU_MAILBOX *mailbox,  void  *message,
                                                        UNSIGNED suspend);
STATUS           MBCE_Receive_From_Mailbox (NU_MAILBOX *mailbox,  void  *message,
                                                        UNSIGNED suspend);
UNSIGNED         MBF_Established_Mailboxes ( void );
STATUS           MBF_Mailbox_Information (NU_MAILBOX *mailbox, CHAR *name, 
                  OPTION *suspend_type, OPTION *message_present,
                  UNSIGNED *tasks_waiting, NU_TASK **first_task);
UNSIGNED         MBF_Mailbox_Pointers (NU_MAILBOX **pointer_list,
                                                UNSIGNED maximum_pointers);

 

STATUS           QUCE_Create_Queue (NU_QUEUE *queue, CHAR *name, 
                       void  *start_address, UNSIGNED queue_size, 
                      OPTION message_type, UNSIGNED message_size,
                      OPTION suspend_type);
STATUS           QUCE_Delete_Queue (NU_QUEUE *queue);
STATUS           QUSE_Reset_Queue (NU_QUEUE *queue);
STATUS           QUSE_Send_To_Front_Of_Queue (NU_QUEUE *queue,  void  *message, 
                                        UNSIGNED size, UNSIGNED suspend);
STATUS           QUCE_Send_To_Queue (NU_QUEUE *queue,  void  *message, 
                                        UNSIGNED size, UNSIGNED suspend);
STATUS           QUSE_Broadcast_To_Queue (NU_QUEUE *queue,  void  *message, 
                                        UNSIGNED size, UNSIGNED suspend);
STATUS           QUCE_Receive_From_Queue (NU_QUEUE *queue,  void  *message,
                      UNSIGNED size, UNSIGNED *actual_size, UNSIGNED suspend);
UNSIGNED         QUF_Established_Queues ( void );
STATUS           QUF_Queue_Information (NU_QUEUE *queue, CHAR *name, 
                   void  **start_address, UNSIGNED *queue_size, 
                  UNSIGNED *available, UNSIGNED *messages, 
                  OPTION *message_type, UNSIGNED *message_size,
                  OPTION *suspend_type, UNSIGNED *tasks_waiting,
                  NU_TASK **first_task);
UNSIGNED         QUF_Queue_Pointers (NU_QUEUE **pointer_list, 
                                                UNSIGNED maximum_pointers);

 

STATUS           PICE_Create_Pipe (NU_PIPE *pipe, CHAR *name, 
                       void  *start_address, UNSIGNED pipe_size, 
                      OPTION message_type, UNSIGNED message_size,
                      OPTION suspend_type);
STATUS           PICE_Delete_Pipe (NU_PIPE *pipe);
STATUS           PISE_Reset_Pipe (NU_PIPE *pipe);
STATUS           PISE_Send_To_Front_Of_Pipe (NU_PIPE *pipe,  void  *message, 
                                        UNSIGNED size, UNSIGNED suspend);
STATUS           PICE_Send_To_Pipe (NU_PIPE *pipe,  void  *message, 
                                        UNSIGNED size, UNSIGNED suspend);
STATUS           PISE_Broadcast_To_Pipe (NU_PIPE *pipe,  void  *message, 
                                        UNSIGNED size, UNSIGNED suspend);
STATUS           PICE_Receive_From_Pipe (NU_PIPE *pipe,  void  *message,
                      UNSIGNED size, UNSIGNED *actual_size, UNSIGNED suspend);
UNSIGNED         PIF_Established_Pipes ( void );
STATUS           PIF_Pipe_Information (NU_PIPE *pipe, CHAR *name, 
                   void  **start_address, UNSIGNED *pipe_size, 
                  UNSIGNED *available, UNSIGNED *messages, 
                  OPTION *message_type, UNSIGNED *message_size,
                  OPTION *suspend_type, UNSIGNED *tasks_waiting,
                  NU_TASK **first_task);
UNSIGNED         PIF_Pipe_Pointers (NU_PIPE **pointer_list, 
                                                UNSIGNED maximum_pointers);

 

STATUS           SMCE_Create_Semaphore (NU_SEMAPHORE *semaphore, CHAR *name, 
                        UNSIGNED initial_count, OPTION suspend_type);
STATUS           SMCE_Delete_Semaphore (NU_SEMAPHORE *semaphore);
STATUS           SMSE_Reset_Semaphore (NU_SEMAPHORE *semaphore, 
                                        UNSIGNED initial_count);
STATUS           SMCE_Obtain_Semaphore (NU_SEMAPHORE *semaphore, UNSIGNED suspend);
STATUS           SMCE_Release_Semaphore (NU_SEMAPHORE *semaphore);
UNSIGNED         SMF_Established_Semaphores ( void );
STATUS           SMF_Semaphore_Information (NU_SEMAPHORE *semaphore, CHAR *name, 
                  UNSIGNED *current_count, OPTION *suspend_type, 
                  UNSIGNED *tasks_waiting, NU_TASK **first_task);
UNSIGNED         SMF_Semaphore_Pointers (NU_SEMAPHORE **pointer_list, 
                                                UNSIGNED maximum_pointers);
                                                
 

STATUS           EVCE_Create_Event_Group (NU_EVENT_GROUP *group, CHAR *name);
STATUS           EVCE_Delete_Event_Group (NU_EVENT_GROUP *group);
STATUS           EVCE_Set_Events (NU_EVENT_GROUP *group, UNSIGNED events, 
                                                OPTION operation);
STATUS           EVCE_Retrieve_Events (NU_EVENT_GROUP *group, 
                        UNSIGNED requested_flags, OPTION operation, 
                        UNSIGNED *retrieved_flags, UNSIGNED suspend);
UNSIGNED         EVF_Established_Event_Groups ( void );
STATUS           EVF_Event_Group_Information (NU_EVENT_GROUP *group, CHAR *name, 
                  UNSIGNED *event_flags, UNSIGNED *tasks_waiting, 
                  NU_TASK **first_task);
UNSIGNED         EVF_Event_Group_Pointers (NU_EVENT_GROUP **pointer_list, 
                                                UNSIGNED maximum_pointers);

 

UNSIGNED         TCSE_Control_Signals (UNSIGNED signal_enable_mask);
UNSIGNED         TCSE_Receive_Signals ( void );
STATUS           TCSE_Register_Signal_Handler ( void  (*signal_handler)(UNSIGNED));
STATUS           TCSE_Send_Signals (NU_TASK *task, UNSIGNED signals);

 
                                                
STATUS           PMCE_Create_Partition_Pool (NU_PARTITION_POOL *pool, CHAR *name, 
                         void  *start_address, UNSIGNED pool_size,
                        UNSIGNED partition_size, OPTION suspend_type);
STATUS           PMCE_Delete_Partition_Pool (NU_PARTITION_POOL *pool);
STATUS           PMCE_Allocate_Partition (NU_PARTITION_POOL *pool, 
                                 void  **return_pointer, UNSIGNED suspend);
STATUS           PMCE_Deallocate_Partition ( void  *partition);
UNSIGNED         PMF_Established_Partition_Pools ( void );
STATUS           PMF_Partition_Pool_Information (NU_PARTITION_POOL *pool, 
                        CHAR *name, 
                   void  **start_address, UNSIGNED *pool_size,
                  UNSIGNED *partition_size, UNSIGNED *available,
                  UNSIGNED *allocated, OPTION *suspend_type, 
                  UNSIGNED *tasks_waiting, NU_TASK **first_task);
UNSIGNED         PMF_Partition_Pool_Pointers (NU_PARTITION_POOL **pointer_list, 
                                                UNSIGNED maximum_pointers);

 

STATUS           DMCE_Create_Memory_Pool (NU_MEMORY_POOL *pool, CHAR *name, 
                         void  *start_address, UNSIGNED pool_size,
                        UNSIGNED min_allocation, OPTION suspend_type);
STATUS           DMCE_Delete_Memory_Pool (NU_MEMORY_POOL *pool);
STATUS           DMCE_Allocate_Memory (NU_MEMORY_POOL *pool,  void  **return_pointer,
                                UNSIGNED size, UNSIGNED suspend);
STATUS           DMCE_Deallocate_Memory ( void  *memory);
UNSIGNED         DMF_Established_Memory_Pools ( void );
STATUS           DMF_Memory_Pool_Information (NU_MEMORY_POOL *pool, CHAR *name, 
                   void  **start_address, UNSIGNED *pool_size,
                  UNSIGNED *min_allocation, UNSIGNED *available,
                  OPTION *suspend_type, UNSIGNED *tasks_waiting, 
                  NU_TASK **first_task);
UNSIGNED         DMF_Memory_Pool_Pointers (NU_MEMORY_POOL **pointer_list, 
                                                UNSIGNED maximum_pointers);

 

INT              TCT_Control_Interrupts (INT new_level);
INT              TCT_Local_Control_Interrupts (INT new_level);
 void              TCT_Restore_Interrupts ( void );
 void            * INT_Setup_Vector (INT vector,  void  *new_vector);
STATUS           TCC_Register_LISR (INT vector, 
                                 void  (*new_lisr)(INT),
                                         void  (**old_lisr)(INT));
STATUS           TCCE_Activate_HISR (NU_HISR *hisr);
STATUS           TCCE_Create_HISR (NU_HISR *hisr, CHAR *name,
                         void  (*hisr_entry)( void ), OPTION priority,
                         void  *stack_address, UNSIGNED stack_size);
STATUS           TCCE_Delete_HISR (NU_HISR *hisr);
NU_HISR        * TCC_Current_HISR_Pointer ( void );
UNSIGNED         TCF_Established_HISRs ( void );
STATUS           TCF_HISR_Information (NU_HISR *hisr, CHAR *name,
                        UNSIGNED *scheduled_count, DATA_ELEMENT *priority,
                         void  **stack_base, UNSIGNED *stack_size,
                        UNSIGNED *minimum_stack);
UNSIGNED         TCF_HISR_Pointers (NU_HISR **pointer_list,
                                                UNSIGNED maximum_pointers);
 void              TCT_Protect (NU_PROTECT *protect_struct);
 void              TCT_Unprotect ( void );

 

STATUS           TMSE_Create_Timer (NU_TIMER *timer, CHAR *name, 
                         void  (*expiration_routine)(UNSIGNED), UNSIGNED id,
                        UNSIGNED initial_time, UNSIGNED reschedule_time,
                        OPTION enable);
STATUS           TMSE_Delete_Timer (NU_TIMER *timer);
STATUS           TMSE_Reset_Timer (NU_TIMER *timer, 
                         void  (*expiration_routine)(UNSIGNED), 
                        UNSIGNED initial_time, UNSIGNED reschedule_timer,
                        OPTION enable);
STATUS           TMSE_Control_Timer (NU_TIMER *timer, OPTION enable);
UNSIGNED         TMF_Established_Timers ( void );
STATUS           TMF_Timer_Information (NU_TIMER *timer, CHAR *name, 
                  OPTION *enable, UNSIGNED *expirations, UNSIGNED *id,
                  UNSIGNED *initial_time, UNSIGNED *reschedule_time);
UNSIGNED         TMF_Timer_Pointers (NU_TIMER **pointer_list, 
                                                UNSIGNED maximum_pointers);
 void              TMT_Set_Clock (UNSIGNED new_value);
UNSIGNED         TMT_Retrieve_Clock ( void );

 

CHAR           * RLC_Release_Information ( void );
CHAR           * LIC_License_Information ( void );
 void              HIC_Disable_History_Saving ( void );
 void              HIC_Enable_History_Saving ( void );
 void              HIC_Make_History_Entry_Service (UNSIGNED param1, UNSIGNED param2,
                                                UNSIGNED param3);
STATUS           HIC_Retrieve_History_Entry (DATA_ELEMENT *id, 
                        UNSIGNED *param1, UNSIGNED *param2, UNSIGNED *param3,
                        UNSIGNED *time, NU_TASK **task, NU_HISR **hisr);

 

STATUS           IOCE_Create_Driver (NU_DRIVER *driver, CHAR *name, 
                     void  (*driver_entry)(NU_DRIVER *, NU_DRIVER_REQUEST *));
STATUS           IOCE_Delete_Driver (NU_DRIVER *driver);
STATUS           IOCE_Request_Driver (NU_DRIVER *driver, 
                                                NU_DRIVER_REQUEST *request);
STATUS           IOCE_Resume_Driver (NU_TASK *task);
STATUS           IOCE_Suspend_Driver ( void  (*terminate_routine)( void  *),
                                         void  *information, UNSIGNED timeout);
UNSIGNED         IOF_Established_Drivers ( void );
UNSIGNED         IOF_Driver_Pointers (NU_DRIVER **pointer_list, 
                                                UNSIGNED maximum_pointers);









#line 383 "kal\include\kal_release.h"






#line 1 "config\include\stack_config.h"
 


































 






































































































































































































































































































































































































































































































































 










 





 





















 


typedef enum {
   INDX_NIL =   0x00,

    
   INDX_NVRAM,


   INDX_TST,
   INDX_TST_READER,


























    
   INDX_MM,
   INDX_CC,
   INDX_CISS,
   INDX_SMS,
   INDX_SIM,

   INDX_SIM_2,

   INDX_L4,
   INDX_RR,
   INDX_REASM,

    
   INDX_LLC,
   INDX_SNDCP,
   INDX_SM,

    
   INDX_DATA,

    
   INDX_MED,

    







    
   INDX_MMI,














   INDX_L1,

   INDX_L1_2,

   INDX_L1SP,
   INDX_IDLE,

   INDX_TP_TASK,





   INDX_DRVKBD,
   INDX_BMT,


   INDX_AUX,


    
   INDX_IRDA,
   INDX_OBEX,
   INDX_IRCOMM,

   INDX_USB,


   INDX_FMT,



   INDX_MED_V,







   INDX_SYSDEBUG,


   INDX_FLC,


   INDX_ABM,

   INDX_PPP,

   INDX_TCPIP,

   INDX_SOC,

   INDX_WAP,

   INDX_WPS,

   INDX_J2ME,
   INDX_JASYN,

   INDX_EMAIL,






   INDX_DT,



   INDX_GDC,
   INDX_GDD,


   INDX_IMPS,
   
   INDX_SIP,
   
   INDX_POC,

   INDX_BT,

   INDX_XDM,

   INDX_WNDRV,

   INDX_SUPC,

   INDX_DHCP,

   INDX_TFTP,

   INDX_SAF,

   INDX_VOIP,






   INDX_MED_C,


   INDX_IDLER,

   INDX_SYNCML, 

















   INDX_RTSP,

   INDX_DM,





   INDX_TDMB,













   INDX_CERTMAN,

   INDX_TLS,





   RPS_CUSTOM_TASKS_BEGIN,

   RPS_TOTAL_STACK_TASKS = (RPS_CUSTOM_TASKS_BEGIN - 1 +  16 )
} task_indx_type;

 


 


























     

 

























 










 












































































































































 













 


typedef enum {
    
   MOD_NIL = 0,

   MOD_NVRAM,

   MOD_TST,
   MOD_TST_READER,




























































   MOD_ATCI,

    
    
   MOD_MM,

   MOD_MM_2,

   MOD_CC,

   MOD_CC_2,

   MOD_CISS,

   MOD_CISS_2,

   MOD_SMS,

   MOD_SMS_2,

   MOD_SIM,

   MOD_SIM_2,


    
   MOD_L4C,

   MOD_L4C_2,

   MOD_TCM,

   MOD_TCM_2,

   MOD_SMSAL,

   MOD_SMSAL_2,

   MOD_UEM,
   MOD_RAC,

   MOD_RAC_2,

   MOD_SMU,

   MOD_SMU_2,

   MOD_USAT,
   MOD_CSM,

   MOD_CSM_2,

   MOD_ENG,

   MOD_ENG_2,

   MOD_PHB,

   MOD_PHB_2,


    
   MOD_RRM,

   MOD_RRM_2,






   MOD_AS,

   MOD_AS_2,

   MOD_RMPC = MOD_AS,

   MOD_RMPC_2 = MOD_AS_2,

   MOD_RMC,

   MOD_RMC_2,


   MOD_RLC,

   MOD_RLC_2,

   MOD_MAC,

   MOD_MAC_2,

   MOD_LAPDM,

   MOD_LAPDM_2,

   MOD_MPAL,

   MOD_MPAL_2,








   MOD_REASM,

   MOD_REASM_2,


    
   MOD_SNDCP,

   MOD_SNDCP_2,

   MOD_SM,

   MOD_SM_2,

   MOD_LLC,

   MOD_LLC_2,


    
   MOD_TDT,

   MOD_TDT_2,

   MOD_RLP,

   MOD_RLP_2,

   MOD_L2R,

   MOD_L2R_2,

   MOD_T30,

   MOD_T30_2,

   MOD_FA,

   MOD_FA_2,


    
   MOD_MED,
   MOD_AUD=MOD_MED,


   MOD_MED_V,











   MOD_MMI,

   MOD_L1,

   MOD_L1_2,

   MOD_L1HISR,
   MOD_L1SP,
   MOD_L1SPHISR,





   MOD_IDLE,

   MOD_TP_TASK,





   MOD_DRVKBD,
   MOD_BMT,

   MOD_AUX,


   MOD_OBEX,
   MOD_IRCOMM,
   MOD_LAP, 
   MOD_LMP,
   MOD_TTP,
   MOD_IRDA_HISR,

   MOD_USB,


   MOD_FMT, 


   MOD_DRV_HISR,

   MOD_EINT_HISR,

   MOD_UART1_HISR,
   MOD_UART2_HISR,
   MOD_UART3_HISR,

   MOD_KEYPAD_HISR,
   MOD_GPT_HISR,
   MOD_RTC_HISR,
   MOD_VISUAL_HISR,

   MOD_USB_HISR,

   MOD_JPEG_HISR,
   MOD_RESIZER_HISR,

   MOD_MSDC_HISR,


   MOD_ISP_HISR,











   MOD_TIMER,
   MOD_SYSTEM,
   MOD_SYSDEBUG,


   MOD_FLC,


   MOD_ABM,

   MOD_PPP,

   MOD_TCPIP,

   MOD_SOC,

   MOD_WAP,

   MOD_WPS,

   MOD_J2ME,
   MOD_JASYN,
   
   MOD_EMAIL,







   MOD_DT,



   MOD_GDC,
   MOD_GDD,


   MOD_IMPS,
   
   MOD_SIP,   
   MOD_POC,

   MOD_BT,

   MOD_XDM,

   MOD_WNDRV,
   MOD_WNDRV_HISR,
   MOD_SUPC,

   MOD_DHCP,
   MOD_TFTP,
   MOD_SAF,
   MOD_VOIP,

   MOD_IDLER,






   MOD_MED_C,


   MOD_SYNCML,

















   MOD_RTSP,
   MOD_DM,





   MOD_TDMB,













   MOD_CERTMAN,

   MOD_TLS,






   MOD_CUSTOM_BEGIN,
   LAST_MOD_ID = (MOD_CUSTOM_BEGIN - 1 +  16 ),

    
   MOD_LIBRARY_BEGIN,

   MOD_SST_COMMON,
   MOD_SST_INIT,
   MOD_SST_TASK,
   MOD_SST_ITC,
   MOD_SST_TIMER,
   MOD_SST_MEM,
   MOD_SST_BUFF,
   MOD_SST_MISC,
   MOD_EMS,
   MOD_DP_ENGINE,
   MOD_SDP,
   MOD_SSL,
   MOD_MMI_FW,
   MOD_MMI_COMMON_APP,
   MOD_MMI_MEDIA_APP,
   MOD_MMI_CONN_APP,
   MOD_MMI_INET_APP,

   END_OF_MOD_ID
} module_type;

 


 














#line 390 "kal\include\kal_release.h"
#line 1 "kal\include\kal_non_specific_general_types.h"
 


































 











































































































 










 


typedef unsigned char           kal_uint8;
typedef signed char             kal_int8;
typedef char                    kal_char;
typedef unsigned short          kal_wchar;

typedef unsigned short int      kal_uint16;
typedef signed short int        kal_int16;

typedef unsigned int            kal_uint32;
typedef signed int              kal_int32;







   typedef unsigned long long   kal_uint64;
   typedef signed long long     kal_int64;







   typedef int kal_jmpbuf[32];


typedef enum 
{
  KAL_FALSE,
  KAL_TRUE
} kal_bool;

typedef void (*kal_func_ptr)(void);

 









































#line 391 "kal\include\kal_release.h"


#line 1 "init\include\task_main_func.h"
 


































 






































 










 


typedef struct task_entry_struct
{
   task_indx_type task_indx;
} task_entry_struct;

 


extern void stack_generic_layer_task( task_entry_struct *task_entry_ptr);



#line 394 "kal\include\kal_release.h"


#line 1 "kal\common\include\kal_common_defs.h"
 


































 
























































































































































 










 




 


typedef enum {
    KAL_NO_WAIT,
    KAL_INFINITE_WAIT
} kal_wait_mode;

typedef enum {
    KAL_SUCCESS,
    KAL_ERROR,
    KAL_Q_FULL,
    KAL_Q_EMPTY,
    KAL_SEM_NOT_AVAILABLE,
    KAL_WOULD_BLOCK,
    KAL_MESSAGE_TOO_BIG,
    KAL_INVALID_ID,
    KAL_NOT_INITIALIZED,
    KAL_INVALID_LENGHT,
    KAL_NULL_ADDRESS,
    KAL_NOT_RECEIVE,
    KAL_NOT_SEND,
    KAL_MEMORY_NOT_VALID,
    KAL_NOT_PRESENT,
    KAL_MEMORY_NOT_RELEASE
} kal_status;

typedef enum {
    KAL_SEM_GIVEN,
    KAL_SEM_TAKEN
} kal_sem_state;

typedef enum {
    KAL_MUTEX_GIVEN,
    KAL_MUTEX_TAKEN
} kal_mutex_state;

typedef enum {
     
    KAL_ERROR_KAL_INTERNAL_FAIL                     = 0,

    KAL_ERROR_KAL_SUB_ERROR_CODE1                   = 1,
    KAL_ERROR_KAL_SUB_ERROR_CODE2                   = 2,
    KAL_ERROR_KAL_SUB_ERROR_CODE3                   = 3,
    KAL_ERROR_KAL_SUB_ERROR_CODE4                   = 4,
    KAL_ERROR_KAL_SUB_ERROR_CODE5                   = 5,
    KAL_ERROR_KAL_SUB_ERROR_CODE6                   = 6,
    KAL_ERROR_KAL_SUB_ERROR_CODE7                   = 7,
    KAL_ERROR_KAL_SUB_ERROR_CODE8                   = 8,

     
    KAL_ERROR_KALINIT_INIT_FAILED                   = 0x0101,
    KAL_ERROR_KALINIT_INIT_CREATE_SEM_FAILED,
    KAL_ERROR_KALINIT_INIT_CREATE_QU_MUTEX_FAILED,
    KAL_ERROR_KALINIT_INIT_CREATE_POOL_MUTEX_FAILED,
    KAL_ERROR_KALINIT_INIT_CREATE_TIMER_MUTEX_FAILED,
    KAL_ERROR_KALINIT_INIT_CREATE_MEM_MUTEX_FAILED,
    KAL_ERROR_KALINIT_INIT_MEMFAILED,
    KAL_ERROR_KALINIT_MEMINIT_FAILED,
    KAL_ERROR_KALINIT_CACHEINIT_FAILED,
    KAL_ERROR_KALINIT_CRCCHECK_FAILED,

     
    KAL_ERROR_TASKMNGT_CREATE_MEMFAILED             = 0x0201,
    KAL_ERROR_TASKMNGT_CREATE_STACKFAILED,
    KAL_ERROR_TASKMNGT_CREATE_FAILED,
    KAL_ERROR_TASKMNGT_DELETE_FAILED,
    KAL_ERROR_TASKMNGT_SLEEP_FAILED,
    KAL_ERROR_TASKMNGT_GETID_FAILED,
    KAL_ERROR_TASKMNGT_STACKOVERFLOW,

     
    KAL_ERROR_HISRMNGT_CREATE_MEMFAILED             = 0x0211,
    KAL_ERROR_HISRMNGT_CREATE_STACKFAILED,
    KAL_ERROR_HISRMNGT_CREATE_FAILED,
    KAL_ERROR_HISRMNGT_DELETE_FAILED,
    KAL_ERROR_HISRMNGT_SLEEP_FAILED,
    KAL_ERROR_HISRMNGT_ACTIVATE_FAILED,
    KAL_ERROR_HISRMNGT_GETID_FAILED,
    KAL_ERROR_HISRMNGT_STACKOVERFLOW,
    KAL_HISRMNGT_REG_FAILED,

     
    KAL_ERROR_ITC_QCREATE_MEMFAILED                 = 0x0301,
    KAL_ERROR_ITC_QCREATE_DATAMEMFAILED,
    KAL_ERROR_ITC_QCREATE_FAILED,    
    KAL_ERROR_ITC_QCREATE_FAILED_INT,
    KAL_ERROR_ITC_QDELETE_FAILED = KAL_ERROR_ITC_QCREATE_FAILED_INT,
    KAL_ERROR_ITC_QENQUE_FAILED,
    KAL_ERROR_ITC_QENQUE_MEMFAILED,
    KAL_ERROR_ITC_QDEQUE_FAILED,

    KAL_ERROR_ITC_MCREATE_MEMFAILED                 = 0x0401,
    KAL_ERROR_ITC_MDELETE_FAILED,
    KAL_ERROR_ITC_MCREATE_FAILED,
    KAL_ERROR_ITC_MTAKE_FAILED,
    KAL_ERROR_ITC_MGIVE_FAILED,
    KAL_ERROR_ITC_MTAKE_INTERNAL_FAILED,
    KAL_ERROR_ITC_MGIVE_INTERNAL_FAILED,

    KAL_ERROR_ITC_SCREATE_MEMFAILED                 = 0x0411,
    KAL_ERROR_ITC_SDELETE_FAILED,
    KAL_ERROR_ITC_SCREATE_FAILED,
    KAL_ERROR_ITC_STAKE_FAILED,
    KAL_ERROR_ITC_SGIVE_FAILED,

    KAL_ERROR_ITC_EGCREATE_MEMFAILED                = 0x0421,
    KAL_ERROR_ITC_EGDELETE_FAILED,
    KAL_ERROR_ITC_EGCREATE_FAILED,
    KAL_ERROR_ITC_EGSET_FAILED,
    KAL_ERROR_ITC_EGRETRIEVE_FAILED,

    KAL_ERROR_ITC_ILM_MULTIALLOC                    = 0x0431,
    KAL_ERROR_ITC_ILM_NOT_ALLOC,

    KAL_ERROR_ITC_MSGID_CODE_EXCEED                 = 0x441,

     
    KAL_ERROR_TIMER_CREATE_MEMFAILED                = 0x0601,
    KAL_ERROR_TIMER_CREATE_FAILED,
    KAL_ERROR_TIMER_DELETE_FAILED,
    KAL_ERROR_TIMER_SET_FAILED,
    KAL_ERROR_TIMER_CANCEL_FAILED,
    KAL_ERROR_TIMER_GETTIME_FAILED,
    KAL_ERROR_TIMER_GETTIMEREMAINING_FAILED,
    KAL_ERROR_TIMER_SCHED_FAILED,
    KAL_ERROR_TIMER_CONTROL_FAILED,

     
    KAL_ERROR_MEMMNGT_ALLOC_FAILED                  = 0x0701,
    KAL_ERROR_MEMMNGT_ALLOC_DEBUGMEM_FAILED,
    KAL_ERROR_MEMMNGT_DEALLOC_FAILED,
    KAL_ERROR_MEMMNGT_DEALLOC_DEBUGMEM_FAILED,
    KAL_ERROR_MEMMNGT_MEMCPY_FAILED,
    KAL_ERROR_MEMMNGT_MEMSET_FAILED,

     
    KAL_ERROR_BUFFMNGR_CREATE_MEMFAILED             = 0x0801,
    KAL_ERROR_BUFFMNGR_CREATE_FAILED,
    KAL_ERROR_BUFFMNGR_DELETE_FAILED,
    KAL_ERROR_BUFFMNGR_GETBUFF_FAILED,
    KAL_ERROR_BUFFMNGR_GETBUFF_SIZE_FAILED,
    KAL_ERROR_BUFFMNGR_GET_DATABUFF_FAILED,
    KAL_ERROR_BUFFMNGR_RELEASEBUFF_FAILED,
    KAL_ERROR_BUFFMNGR_RELEASE_DATABUFF_FAILED,
    KAL_ERROR_BUFFMNGR_ISVALID_FAILED,
    KAL_ERROR_BUFFMNGR_FOOTER_FAILED,
    KAL_ERROR_BUFFMNGR_HEADER_FAILED,
    KAL_ERROR_BUFFMNGR_FOOTER_FAILED_GET,
    KAL_ERROR_BUFFMNGR_HEADER_FAILED_GET,   
    KAL_ERROR_BUFFMNGR_STAMP_FAILED,
    KAL_ERROR_BUFFMNGR_GETBUFF_INTERNAL_FAILED,
    KAL_ERROR_BUFFMNGR_FREEBUFF_INTERNAL_FAILED,

     
    KAL_ERROR_ERRORMNGR_FATALHANDLER_FAILED         = 0x0901,
    KAL_ERROR_ERRORMNGR_REGISTERHANDLER_FAILED,

     
    KAL_ERROR_FILESYS_INTERNAL_FAILED               = 0x0a01,

     
    KAL_ERROR_NUCLEUS_INTERNAL_FAILED               = 0x0b01,
    KAL_ERROR_DIV_BY_0_FAILED,
    KAL_ERROR_ABNORMAL_RESET_FAILED,
    KAL_ERROR_NON_REGISTERED_LISR,
    KAL_ERROR_DEBUGJ2ME_INTERNAL_ALERT,
    KAL_ERROR_SHOULD_NOT_EXECUTE,

     
    KAL_ERROR_EVTSCH_CREATE_MEMFAILED               = 0x0c01,
    KAL_ERROR_EVTSCH_CREATE_FAILED,
    KAL_ERROR_EVTSCH_GETBUFF_FAILED,
    KAL_ERROR_EVTSCH_RELEASEBUFF_FAILED,
    KAL_ERROR_EVTSCH_CANCEL_FAILED,

     
    KAL_ERROR_DEBUGBUFFMNGR_GETPOOLSTAT_FAILED      = 0x1001,
    KAL_ERROR_DEBUGBUFFMNGR_RESETPOOLSTAT_FAILED,
    KAL_ERROR_DEBUGBUFFMNGR_GETBUFFSTAT_FAILED,
    KAL_ERROR_DEBUGBUFFMNGR_RESETBUFFSTAT_FAILED,
    KAL_ERROR_DEBUGBUFFMNGR_POOLID_VALIDATION_FALIED,
    KAL_ERROR_DEBUGBUFFMNGR_BUFF_OVERRUN_FAILED,

    KAL_ERROR_DEBUGERRORMNGR_REGISTERPRINT_FAILED   = 0x1101,
    KAL_ERROR_DEBUGERRORMNGR_PRINT_FAILED,

    KAL_ERROR_DEBUGITC_GETQSTAT_FAILED              = 0x1201,
    KAL_ERROR_DEBUGITC_RESETQSTAT_FAILED,

    KAL_ERROR_DEBUGTIMER_GETTIMERSTAT_FAILED        = 0x1301,
    KAL_ERROR_DEBUGTIMER_RESETTIMERSTAT_FAILED,

    KAL_ERROR_CUSTOMER_TASK_ID_EXCEED_UPPER_BOUND   = 0x1501,
    KAL_ERROR_CUSTOMER_MOD_ID_EXCEED_UPPER_BOUND,
    KAL_ERROR_CUSTOMER_MEESAGE_ID_EXCEED_UPPER_BOUND,
    KAL_ERROR_CUSTOMER_SAP_ID_EXCEED_UPPER_BOUND,

    KAL_ERROR_ESM_ADD_INSTANCE_FAILED                = 0x1601,
    KAL_ERROR_ESM_ADD_1stINSTANCEENTRY_FAILED,
    KAL_ERROR_ESM_DEL_INSTANCEENTRY_FAILED,
    KAL_ERROR_ESM_EXEC_CONTEXT_FAILED,
    KAL_ERROR_ESM_GET_INSTANCEPOINTER_FAILED,
    KAL_ERROR_ESM_POPULATE_FAILED,
    KAL_ERROR_ESM_INIT_INSTANCEARRAY_FAILED,
    KAL_ERROR_FSM_ADD_EVENTS2LIST_FAILED,
    KAL_ERROR_FSM_ADD_INSTANCEENTRY_FAILED,
    KAL_ERROR_FSM_DEL_INSTANCE_FAILED,
    KAL_ERROR_FSM_EXEC_TRANSITIONFUNC_FAILED,
    KAL_ERROR_FSM_GET_FREEINSTANCE_FAILED,
    KAL_ERROR_FSM_GET_INSTANCEDATA_FAILED,
    KAL_ERROR_FSM_HANDLE_SAVEDEVENTS_FAILED,
    KAL_ERROR_FSM_INIT_CONTEXT_FAILED,
    KAL_ERROR_FSM_PROCESS_EVENTS_FAILED,
    KAL_ERROR_LSM_DEL_EVENTLIST_FAILED,
    KAL_ERROR_LSM_UNDEL_LISTOBJ_FAILED,
    KAL_ERROR_MSM_TRANSITION_FAILED


} kal_error_type;

typedef struct
{
    kal_uint32 param1;
    kal_uint32 param2;
    kal_uint32 param3;
    kal_uint32 param4;
    kal_uint32 param5;
    kal_uint32 param6;
    kal_uint32 param7;
} kal_error_param;




typedef struct {
   kal_uint32	mutex_id;
   kal_uint8	priority;
   kal_uint8	index;
   kal_uint8	head;   
   kal_uint8	tail;   
} *kal_internal_enh_mutexid, kal_enh_mutex_type;


typedef void (* kal_task_func_ptr)(task_entry_struct *task_entry_ptr);
typedef void (* kal_hisr_func_ptr)(void);
typedef void (* kal_error_func_ptr)(kal_char *, kal_uint32, kal_uint32);
typedef void (* kal_timer_func_ptr)(void *);





#line 397 "kal\include\kal_release.h"
#line 1 "kal\common\include\kal_internal_macros.h"
 


































 







































 










 












#line 398 "kal\include\kal_release.h"


#line 1 "c:\progra~1\arm\adsv1_2\include\string.h"
 
 
 
 

 




 











  
  

    

    









      
    


  
  typedef unsigned int size_t;








extern void *memcpy(void *  , const void *  , size_t  );
    





extern void *memmove(void *  , const void *  , size_t  );
    








extern char *strcpy(char *  , const char *  );
    





extern char *strncpy(char *  , const char *  , size_t  );
    







extern char *strcat(char *  , const char *  );
    





extern char *strncat(char *  , const char *  , size_t  );
    








 






extern int memcmp(const void *  , const void *  , size_t  );
    






extern int strcmp(const char *  , const char *  );
    





extern int strncmp(const char *  , const char *  , size_t  );
    







extern int strcoll(const char *  , const char *  );
    









extern size_t strxfrm(char *  , const char *  , size_t  );
    






















extern void *memchr(const void *  , int  , size_t  );

    













extern char *strchr(const char *  , int  );

    






extern size_t strcspn(const char *  , const char *  );
    












extern char *strpbrk(const char *  , const char *  );

    












extern char *strrchr(const char *  , int  );

    







extern size_t strspn(const char *  , const char *  );
    











extern char *strstr(const char *  , const char *  );

    







extern char *strtok(char *  , const char *  );
    

























extern void *memset(void *  , int  , size_t  );
    




extern char *strerror(int  );
    






extern size_t strlen(const char *  );
    





extern void __use_iso8859_locale(void);
extern void __use_iso8859_ctype(void);
extern void __use_iso8859_collate(void);
extern void __use_iso8859_monetary(void);
extern void __use_iso8859_numeric(void);

    



    


  

  




































 




#line 401 "kal\include\kal_release.h"



 
















 















 




typedef enum
{
    KAL_PRIORITY_CLASS0        =     0,
    KAL_PRIORITY_CLASS1        =     10,
    KAL_PRIORITY_CLASS2        =     20,
    KAL_PRIORITY_CLASS3        =     30,
    KAL_PRIORITY_CLASS4        =     40,
    KAL_PRIORITY_CLASS5        =     50,
    KAL_PRIORITY_CLASS6        =     60,
    KAL_PRIORITY_CLASS7        =     70,
    KAL_PRIORITY_CLASS8        =     80,
    KAL_PRIORITY_CLASS9        =     90,
    KAL_PRIORITY_CLASS10       =     100,
    KAL_PRIORITY_CLASS11       =     110,
    KAL_PRIORITY_CLASS12       =     120,
    KAL_PRIORITY_CLASS13       =     130,
    KAL_PRIORITY_CLASS14       =     140,
    KAL_PRIORITY_CLASS15       =     150,
    KAL_PRIORITY_CLASS16       =     160,
    KAL_PRIORITY_CLASS17       =     170,
    KAL_PRIORITY_CLASS18       =     180,
    KAL_PRIORITY_CLASS19       =     190,
    KAL_PRIORITY_CLASS20       =     200,
    KAL_PRIORITY_CLASS21       =     210,
    KAL_PRIORITY_CLASS22       =     220,
    KAL_PRIORITY_CLASS23       =     230,
    KAL_PRIORITY_CLASS24       =     240,
    KAL_PRIORITY_CLASS25       =     250
} kal_priority_type;


typedef void *kal_taskid;

typedef void *kal_hisrid;

typedef struct
{
    kal_uint8 unused;
} *kal_semid;

typedef struct 
{
    kal_uint8 unused;
} *kal_msgqid;

typedef struct
{
    kal_uint32 pending_msgs;
    kal_uint32 max_msgs;
} kal_msgq_info;

typedef struct
{
    kal_uint8 unused;
} *kal_mutexid;

typedef struct 
{
    kal_uint8 unused;
} *kal_eventgrpid;

typedef struct
{
    kal_uint8 unused;
} *kal_poolid;

typedef struct
{
    kal_uint8 unused;
} *kal_timerid;

typedef void *KAL_ADM_ID;

typedef enum
{
    INVAID_EXCEPTION                =  0,
    UNDEF_EXCEPTION                 =  1,
    SWI_EXCEPTION                   =  2,
    PREFETCH_EXCEPTION              =  3,
    DATAABORT_EXCEPTION             =  4,
    ASSERT_FAIL_EXCEPTION           =  5,
    SYS_FATALERR_EXT_TASK_EXCEPTION =  6,
    SYS_FATALERR_EXT_BUF_EXCEPTION  =  7,
    SYS_LOCKUP                      =  8,
    ASSERT_DUMP_EXTENDED_RECORD     =  9,
    NUM_EXCEPTION
} exception_type;

enum { ASSERT_DUMP_PARAM_MAX = 10 };

typedef struct ASSERT_DUMP_PARAM
{
    kal_uint32 addr[ASSERT_DUMP_PARAM_MAX];
    kal_uint32 len[ASSERT_DUMP_PARAM_MAX];   
} ASSERT_DUMP_PARAM_T;

typedef enum
{
    FACTORY_BOOT = 0,
    NORMAL_BOOT = 1,
    USBMS_BOOT =  2,
    NUM_OF_BOOT_MODE,
    UNKNOWN_BOOT_MODE = 0xff
} boot_mode_type;

typedef unsigned short WCHAR;


 
















 



__inline boot_mode_type stack_query_boot_mode(void)
{
	extern boot_mode_type system_boot_mode;
	return system_boot_mode;
} 

__inline void * kal_mem_cpy(void* dest, const void* src, kal_uint32 size)
{
    return memcpy ( dest, src, size );
}


__inline void * kal_mem_set(void* dest, kal_uint8 value, kal_uint32 size)
{
    return memset ( dest, value, size );
}

__inline kal_int32 kal_mem_cmp(const void* src1, const void* src2, kal_uint32 size)
{
    return memcmp ( src1, src2, size );
}


 



 



void kal_initialize(void);
void kal_initialize_mem(void);
kal_bool kal_query_systemInit(void);

 



kal_taskid kal_create_task(kal_char *task_name_ptr, kal_uint8 priority, kal_uint32 stack_size,                            kal_task_func_ptr entry_func_ptr, void *entry_param_ptr, kal_uint8 options);

void kal_delete_task(kal_taskid task_id);
void kal_sleep_task(kal_uint32 time_in_ticks);
kal_hisrid kal_create_hisr(kal_char* hisr_name, kal_uint8 priority, kal_uint32 stack_size,                            kal_hisr_func_ptr entry_func, kal_uint8 options);

void kal_activate_hisr(kal_hisrid ext_hisr_id);
kal_uint32 kal_change_priority(kal_taskid taskid, kal_uint32 new_priority);
kal_uint32 stack_change_priority_by_module_ID(module_type mod_ID, kal_uint32 new_priority);
kal_uint32 stack_change_default_priority_by_module_ID(module_type mod_ID, kal_uint32 new_priority);
void *kal_get_task_stack_ptr(kal_taskid taskid);
kal_uint32 kal_get_task_remain_stack_size(kal_taskid task);
kal_bool kal_if_hisr(void);
kal_taskid kal_get_task_self_id(void);
void kal_get_my_task_index(kal_uint32 *index);
kal_bool kal_if_lisr(void);


 



kal_msgqid kal_create_msg_q(kal_char* queue_name_ptr, kal_uint16 msg_size, kal_uint16 max_msgs);
void kal_delete_msg_q(kal_msgqid queue_id);
kal_status kal_enque_msg(kal_msgqid ext_msg_q_id, void *buffer_ptr, kal_uint16 msg_size, 
                         kal_wait_mode wait_mode, kal_bool message_to_head);
kal_status kal_deque_msg(kal_msgqid ext_msg_q_id, void* buffer_ptr, kal_uint16 *msg_size,
                         kal_wait_mode wait_mode);
kal_bool kal_get_queue_info(kal_msgqid task_ext_qid, kal_msgq_info *msgq_info);

 



kal_mutexid kal_create_mutex(kal_char* mutex_name_ptr);
void kal_take_mutex(kal_mutexid mutex_id);
void kal_give_mutex(kal_mutexid mutex_id);

kal_mutexid kal_create_enh_mutex( kal_char* mutex_name_ptr);
void kal_take_enh_mutex( kal_mutexid    mutex_id );
void kal_give_enh_mutex( kal_mutexid    mutex_id );

 



kal_semid kal_create_sem(kal_char *sem_name_ptr, kal_uint32 initial_count);
kal_status kal_take_sem(kal_semid sem_id, kal_wait_mode wait_mode);
void kal_give_sem(kal_semid sem_id);
kal_uint32 kal_query_sem_value(kal_semid ext_sem_id_ptr);

 



kal_eventgrpid kal_create_event_group(kal_char *eventgrp_name);
void kal_delete_eventgrp(kal_eventgrpid eg_id);
kal_status kal_set_eg_events(kal_eventgrpid eg_id, kal_uint32 events, kal_uint8 operation);
kal_status kal_retrieve_eg_events(kal_eventgrpid eg_id, kal_uint32 requested_events, kal_uint8 operation, 
                                  kal_uint32 *retrieved_events, kal_uint32 suspend);

 



void kal_evshed_create_pool(void);
void* kal_evshed_get_mem(kal_uint32 size);
void kal_evshed_free_mem(void* buff_ptr);

 



extern KAL_ADM_ID kal_adm_create(void *mem_addr, kal_uint32 size, kal_uint32 *subpool_size, kal_bool islogging);
extern void *kal_adm_internal_alloc(KAL_ADM_ID adm_id, kal_uint32 size, char *filename, kal_uint32 line);

extern void *kal_adm_internal_alloc_with_info(KAL_ADM_ID adm_id, kal_uint32 size, kal_uint32 *actual_size, char *filename, kal_uint32 line);

extern void kal_adm_free(KAL_ADM_ID adm_id, void *mem_addr);
extern kal_status kal_adm_delete(KAL_ADM_ID adm_id);
extern kal_uint32 kal_adm_get_max_alloc_size(KAL_ADM_ID adm_id);
extern kal_uint32 kal_adm_get_total_left_size(KAL_ADM_ID adm_id);
extern void kal_adm_print_log(KAL_ADM_ID adm_id);
extern void *kal_adm_check_integrity(KAL_ADM_ID adm_id);

 



extern kal_uint32 kal_sys_mem_query_freesize(void);
extern kal_uint32 kal_debug_mem_query_freesize(void);


 



kal_poolid kal_create_buff_pool(kal_uint32 buff_size, kal_uint16 num_buffs);
void kal_delete_buff_pool(kal_poolid pool_id);
void *kal_get_buffer(kal_poolid ext_pool_id, kal_uint32 alloc_id, kal_uint32 size,
                     kal_uint32 *num_free_buffs_p, kal_char *alloc_file, kal_uint32 alloc_line,
                     kal_bool alloc_check);
void kal_release_buffer(void *usr_buff, kal_uint32 dealloc_id, kal_char *dealloc_file, 
                        kal_uint32 dealloc_line);
kal_poolid kal_get_poolid_from_usr_buff(void* usr_buff_p);
kal_uint32 kal_get_num_free_buffs( kal_poolid pool_id );
kal_bool kal_query_ctrlbuf_max_consumption(kal_uint32 *ptr);


 



kal_timerid kal_create_timer(kal_char* timer_name_ptr);
void kal_set_timer(kal_timerid timer_id, kal_timer_func_ptr handler_func_ptr, void* handler_param_ptr,                    kal_uint32 delay, kal_uint32 reschedule_time);

void kal_cancel_timer(kal_timerid timer_id);
void kal_get_time(kal_uint32* ticks_ptr);
kal_uint32 kal_get_time_remaining(kal_timerid timer_id);
kal_uint32 kal_secs_to_ticks(kal_uint32 secs);
kal_uint32 kal_milli_secs_to_ticks(kal_uint32 milli_secs);
kal_uint32 kal_ticks_to_secs(kal_uint32 ticks);
kal_uint32 kal_ticks_to_milli_secs(kal_uint32 ticks);
kal_uint32 kal_check_allowed_sleep_clock(kal_uint32 period_ticks);
void kal_recover_clock(kal_uint32 delayed_ticks);
void kal_invoke_expired_events(kal_uint32 delayed_ticks);







 



void kal_fatal_error_handler(kal_char* error_message_ptr, kal_uint32 error_code, kal_uint32 os_error_code);
void kal_register_fatal_error_handler(kal_error_func_ptr fatal_handler_ptr);
void kal_exit(void);















extern void kal_debug_print(kal_char* string_to_be_printed);
extern void dbg_print(char *fmt,...);













extern void stack_print(char* string);








 



extern kal_char *kal_str_dup(kal_char *string);
extern kal_char *kal_strtok_r(kal_char *string, const kal_char *seperators, kal_char **ppLast);

extern char *basename(char *file);


extern void kal_assert_fail(char* expr, char* file, kal_uint32 line, kal_bool isext, kal_uint32 ex1, kal_uint32 ex2, kal_uint32 ex3, ASSERT_DUMP_PARAM_T *dump_param);







 


























 


















 



 
int kal_wstrlen(const WCHAR *wstr);
WCHAR *kal_wstrcpy(WCHAR *to, const WCHAR *from);
WCHAR *kal_wstrncpy(WCHAR *to, const WCHAR *from, int n);
int kal_wstrcmp(const WCHAR *s1, const WCHAR *s2);
int kal_wstrncmp(const WCHAR *s1, const WCHAR *s2, int n);
WCHAR *kal_wstrcat(WCHAR *s1, const WCHAR *s2);
WCHAR *kal_wstrncat(WCHAR *s1, const WCHAR *s2, int n);
WCHAR *kal_wstrchr(const WCHAR *s, int c);
WCHAR *kal_wstrrchr(const WCHAR *str, int ch);

 
int kal_dchar_strlen(const char *wstr);
char *kal_dchar_strcpy(char *to, const char *from);
char *kal_dchar_strncpy(char *to, const char *from, int n);
int kal_dchar_strcmp(const char *s1, const char *s2);
int kal_dchar_strncmp(const char *s1, const char *s2, int n);
char *kal_dchar_strcat(char *s1, const char *s2);
char *kal_dchar_strncat(char *s1, const char *s2, int n);
char *kal_dchar_strchr(const char *s, int c);
char *kal_dchar_strrchr(const char *str, int ch);
void kal_dchar2char(WCHAR *outstr, char* tostr);

void kal_wsprintf(WCHAR *outstr, char *fmt,...);



 




#line 1 "kal\nucleus\include\kal_nucleus_common_defs.h"
 


































 
























































 












 


 





























 


 
typedef NU_TASK               kal_os_task_type;
typedef NU_HISR               kal_os_hisr_type;
typedef NU_QUEUE              kal_os_queue_type;
typedef NU_SEMAPHORE          kal_os_mutex_type;
typedef NU_SEMAPHORE          kal_os_sem_type;
typedef NU_EVENT_GROUP        kal_os_eventgrp_type;
typedef NU_TIMER              kal_os_timer_type;
typedef NU_PARTITION_POOL     kal_os_pool_type;

 
 
typedef  void  (*kal_nu_task_func_ptr) (UNSIGNED,  void  *);
typedef  void  (*kal_nu_hisr_func_ptr) ( void );
typedef  void  (*kal_nu_timer_func_ptr) (UNSIGNED);

typedef struct {
   struct kal_int_pool_struct*  pool_id;
   void *                       start_address;
   void *                      end_address;
} kal_buff_pool_info;

 



 




















#line 890 "kal\include\kal_release.h"
#line 1 "kal\nucleus\include\kal_nucleus.h"
 


































 




















































































 












 




















 










typedef struct kal_int_task_struct {
   kal_os_task_type task_id;
   kal_char *task_name;
   kal_uint32 task_index;
} *kal_internal_taskid, kal_task_type;


typedef struct kal_int_hisr_struct {
   kal_os_hisr_type hisr_id;
   kal_char *hisr_name;
} *kal_internal_hisrid, kal_hisr_type;

















 




typedef struct kal_int_queue_statistics_struct {
    



   kal_uint16    current_num_msgs;
   kal_uint16    max_num_msgs_enqued;
} *kal_internal_queue_statistics, kal_queue_stat_type;

typedef struct {
   kal_os_queue_type    queue_id;
   kal_uint16           max_msg_size;
   kal_internal_queue_statistics    q_stat;
} *kal_internal_msgqid, kal_queue_type;

typedef struct kal_int_mutex_statistics_struct {
    
   struct kal_int_task_struct    *owner_task;
   kal_mutex_state               mutex_state;
} *kal_internal_mutex_statistics, kal_mutex_stat_type;

typedef struct {
   kal_os_mutex_type                         mutex_id;
   kal_os_task_type                          *owner_task;
   kal_mutex_state                           mutex_state;
   struct kal_int_mutex_statistics_struct    *mutex_stat;
} *kal_internal_mutexid, kal_mutex_type;

typedef struct kal_int_sem_statistics {
    
   kal_uint16           current_value;
   kal_uint16           max_value;
   kal_uint16           min_value;
} *kal_internal_sem_statistics, kal_sem_stat_type;

typedef struct {
   kal_os_sem_type                           sem_id;
   kal_sem_state                             sem_state;
   struct kal_int_sem_statistics             *sem_stat;
}*kal_internal_semid, kal_sem_type;


















typedef kal_os_eventgrp_type *kal_internal_eventgrpid, kal_eventgrp_type;


 




























typedef struct {
   kal_os_timer_type       timer_id;
   kal_timer_func_ptr      func_ptr;
   void *                  timer_param_ptr;
   kal_uint32              set_time;
} * kal_internal_timerid, kal_timer_type;




 






typedef struct kal_int_pool_struct {
   kal_os_pool_type        pool_id;
   kal_bool          pool_debug_mask;



   kal_uint32              buff_size;


   struct kal_int_pool_statistics_struct    *pool_stat;
   kal_mutexid             protecting_mutex;

} *kal_internal_poolid, kal_pool_type;

typedef struct {
   kal_uint32 hdr_stamp;
   kal_internal_taskid task_id;
   kal_internal_poolid pool_id;
   kal_uint8 usr_buff[1];
} buff_hdr_t;










 


















 


extern kal_char sys_info_str[128];


 


kal_uint32 kal_milli_secs_to_ticks( kal_uint32 milli_secs );
kal_uint32 kal_secs_to_ticks ( kal_uint32 secs );





#line 891 "kal\include\kal_release.h"









#line 1 "kal\common\include\kal_internal.h"
 


































 











































 








   

 


extern void* kal_internal_allocate_buffer( void* pool_id, unsigned short buff_size);
extern void kal_internal_release_buffer( void* );


   void* kal_debug_mem_alloc(kal_uint32 size);
   void kal_debug_mem_free(void* mem_ptr);






   void* kal_int_mem_alloc( kal_uint32  size );
   void kal_int_mem_free( void* mem_ptr );





#line 901 "kal\include\kal_release.h"
#line 1 "stacklib\include\lcd_ip_cqueue.h"
 


































 






















































 









 










 



 



































    


 









































 


































 




































 





































 















































 






#line 902 "kal\include\kal_release.h"


#line 1 "kal\common\include\kal_debug_common_defs.h"
 


































 















































































 















 














 





 





typedef enum {
   KAL_BUFF_DEALLOCATED,
   KAL_BUFF_ALLOCATED,
   KAL_BUFF_CORRUPTED
} kal_buff_state;

typedef struct kal_history_node {
   kal_buff_state                 buffer_state;
   struct kal_int_task_struct*    owner_task;
   kal_char*                      file_name;
   kal_uint32                     line;
   kal_uint32                     alloc_id;



   kal_uint32                     size;

} kal_history_node_t;

typedef struct kal_int_buff_stats {
   kal_internal_taskid owner_task;
   kal_uint8 buffer_state;
    struct { unsigned int head; unsigned int tail; unsigned int multiple; unsigned int max_used_item; kal_bool is_full;  kal_history_node_t  queue[  3  ]; }  buff_history;




} *kal_internal_buff_statistics, kal_buff_stat_type;



 





extern void kal_debug_validate_poolid(kal_internal_poolid pool_id, kal_uint32* pool_index_p);

extern void kal_debug_update_buff_history(buff_hdr_t* buff_hdr_p,
                                          kal_buff_state buff_state,
                                          kal_uint32 size,
                                          kal_char* file,
                                          kal_uint32 line,
                                          kal_uint32 alloc_id);

extern kal_bool is_buff_over_run(void* dest_ptr, kal_uint32 size, kal_uint32 pool_index);

extern void kal_reset_pool(kal_internal_poolid pool_id);

extern void kal_debug_validate_buff_hdr(buff_hdr_t* buff_hdr);

extern kal_bool kal_debug_is_buff_footer_corrupted(kal_uint8* usr_buff,
                                                   kal_history_node_t* tail_node_p);

extern void kal_debug_get_last_history_node(void* buff_ptr, kal_history_node_t* tail_node_ptr);







extern kal_bool kal_debug_get_poolindex(void* buff_ptr, kal_uint32* index_p);


extern void * kal_nu_get_buff(kal_poolid pool_id_ptr);
extern void kal_nu_free_buff(void * buff_pt);


extern kal_uint16 kal_get_buff_num(void *buff_ptr);

extern void kal_debug_validate_buff_hdr( buff_hdr_t* buff_hdr );

extern void kal_debug_validate_buff_footer(kal_uint8* usr_buff, kal_history_node_t* tail_node_p);





extern void kal_uint_2_hex_str( kal_uint32 num, kal_char* string );

extern void kal_uint_2_str( kal_uint32 num, kal_char* string );

extern kal_bool kal_debug_is_history_empty( kal_internal_poolid pool_id, void*  buff_ptr );





extern void kal_validate_buff_footer(void *buff_ptr, kal_uint32 buff_size );

extern void kal_take_reentrant_mutex(kal_os_mutex_type *mutex_id);

extern void kal_give_reentrant_mutex(kal_os_mutex_type *mutex_id);

 






 


extern kal_buff_pool_info   pool_info_g [  40  ];
extern kal_uint8            num_buff_pools_created_g;







extern kal_internal_taskid  kal_task_ptrs_g [ RPS_TOTAL_STACK_TASKS ];
extern kal_internal_hisrid  kal_hisr_ptrs_g [  20  ];




#line 905 "kal\include\kal_release.h"



#line 1 "kal\nucleus\include\kal_debug_nucleus.h"
 


































 
















































 












 




















 





extern void kal_update_buff_footer(void *buff_ptr, kal_uint32 buff_size);


extern void kal_update_buff_header(void *buff_ptr, kal_taskid ext_task_id, kal_poolid ext_pool_id);
extern void kal_is_valid_buffer(void* buff_ptr, kal_bool *status);









#line 909 "kal\include\kal_release.h"




#line 1 "kal\include\kal_debug.h"
 


































 















































































 











 


struct ptr_node {
	void* ptr;
	kal_uint32 size;
	struct ptr_node* next_ptr;
};









typedef struct kal_pool_statistics_struct {
	kal_uint16 num_buffs;



	kal_uint32 buff_size;

	 
	kal_uint16 current_allocation;
	kal_uint16 max_num_allocated;
	kal_uint16 max_size_requested; 



} *kal_pool_statistics;





















extern kal_bool                  kal_buff_over_run_check_g;

typedef struct kal_ext_buff_stats {
	kal_buff_state  buffer_state;
	kal_char*       task_name;
} *kal_ext_buff_statistics, kal_ext_buff_stat_type;

typedef struct kal_buff_stats {
	kal_uint8   unused;
}* kal_buff_statistics;

typedef struct kal_int_pool_statistics_struct {
	struct kal_pool_statistics_struct   pool_info;
	struct kal_int_buff_stats*          buff_stat;
} *kal_internal_pool_statistics, kal_pool_stat_type;



typedef void(*kal_print_string_func_ptr)(kal_char*);

typedef enum {
	KAL_DEBUG_DISABLE,
	KAL_DEBUG_ENABLE
} kal_debug_state;

typedef enum {
	KAL_BUFFMGR     = 0x1,
	KAL_TIMERMGR    = 0x2,
	KAL_TASKMGR     = 0x4,
	KAL_ITC         = 0x8
} kal_module;









typedef struct kal_queue_statistics_struct {
	kal_uint8   unused;
}* kal_queue_statistics;

typedef struct kal_mutex_statistics_struct {
	kal_uint8   unused;
}* kal_mutex_statistics;

typedef struct kal_sem_statistics_struct {
	kal_uint8   unused;
}* kal_sem_statistics;









 




























 










void kal_debug_get_q_statistics( kal_msgqid  queue_id, kal_queue_statistics* stat_ptr );
void kal_debug_reset_q_statistics( kal_msgqid    queue_id );








 





void kal_debug_get_all_buff_statistics(kal_poolid pool_id, kal_ext_buff_statistics buff_stat_ptr);
void kal_debug_reset_pool_statistics(kal_poolid pool_id);
void kal_debug_get_buffer_statistics(void* buffer_ptr, kal_buff_statistics* stat_ptr);
void kal_debug_reset_buffer_statistics(void* buffer_ptr);
























void kal_debug_is_valid_buffer(void* buff_ptr, kal_bool* status_ptr);














 




 




















 











void kal_debug_register_print_string_function (kal_print_string_func_ptr func_ptr);
void kal_debug_print(kal_char* string_to_be_printed);
void kal_debug_print_int(kal_int32 int_to_be_printed);
void kal_debug_print_uint(kal_uint32 int_to_be_printed);
void kal_debug_print_uint_in_hex(kal_uint32 int_to_be_printed);
void kal_debug_enable_debug( kal_module debug_code, kal_debug_state    flag);
void kal_debug_abort( void );
void kal_debug_reset( void );




































#line 914 "kal\include\kal_release.h"
#line 1 "kal\include\kal_trace.h"
 


































 









































































































































#line 1 "c:\progra~1\arm\adsv1_2\include\stdarg.h"
 
 
 

 








  
  

    

    









      
    

 








 
 
typedef int *va_list[1];
    









    













    



















    









    







    



    


  

  







 
#line 175 "kal\include\kal_trace.h"






























   

   
   





typedef enum
{
   TRACE_FUNC,
   TRACE_STATE,
   TRACE_INFO,
   TRACE_WARNING,
   TRACE_ERROR,
   TRACE_GROUP_1,
   TRACE_GROUP_2,
   TRACE_GROUP_3,
   TRACE_GROUP_4,
   TRACE_GROUP_5,
   TRACE_GROUP_6,
   TRACE_GROUP_7,
   TRACE_GROUP_8,
   TRACE_GROUP_9,
   TRACE_GROUP_10,
   TRACE_PEER
}trace_class_enum;




   #line 1 "kal\include\..\..\tst\database_classb\pstrace_db\ps_trace.h"









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#line 238 "kal\include\kal_trace.h"








extern void kal_trace( trace_class_enum, kal_uint32, const kal_char* , ...);
extern void kal_trace_for_3rd_party( trace_class_enum, kal_uint32, const kal_char* , va_list);
extern void kal_lib_trace( trace_class_enum, kal_uint32, const kal_char* , ...);
extern void kal_assert_trace( trace_class_enum, kal_uint32, const kal_char* , ...);
extern void kal_wap_trace(module_type mod_id, trace_class_enum trc_class, const char *fmt,...);
extern void kal_buffer_trace(trace_class_enum trc_class, kal_uint32 msg_index, const kal_char* fmt, kal_uint32 buf_len, const kal_uint8* pData);
extern void kal_dev_trace(trace_class_enum trc_class, kal_uint32 msg_index, const char *arg_type,...);





















































extern void kal_prompt_trace(module_type, const kal_char *fmt,...);


























































typedef void (*TST_VC_CallBack)(const kal_uint8* pData, kal_uint32 nLen);

 



typedef enum
{
	TVCI_GPS_LOGGING,
	TVCI_LAST_ID
}
tst_virtual_channel_id;




#line 915 "kal\include\kal_release.h"



#line 1 "kal\common\include\kal_active_module.h"
 


































 













































 










 








 


extern module_type stack_int_get_active_module_id( void );

extern void stack_int_set_active_module_id( kal_uint32 task_index, module_type module_id );



#line 919 "kal\include\kal_release.h"





#line 171 "custom\common\fs_quota.c"



#line 1 "kal\Efs\include\fat_fs.h"
 


































 



















































#line 1 "kal\Efs\include\fs_errcode.h"
 


































 




























































































































#line 89 "kal\Efs\include\fat_fs.h"



#line 1 "kal\Efs\include\fs_type.h"
 


































 















































































































































































































 



























 
























































































 
 




   





typedef unsigned int	DWORD;


typedef unsigned short WORD;


typedef unsigned int   UINT;


typedef unsigned char  BYTE;
typedef void * HANDLE;
typedef int FS_HANDLE;

typedef void (* FS_FormatCallback)(const char * DeviceName, int Action, UINT Total, UINT Completed);
typedef int FS_ProgressCallback(int Action, UINT Total, UINT Completed, UINT Info);
typedef int MTCallback(WCHAR * target1, WCHAR * target2, UINT Action, FS_ProgressCallback Progress); 

typedef  __packed  struct 
{
   unsigned int Second2:5;
   unsigned int Minute:6;
   unsigned int Hour:5;
   unsigned int Day:5;
   unsigned int Month:4;
   unsigned int Year1980:7;
} FS_DOSDateTime;

typedef  __packed  struct 
{
   char           FileName[8];
   char           Extension[3];
   BYTE           Attributes;
   BYTE           NTReserved;
   BYTE           CreateTimeTenthSecond;
   FS_DOSDateTime CreateDateTime;
   WORD           LastAccessDate;
   WORD           FirstClusterHi;
   FS_DOSDateTime DateTime;
   WORD           FirstCluster;
   UINT          FileSize;
}FS_DOSDirEntry;

typedef struct 
{
   UINT Cluster;
   UINT Index;
}FS_FileLocationHint;

typedef struct 
{
   const FS_DOSDirEntry * DirEntry;
   UINT                  FilePos;
   UINT                  AllocatedSize;
   UINT                  ClusterChains;
   UINT                  VolumeSerialNumber;
   const char           * FullName;
}FS_FileInfo;

typedef struct 
{
   char            Label[24];
   char            DriveLetter;
   BYTE            WriteProtect;
   char            Reserved[2];
   UINT            SerialNumber;
   UINT            FirstPhysicalSector;
   UINT            FATType;
   UINT            FATCount;
   UINT            MaxDirEntries;
   UINT            BytesPerSector;
   UINT            SectorsPerCluster;
   UINT            TotalClusters;
   UINT            BadClusters;
   UINT            FreeClusters;
   UINT            Files;
   UINT            FileChains;
   UINT            FreeChains;
   UINT            LargestFreeChain;
}FS_DiskInfo;


typedef  __packed  struct 
{
   BYTE  BootIndicator,
         StartHead,
         StartSector,
         StartTrack,
         OSType,
         EndHead,
         EndSector,
         EndTrack;
   UINT  RelativeSector,
         Sectors;
} FS_PartitionRecord;

typedef  __packed  struct 
{
   BYTE BootCode[512-4*sizeof(FS_PartitionRecord)-sizeof(WORD)];
   FS_PartitionRecord PTable[4];
   WORD Signature;
} FS_MasterBootRecord;

typedef  __packed  struct 
{
   BYTE     PhysicalDiskNumber;
   BYTE     CurrentHead;
   BYTE     Signature;
   UINT     SerialNumber;
   BYTE     Label[11];
   char     SystemID[8];
}FS_ExtendedBIOSParameter;

typedef  __packed  struct 
{
   char     OEMName[8];
   WORD     BytesPerSector;
   BYTE     SectorsPerCluster;
   WORD     ReservedSectors;
   BYTE     NumberOfFATs;
   WORD     DirEntries;
   WORD     SectorsOnDisk;
   BYTE     MediaDescriptor;
   WORD     SectorsPerFAT;
   WORD     SectorsPerTrack;
   WORD     NumberOfHeads;
   UINT     NumberOfHiddenSectors;
   UINT     TotalSectors;
    __packed  union 
   {
       __packed  struct 
      {
         FS_ExtendedBIOSParameter BPB;
      } _16;
       __packed  struct 
      {
         UINT     SectorsPerFAT;
         WORD     Flags;
         WORD     Version;
         UINT     RootDirCluster;
         WORD     FSInfoSector;
         WORD     BackupBootSector;
         BYTE     Reserved[12];
         FS_ExtendedBIOSParameter BPB;
      } _32;
   } E;
}FS_BIOSParameter;

typedef  __packed  struct 
{
   BYTE NearJump[3];
   FS_BIOSParameter BP;
   BYTE BootCode[512-3-sizeof(FS_BIOSParameter)-sizeof(WORD)];
   WORD Signature;
}FS_BootRecord;

typedef struct fsdriver 
{
   int  (* MountDevice)    (void * DriveData, int DeviceNumber, int DeviceType, UINT Flags);
   int  (* ShutDown)       (void * DriveData);
   int  (* ReadSectors)    (void * DriveData, UINT Sector, UINT Sectors, void * Buffer);
   int  (* WriteSectors)   (void * DriveData, UINT Sector, UINT Sectors, void * Buffer);
   int  (* MediaChanged)   (void * DriveData);
   int  (* DiscardSectors) (void * DriveData, UINT Sector, UINT Sectors);
   int  (* GetDiskGeometry)(void * DriveData, FS_PartitionRecord * DiskGeometry, BYTE * MediaDescriptor);
   int  (* LowLevelFormat) (void * DriveData, const char * DeviceName, FS_FormatCallback Progress, UINT Flags);
   int  (* NonBlockWriteSectors)   (void * DriveData, UINT Sector, UINT Sectors, void * Buffer);
   int  (* RecoverableWriteSectors)(void * DriveData, UINT Sector, UINT Sectors, void * Buffer);
   int  (* ResumeSectorStates)     (void  * DriveData);
   int  (* HighLevelFormat)(void * DriveData, UINT BaseSector);
   int  (* RecoverDisk)    (void * DriveData);
   int  (* MessageAck)     (void * DriveData, int AckType);
   int  (* CopySectors)    (void * DriveData, UINT SrcSector, UINT DstSector, UINT Sectors);
   int  (* OTPAccess)      (void * DriveData, int type, UINT Offset, void * BufferPtr, UINT Length);
   int  (* OTPQueryLength) (void * DriveData, UINT *Length);
}FS_Driver;



typedef struct _fsMutex
{
   kal_semid   mt_sem;
   kal_taskid	mt_sem_owner;
   kal_uint32	mt_lock_count;
   int         DeviceNum_1;
   int         DeviceNum_2;
}FS_Mutex;







struct _fsDrive;
struct _fsBuffer;

typedef struct _fsDeviceData
{
   FS_Mutex         * Lock;
   struct _fsDrive  * FirstDrive;
   BYTE               MediaPresent;
   BYTE               MediaRemovedReported;
   BYTE               Reserved;
   BYTE               MountState;
   int                SectorSize;
   FS_PartitionRecord Geometry;
   UINT               SectorShift;
   UINT               AccessCount;
   struct _fsBuffer * B; 
   struct _fsBuffer * AltBuffer;
   int                ErrorCondition; 
   int                PhysicalDiskIndex;
   char               FriendlyName[7];
   BYTE               MediaDescriptor;
}FS_DeviceData;

typedef struct _fsDevice 
{
   int                DeviceType;
   int                DeviceNumber;
   UINT               DeviceFlags;
   FS_Driver        * Driver;
   void             * DriverData;
   FS_DeviceData      DevData;
}FS_Device;

typedef struct _fsDirEntry{
   UINT                 DirCluster;
   FS_FileLocationHint  LongPos;
   FS_FileLocationHint  ShortPos;
   FS_DOSDirEntry       Dir;
}FS_DirEntry;

typedef struct _fsDrive 
{
   struct _fsDevice *   Dev;
   struct _fsDrive  *   NextDrive;
   int                  MountState;
   FS_PartitionRecord   Geometry;
   UINT                 Clusters;
   UINT                 SectorsPerCluster;
   UINT                 ClusterSize;
   UINT                 ClusterShift;
   UINT                 SPerCShift;
   UINT                 FATType;
   UINT                 FATCount;
   UINT                 SectorsPerFAT;
   UINT                 ClusterWatermark;
   UINT                 FreeClusterCount;
   UINT                 InfoSector;
   UINT                 SerialNumber;
   UINT                 FirstSector;
   UINT                 FirstFATSector;
   UINT                 FirstDirSector;
   UINT                 FirstDataSector;
   UINT                 RootDirEntries;
   FS_DirEntry          CurrDirEntry;
   char                 CurrDir[ 520 ];

   BYTE                 QuotaMgt;
   BYTE                 Reserved[3];

}FS_Drive;

typedef struct _fsBuffer 
{
   struct _fsBuffer * Next;
   struct _fsBuffer * Prev;
   FS_Device        * Dev;
   BYTE             * Data;
   UINT              Sector;
   struct _fsDrive  * FATSectorInfo;
   UINT              Flags;
   UINT              FirstDirtyTime, 
                      LastDirtyTime;
   int                Num;   
   BYTE               recoverable_flag;   


}FS_Buffer;


typedef struct 
{
   WCHAR Pattern[8];
}FS_Pattern_Struct;

typedef struct __fsQuotaStruct
{
   BYTE        Path[ 520 /2];
   UINT        Priority;
   UINT        Qmin;
   UINT        Qmax;
   UINT        Uint;
}FS_QuotaStruct;

typedef struct __fsInternQStruct
{
   UINT        Qmin;
   UINT        Qmax;
   UINT        Qnow;
}FS_InternQStruct;

typedef struct __fsFile
{
   FS_Drive             *  Drive; 
   FS_Device            *  Dev;
   int                     SpecialKind;
   UINT                    Unique;
   UINT                    Flags;
   FS_DirEntry             DirEntry;
   UINT                    FilePointer;
   UINT                    LastCluster;
   UINT                    Cluster;
   UINT                    Offset;
   char                    FullName[ 520 ];
   void                 *  Task; 
   UINT                    HintNum;
   FS_FileLocationHint  *  Seek_Hint; 
   BYTE                    Lock;
   BYTE                    Valid;
   BYTE                    Reserved[sizeof(int) - 2*sizeof(BYTE)];
}FS_File;

typedef struct __fsTables
{
   FS_Drive  * DriveTable;
   FS_File   * FileTable;
   FS_Buffer * BufferTable;
   BYTE      * BufferData;
}FS_Tables;

typedef struct __fsExceptionData
{
   UINT      * Next;
   int         Data[11];
   int         XValue;
   int         State;
   int         IsHandled;   
}FS_ExceptionData;

 

typedef enum
{
   FS_DEVICE_UNKNOWN,
   FS_DEVICE_FLOPPY,
   FS_DEVICE_FDISK
}FS_DRIVER_DEVICE_ENUM;


typedef enum
{
   FS_DEV_IN_ACK_ENUM = 1,
   FS_DEV_SLOT_ACK_ENUM,
   FS_DEV_OUT_ACK_ENUM
}FS_ACK_TYPE_ENUM;


typedef enum
{	
   FS_NO_WAIT,
   FS_INFINITE
}FS_TIMEOUT_ENUM;


typedef enum
{
   FS_FILE_BEGIN,
   FS_FILE_CURRENT,
   FS_FILE_END
}FS_SEEK_POS_ENUM;


typedef enum
{	
   FS_FMT_PGS_DONE = -1,
   FS_FMT_PGS_FAIL,
   FS_FMT_PGS_LOW_FMT,
   FS_FMT_PGS_HIGH_FMT
}FS_FORMAT_PGS_ENUM;


typedef enum
{	
   FS_MOVE_PGS_FAIL = -1,
   FS_MOVE_PGS_PREPARE,
   FS_MOVE_PGS_START,
   FS_MOVE_PGS_ING,
   FS_MOVE_PGS_DONE
}FS_MOVE_PGS_ENUM;


typedef enum
{	
   FS_NOT_MATCH,
   FS_LFN_MATCH,
   FS_SFN_MATCH
}FS_FIND_ENUM;



typedef enum
{	
  FS_DEVICE_TYPE_NOR = 1,
  FS_DEVICE_TYPE_NAND,
  FS_DEVICE_TYPE_CARD,
  FS_DEVICE_TYPE_EXTERNAL,
  FS_DEVICE_TYPE_SIMPLUS,
  FS_DEVICE_TYPE_MAX_VALUE
}FS_DEVICE_TYPE_ENUM;


typedef enum
{
   FS_FIND_DEFAULT,
   FS_FIND_LFN_TRUNC
}FS_GET_NAME_ENUM;


typedef enum
{
   FS_QP_HIG_ENUM,
   FS_QP_MID_ENUM,
   FS_QP_LOW_ENUM,
   FS_QP_DEL_ENUM
}FS_QP_ENUM;


typedef enum
{ 
   FS_MOUNT_STATE_ENUM,
   FS_FEATURE_STATE_ENUM,
   FS_EXPORT_STATE_ENUM,
   FS_CARD_BATCHCOUNT_STATE_ENUM
}FS_GET_DEV_STATUS_ENUM;


typedef enum
{
   FS_LOCK_USB_ENUM,
   FS_UNLOCK_USB_ENUM,
   FS_LOCK_BLOCK_ENUM,
   FS_LOCK_NONBLOCK_ENUM,
   FS_EXPORT_ENUM,
   FS_PURGE_HANDLE_ENUM,
   FS_REMOUNT_ENUM,
   FS_CARD_BUSY_NONBLOCK_ENUM
}FS_LOCK_TYPE_ENUM;


typedef enum
{
   FS_FH_COUNT_CURRENT_TASK = 0,
   FS_FH_COUNT_AVAILABLE,
   FS_FH_COUNT_USED,
   FS_FH_COUNT_CONFIGURED
}FS_COUNT_USED_FH_ENUM;


typedef enum
{
   FS_OTP_READ = 1,
   FS_OTP_WRITE,
   FS_OTP_LOCK
}FS_OTPACCESS_TYPE_ENUM;



#line 93 "kal\Efs\include\fat_fs.h"



#line 1 "kal\Efs\include\fs_func.h"
 


































 










































































































































































































extern int FS_Open(const WCHAR * FileName, UINT Flag);
extern int FS_OpenHint(const WCHAR * FileName, UINT Flag, FS_FileLocationHint * DSR_Hint);
extern int FS_Close(FS_HANDLE FileHandle);
extern int FS_CloseAll(void);
extern int FS_Read(FS_HANDLE FileHandle, void * DataPtr, UINT Length, UINT * Read);
extern int FS_Write(FS_HANDLE FileHandle, void * DataPtr, UINT Length, UINT * Written);
extern int FS_SetSeekHint(FS_HANDLE FileHandle, UINT HintNum, FS_FileLocationHint * Hint);
extern int FS_Seek(FS_HANDLE FileHandle, int Offset, int Whence);
extern int FS_Commit(FS_HANDLE FileHandle);
extern int FS_ReleaseFH(void * TaskId);
extern int FS_Abort(UINT ActionHandle);
extern int FS_ParseFH(FS_HANDLE FileHandle);
extern int FS_GenVirtualFileName(FS_HANDLE FileHandle, WCHAR * VFileNameBuf, UINT BufLength, UINT VFBeginOffset, UINT VFValidLength);


extern int FS_GetFileInfo(FS_HANDLE FileHandle, FS_FileInfo * FileInfo);
extern int FS_GetFileSize(FS_HANDLE FileHandle, UINT * Size);
extern int FS_GetFilePosition(FS_HANDLE FileHandle, UINT * Position);
extern int FS_SetFileTime(FS_HANDLE FileHandle, const FS_DOSDateTime * Time);
extern int FS_GetAttributes(const WCHAR * FileName);
extern int FS_GetFirstCluster(FS_HANDLE FileHandle, UINT * Cluster);


extern int FS_SetAttributes(const WCHAR * FileName, BYTE Attributes);
extern int FS_Delete(const WCHAR * FileName);
extern int FS_PseudoMerge(const WCHAR * FileName1, const WCHAR * FileName2);
extern int FS_CheckFile(const WCHAR * FileName);


extern int FS_GetCurrentDir(WCHAR * DirName, UINT MaxLength);
extern int FS_SetCurrentDir(const WCHAR * DirName);
extern int FS_CreateDir(const WCHAR * DirName);
extern int FS_RemoveDir(const WCHAR * DirName);
extern int FS_GetFolderSize(const WCHAR *DirName, UINT Flag, BYTE *RecursiveStack, const UINT StackSize);


extern int FS_Extend(FS_HANDLE FileHandle, UINT Length);
extern int FS_Truncate(FS_HANDLE FileHandle);
extern int FS_MakeFileName(FS_HANDLE FileHandle, UINT Flag, WCHAR * FileName, UINT MaxLength);
extern int FS_Rename(const WCHAR * FileName, const WCHAR * NewName);


extern int FS_Move(const WCHAR * SrcFullPath, const WCHAR * DstFullPath, UINT Flag, FS_ProgressCallback Progress, BYTE *RecursiveStack, const UINT StackSize);


extern int FS_Count(const WCHAR * FullPath, UINT Flag, BYTE *RecursiveStack, const UINT StackSize);
extern int FS_XDelete(const WCHAR * FullPath, UINT Flag, BYTE *RecursiveStack, const UINT StackSize);


extern int FS_FindFirst(const WCHAR * NamePattern, BYTE Attr, BYTE AttrMask, FS_DOSDirEntry * FileInfo, WCHAR * FileName, UINT MaxLength);
extern int FS_FindNext(FS_HANDLE FileHandle, FS_DOSDirEntry * FileInfo, WCHAR * FileName, UINT MaxLength);
extern int FS_FindFirstN(const WCHAR * NamePattern, FS_Pattern_Struct * PatternArray, UINT PatternNum, BYTE ArrayMask, BYTE Attr, BYTE AttrMask, FS_DOSDirEntry * FileInfo, WCHAR * FileName, UINT MaxLength, UINT EntryIndex, UINT Flag);
extern int FS_FindNextN(FS_HANDLE Handle, FS_Pattern_Struct * PatternArray, UINT PatternNum, BYTE ArrayMask, FS_DOSDirEntry * FileInfo, WCHAR * FileName, UINT MaxLength, UINT Flag);
extern int FS_FindClose(FS_HANDLE FileHandle);


extern int FS_XFindReset(const WCHAR * Pattern, FS_Pattern_Struct * PatternArray, UINT PatternNum, BYTE ArrayMask, BYTE AttrMask, UINT Flag, UINT Timeout, UINT * Position);
extern int FS_XFindStart(const WCHAR * Pattern, FS_DOSDirEntry * FileInfo, WCHAR * FileName, UINT MaxLength, UINT Index, UINT * Position, UINT Flag);
extern int FS_XFindClose(UINT * Position);



extern int FS_GetDrive(UINT Type, UINT Serial, UINT AltMask);
extern int FS_GeneralFormat(const WCHAR * DriveName, UINT Level, FS_FormatCallback Progress);
extern int FS_GetClusterSize(UINT DriveIdx);

extern int FS_QmGetFree(const BYTE * Path);

extern int FS_CreateBootSector(void * BootSector, const FS_PartitionRecord * Partition, BYTE MediaDescriptor, UINT MinSectorsPerCluster, UINT Flags);
extern int FS_GetPartitionInfo(const WCHAR * DriveName, FS_PartitionRecord * PartitionInfo);
extern int FS_CommitAll(const WCHAR * DriveName);
extern int FS_MappingDrive(UINT UpperOldDrv, UINT UpperNewDrv);


extern int FS_SetDiskFlag(void);
extern int FS_CheckDiskFlag(void);
extern int FS_ClearDiskFlag(void);





extern int FS_CreateMasterBootRecord(void * SectorBuffer, const FS_PartitionRecord * DiskGeometry);
extern int FS_SplitPartition(void * MasterBootRecord, UINT Sectors);
extern int FS_GetDiskInfo(const WCHAR * DriveName, FS_DiskInfo * DiskInfo, int Flags);
extern int FS_GetDevType(const WCHAR * Path);
extern int FS_GetDevStatus(UINT DriveIdx, UINT Flag);
extern int FS_GetDevPartitions(UINT QueryTarget);


extern int FS_TestMSDC(void *slot_id);
extern int FS_CloseMSDC(UINT MSDCIndex, UINT Mode);


extern int FS_ConfigExtDevice(int Action, FS_Driver *DrvFuncs, int Slots, void **SlotIdArray, int *SlotsConfiged);


extern void FS_ShutDown(void);
extern int FS_UnlockAll(void);
extern int FS_SanityCheck(void);
extern int FS_LockFAT(UINT Type);


extern int FS_CountUsedFH(int flag);














extern int FS_SetDirCache(FS_HANDLE FileHandle, UINT NewValue);
extern int FS_GetDirCache(FS_HANDLE FileHandle, UINT *CurrValue);
extern int FS_ExpireDirCache(FS_HANDLE FileHandle);


extern int FS_OTPWrite(int devtype, UINT Offset, void * BufferPtr, kal_uint32 Length);
extern int FS_OTPRead(int devtype, UINT Offset, void * BufferPtr, kal_uint32 Length);
extern int FS_OTPQueryLength(int devtype, UINT *Length);
extern int FS_OTPLock(int devtype);


extern int FS_SweepDevice(const int devtype);
extern int FS_RecoverDevice(const int devtype);



#line 97 "kal\Efs\include\fat_fs.h"





#line 175 "custom\common\fs_quota.c"






#line 1 "custom\ps\UNIRISE25_GEMINI_BB\customer_ps_inc.h"
 


































 
































































































 
 


 






 












 
 







 
 


 
 
 

 
 

 






 
 
 

 
 
 

 


 
 
 
 



 
 







 




 


 


 


 







 



















 



#line 182 "custom\common\fs_quota.c"












#line 1 "custom\app\UNIRISE25_GEMINI_BB\nvram_user_defs.h"
 


































 













































































#line 1 "custom\common\PLUTO_MMI\nvram_common_defs.h"
 


































 


































































































































































































































































































































































































































































































#line 1 "kal\include\kal_release.h"
#line 520 "custom\common\PLUTO_MMI\nvram_common_defs.h"

#line 1 "plutommi\mmi\Inc\MMI_features.h"
 

































 









































































































































































































































































































































































































































































































































































































































































































































































































































#line 1 "plutommi\mmi\Inc\MMI_features_switch.h"
 

































 






























































































































































































































































































































































































 


#line 1 "plutommi\mmi\Inc\MMI_features_type.h"
 

































 























































 




 









 






 






 




 




 



 




#line 422 "plutommi\mmi\Inc\MMI_features_switch.h"

 



 



 






 



 






 



 






 






 



 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 



 






 






 



 






 



 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 


 


 










 










 










 










 










 










 










 










 











 










 










 











 












 










 










 











 


  
 






 






 






 






 






 







 






 






 












 






 






 







 






 






 







 






 






 






 






 







 







 






 







 






 






 



 






 



 






 



 






 



 






 






 



 






 






 






 






 






 



 






 






 



 






 






 






 






 






 



 






 






 






 






 






 






 






 






 



 






 



 






 






 






 






 



 






 






 






 






 






 






 






 






 






 






 






 






 






 



 






 



 






 



 






 



 






 






 






 






 






 






 






 






 



 






 






 



 






 






 






 






 






 






 






 






 






 






 



 






 






 






 






 






 






 






 






 






 






 



 






 



 






 






 






 



 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 



 






 



 






 



 






 



 






 






 






 






 






 






 



 






 



 






 



 






 






 






 






 






 






 






 






 






 






 






 






 



 






 



 






 






 






 






 






 






 






 



 






 






 






 






 






 






 



 






 






 





	







 






 






 






 






 






 






 






 






 



 






 






 



 






 






 






 



 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 



 






 






 






 






 






 






 



 






 



 






 






 






 






 






 






 






 






 



 






 






 



 






 



 






 






 






 



 






 



 






 






 






 






 






 






 






 






 



 






 






 



 






 



 






 



 






 



 






 






 






 



 






 






 






 






 






 






 






 






 






 






 



 






 






 






 



 






 






 






 



 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 



 






 



 






 



 






 






 






 



 






 






 



 






 






 






 






 






 



 






 






 



 






 






 






 



 






 






 



 






 






 






 






 



 






 



 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 






 



 






 






 






 






 






 



 






 






 



 






 



 






 



 






 



 






 



 






 



 






 



 






 



 






 



 






 



 






 






 






 






 



 






 



 






 






 






 






 






 



 






 






 



 






 



 






 






 






 






 






 



 






 






 






 



 






 






 






 



 








#line 846 "plutommi\mmi\Inc\MMI_features.h"

 










 














	


	
	
	




	


	
	
	














	
	
	


























































	
	
	
















	
	
	

















































	
	
	











	
	
	











	
	
	



























































































	
	
	




	
	
	




	
	
	












	
	
	


























	
	
	





	
	
	





	
	
	




	
	
	




	
	
	











	
	
	




	
	
	













	
	
	





	
	
	





	
	
	





















	
	
	





	
	
	





	
	
	





	
	
	




















	
	
	










































	
	
	












	
	
	


















	
	
	



















	
	
	




	
	
	




	
	
	




	
	
	











	
	
	











	
	
	


















	
	
	




	
	
	




	
	
	




	
	
	











	
	
	









































	
	
	




	
	
	




	
	
	





	
	
	





	
	
	




	
	
	




	
	
	




	
	
	





	
	
	















































	
	
	





	
	
	


















	
	
	









































	
	
	















































	
	
	





	
	
	












	
	
	




	
	
	





	
	
	





	
	
	



































	
	
	












	
	
	











	
	
	












	
	
	



















	
	
	











	
	
	




	
	
	


































	
	
	




	
	
	












	
	
	































































































	
	
	




























	
	
	












































	
	
	











	
	
	




	
	
	





	
	
	
























	
	
	




































































































































	
	
	









	
	
	




	
	
	











	
	
	





	
	
	




	
	
	





	
	
	













	
	
	





	
	
	

































































































































	
	
	




	
	
	











	
	
	




	
	
	











	
	
	


























































	
	
	





	
	
	













	
	
	




	
	
	













	
	
	





	
	
	



















	
	
	





	
	
	




	
	
	





























	
	
	





































































































































































	
	
	




	
	
	



































































































































	
	
	





	
	
	




















































































































	
	
	


















	
	
	












	
	
	



















	
	
	












	
	
	





	
	
	





	
	
	




	
	
	

































	
	
	



































































































































































	
	
	





	
	
	




























































	
	
	

























































































	
	
	













	
	
	












	
	
	





	
	
	






















	
	
	





















	
	
	




























	
	
	

































	
	
	




	
	
	












	
	
	





	
	
	





	
	
	





	
	
	





	
	
	




















	
	
	





	
	
	





	
	
	




	
	
	





	
	
	













	
	
	





	
	
	





	
	
	





	
	
	





	
	
	





	
	
	




	
	
	











	
	
	











































	
	
	











































	
	
	





































































	
	
	




























	
	
	




























































































	
	
	













	
	
	





















	
	
	





















	
	
	





























	
	
	





	
	
	





























	
	
	




	
	
	












	
	
	





	
	
	











	
	
	



















	
	
	












	
	
	





	
	
	











	
	
	











	
	
	



















	
	
	


















	
	
	



























	
	
	





	
	
	





	
	
	




	
	
	



















	
	
	









































































	
	
	




























	
	
	



















	
	
	











	
	
	












	
	
	






	
	
	




	
	
	


















	
	
	




	
	
	






















	
	
	








	
	
	






	
	
	








	
	
	










	
	
	




	
	
	










	
	
	












	
	
	






	
	
	












	
	
	

















	
	
	








	
	
	












	
	
	













































	
	
	





	
	
	




























	
	
	













	
	
	











	
	
	












	
	
	





	
	
	





































	
	
	












	
	
	




	
	
	




	
	
	




	
	
	





	
	
	




	
	
	





	
	
	












	
	
	



















































	
	
	


























































































































































































































































































































	
	
	





	
	
	





	
	
	





	
	
	









































	
	
	
































	
	
	











	
	
	





	
	
	












	
	
	





	
	
	































	


	
	
	










































































	
	
	




































































	
	
	




	
	
	




	
	
	












	


	
	
	





	


	
	
	





	
	
	













	
	
	




	
	
	



















	
	
	

























































































	
	
	




	
	
	





	
	
	





	
	
	





	
	
	




	
	
	





	
	
	

































	
	
	





























































































































































	
	
	





























	
	
	





































































	
	
	





	
	
	









































































































	
	
	












	
	
	




	
	
	












	
	
	













	
	
	





	
	
	





	
	
	














#line 521 "custom\common\PLUTO_MMI\nvram_common_defs.h"
#line 1 "interface\ps\nvram_data_items.h"
 


































 






































     







#line 1 "kal\include\kal_release.h"
#line 84 "interface\ps\nvram_data_items.h"

#line 1 "sst\include\ex_item.h"
 


































 












































































































































































 



typedef enum
{
    Healthy = 0,
    InternalSRAMCorrupted = 1,
    SystemStackCorrupted = 2,
    TaskStackCorrupted = 3,
    HISRStackCorrupted = 4,
    VectorTableCorrupted = 5
} EX_DIAGNOSIS_T;


 








 
typedef struct ex_exception_record_header_t
{
    exception_type ex_type;
    kal_uint8 ex_nvram;
    kal_uint16 ex_serial_num;
} EX_HEADER_T;

 
typedef struct _ex_rtc_struct
{
    kal_uint8 rtc_sec;     
    kal_uint8 rtc_min;     
    kal_uint8 rtc_hour;    
    kal_uint8 rtc_day;     
    kal_uint8 rtc_mon;     
    kal_uint8 rtc_wday;    
    kal_uint8 rtc_year;    
    kal_uint8 rtc_pad;     
} ex_rtc_struct;

 
typedef struct ex_environment_info_t
{
    boot_mode_type boot_mode;
    ex_rtc_struct rtc;
    kal_char execution_unit[ 8 ];
    kal_uint8 status;
    kal_uint8 pad[2];
    kal_uint32 stack_ptr;
    kal_uint32 stack_dump[ 10 ];
    kal_uint16 ext_queue_pending_cnt;
    kal_uint32 ext_queue_pending[ 20 ];
    kal_uint32 interrupt_mask[2];
    kal_uint32 processing_lisr;
    kal_uint32 lr;
} EX_ENVINFO_T;

 
typedef struct ex_diagnosis_info_t
{
    EX_DIAGNOSIS_T diagnosis;
    kal_char owner[ 8 ];
    kal_uint8 pad[3];
    kal_uint32 timing_check[ 6 ];
} EX_DIAGNOSISINFO_T;


 













 







 
typedef struct ex_fatalerror_code_t
{
    kal_uint32 code1;
    kal_uint32 code2;
} EX_FATALERR_CODE_T;

typedef struct ex_description_t
{
    kal_uint32 trace;
    kal_uint8 param[ 16 ];
} EX_DESCRIPTION_T;

typedef struct ex_analysis_t
{
    kal_uint32 trace;
    kal_uint8 param[ 48 ];
} EX_ANALYSIS_T;

typedef struct ex_guideline_t
{
    kal_uint32 trace;
    kal_uint8 param[ 16 ];
} EX_GUIDELINE_T;


 



typedef struct
{
    kal_char ex_his_owner[8];    
    kal_char ex_his_source[16];  
    kal_uint32 ex_his_line;  
    kal_uint32 ex_his_count;     
} EX_CTRLBUFF_HISTORY_T;

typedef struct
{
    kal_uint32 ex_buf_RTOS_header1;   
    kal_uint32 ex_buf_RTOS_header2;   
    kal_uint32 ex_buf_KAL_header1;  
    kal_uint32 ex_buf_KAL_header2;  
    kal_uint32 ex_buf_KAL_header3;  
    kal_uint32 ex_buf_poolID;       
    kal_uint32 ex_buf_KAL_footer1;  
    kal_uint32 ex_buf_KAL_footer2;  
} EX_CTRLBUFF_COMMON_T;

typedef struct
{
    kal_char ex_buf_source[12];   
    kal_uint32 ex_buf_line;         
} EX_CTRLBUFF_OWNER_T;

typedef union
{
    EX_CTRLBUFF_HISTORY_T history;
    EX_CTRLBUFF_COMMON_T common;
} EX_CTRLBUFF_INFO_T;

typedef struct
{
    kal_uint32 ex_ctrlbuf_size;  
    kal_uint32 ex_ctrlbuf_num;   
    EX_CTRLBUFF_INFO_T ex_ctrlbuf_top;  
    EX_CTRLBUFF_INFO_T ex_ctrlbuf_second;   
    EX_CTRLBUFF_INFO_T ex_ctrlbuf_third;    
    EX_CTRLBUFF_OWNER_T ex_monitor[3];
    kal_uint32 ex_reserved[2];   
} EX_CTRLBUFF_T;

typedef struct
{
    kal_uint8 ex_q_src_mod;         
    kal_uint8 ex_q_count;           
    kal_uint16 ex_q_msg_id;          
    kal_uint16 ex_q_cur_mes_no;      
    kal_uint16 ex_q_config_entry;    
} EX_QUEUE_T;

typedef struct
{
    kal_char ex_task_name[8];        
    kal_char ex_task_stack_gp[8];    
    kal_uint32 ex_task_cur_status;     
    EX_QUEUE_T ex_task_external_q;     
    EX_QUEUE_T ex_task_internal_q;     
    kal_uint32 ex_reserved;            
} EX_TASKINFO_T;

 





typedef struct ex_fatalerror_t
{
    EX_FATALERR_CODE_T error_code;
    EX_DESCRIPTION_T description;
    EX_ANALYSIS_T analysis;
    EX_GUIDELINE_T guideline;
    union
    {
        EX_CTRLBUFF_T ctrl_buff;
        EX_TASKINFO_T task_info[ 4 ];
    } info;
} EX_FATALERR_T;


 










typedef struct ex_assert_fail_t
{
    kal_char filename[ 24 ];
    kal_uint32 linenumber;
    kal_uint32 parameters[3];
    kal_uint8 dump[  512  - ( sizeof(EX_HEADER_T)  +  12  +  sizeof(EX_ENVINFO_T)  +  sizeof(EX_DIAGNOSISINFO_T)  +   24  + sizeof(kal_uint32) * 4 +  4  ) ];
    kal_uint8 guard[ 4 ];
} EX_ASSERTFAIL_T;


 



typedef union
{
    EX_FATALERR_T fatalerr;
    EX_ASSERTFAIL_T assert;
} EX_CONTENT_T;

 
typedef struct ex_exception_log_t
{
    EX_HEADER_T header;
    kal_char sw_version[ 12 ];
    EX_ENVINFO_T envinfo;
    EX_DIAGNOSISINFO_T diaginfo;
    EX_CONTENT_T content;
} EX_LOG_T;

 
typedef struct ex_assertfail_record_t
{
    EX_HEADER_T header;
    kal_char sw_version[ 12 ];
    EX_ENVINFO_T envinfo;
    EX_DIAGNOSISINFO_T diaginfo;
    EX_ASSERTFAIL_T assert;
} ex_assertfail_record;

 
typedef struct ex_assertdumpextended_record_t
{
    EX_HEADER_T header;
    kal_char sw_version[ 512  -  sizeof(EX_HEADER_T) ];
} ex_assertdumpextended_record;

 
typedef struct ex_exception_record_t
{
    EX_HEADER_T header;
    kal_char sw_version[ 12 ];
    EX_ENVINFO_T envinfo;
    EX_DIAGNOSISINFO_T diaginfo;
    EX_FATALERR_CODE_T error_code;
    EX_DESCRIPTION_T description;
    EX_ANALYSIS_T analysis;
    EX_GUIDELINE_T guideline;
    EX_TASKINFO_T task_info[ 4 ];
} ex_exception_record;

 
typedef struct ex_stackfatalerr_task_record_t
{
    EX_HEADER_T header;
    kal_char sw_version[ 12 ];
    EX_ENVINFO_T envinfo;
    EX_DIAGNOSISINFO_T diaginfo;
    EX_FATALERR_CODE_T error_code;
    EX_DESCRIPTION_T description;
    EX_ANALYSIS_T analysis;
    EX_GUIDELINE_T guideline;
    EX_TASKINFO_T task_info[ 4 ];
} ex_stackfatalerr_task_record;

 
typedef struct ex_stackfatalerr_ctrlbuf_record_t
{
    EX_HEADER_T header;
    kal_char sw_version[ 12 ];
    EX_ENVINFO_T envinfo;
    EX_DIAGNOSISINFO_T diaginfo;
    EX_FATALERR_CODE_T error_code;
    EX_DESCRIPTION_T description;
    EX_ANALYSIS_T analysis;
    EX_GUIDELINE_T guideline;
    EX_CTRLBUFF_T ctrl_buff;
} ex_stackfatalerr_ctrlbuf_record;

 
typedef struct
{
    exception_type type;
    kal_bool ext;
    kal_uint32 *code1;
    kal_uint32 *code2;
    kal_uint32 e1;
    kal_uint32 e2;
    kal_uint32 e3;
    kal_uint32 interrupt_mask1;
    kal_uint32 interrupt_mask2;
    ASSERT_DUMP_PARAM_T *dump_param;
} EX_INIT_LOG_PARAM_T;


 


























 




   











   











   











 



extern void ex_init_log(EX_INIT_LOG_PARAM_T *param);
extern void ex_save_log(EX_INIT_LOG_PARAM_T *param);

extern void ex_reset_hw(void);
extern void ex_reboot(void);

extern void ex_output_log(void);

extern void ex_query_bbreg_info(kal_uint32 **addr, kal_uint32 *cnt);


extern kal_int8 ex_init_ctrl_buff_log(kal_uint32 *target_ptr, kal_uint32 code1, kal_uint32 code2);


 



extern kal_uint32 INT_MemoryDumpFlag;
extern EX_LOG_T *ex_log_ptr;




#line 85 "interface\ps\nvram_data_items.h"

#line 1 "config\include\stack_config.h"
#line 87 "interface\ps\nvram_data_items.h"


#line 1 "adaptation\include\stack_buff_pool.h"
 


































 











































 










 


typedef struct buff_pool_info_struct {
   kal_poolid pool_id;
   kal_uint32 size;
   kal_uint16 no_of_buff;
   kal_uint32 num_of_misses;
} buff_pool_info_struct;

 


extern void stack_init_buff_pool_info(void);
extern kal_bool stack_resources_init(void);
extern void stack_ps_init_buff_pool_info(void);
extern kal_bool stack_ps_resources_init(void);




#line 89 "interface\ps\nvram_data_items.h"
#line 1 "adaptation\include\ctrl_buff_pool.h"
 


































 

















































































































































 










 








 



 


 
typedef enum {
   CTRL_BUFF_POOL_SIZE08      = 8,
   CTRL_BUFF_POOL_SIZE16      = 16,
   CTRL_BUFF_POOL_SIZE32      = 32,
   CTRL_BUFF_POOL_SIZE64      = 64,
   CTRL_BUFF_POOL_SIZE128     = 128,
   CTRL_BUFF_POOL_SIZE256     = 256,
   CTRL_BUFF_POOL_SIZE512     = 512,
   CTRL_BUFF_POOL_SIZE1024    = 1024,
   CTRL_BUFF_POOL_SIZE2048    = 2048,
   CTRL_BUFF_POOL_SIZE4096    = 4096,
   CTRL_BUFF_POOL_SIZE8192    = 8192,
   CTRL_BUFF_POOL_SIZE16384   = 16384,
   CTRL_BUFF_POOL_SIZE32768   = 32768,
   CTRL_BUFF_POOL_SIZE65536   = 65536,






   CTRL_BUFF_POOL_MAX_BUFF_SIZE = CTRL_BUFF_POOL_SIZE65536

} ctrl_buff_pool_size;



































































 

typedef enum {
   NUM_CTRL_BUFF_POOL_SIZE08   = 200,
   NUM_CTRL_BUFF_POOL_SIZE16   = 100,
   NUM_CTRL_BUFF_POOL_SIZE32   = 100,
   NUM_CTRL_BUFF_POOL_SIZE64   = 100,
   NUM_CTRL_BUFF_POOL_SIZE128  = 61,
   NUM_CTRL_BUFF_POOL_SIZE256  = 50,
   NUM_CTRL_BUFF_POOL_SIZE512  = 22,
   NUM_CTRL_BUFF_POOL_SIZE1024 = 16,
   NUM_CTRL_BUFF_POOL_SIZE2048 = 10,
   NUM_CTRL_BUFF_POOL_SIZE4096 = 0,
   NUM_CTRL_BUFF_POOL_SIZE8192 = 0,
   NUM_CTRL_BUFF_POOL_SIZE16384 =0,
   NUM_CTRL_BUFF_POOL_SIZE32768 =0,
   NUM_CTRL_BUFF_POOL_SIZE65536 =0
} ctrl_num_buff_pool_size;
























































 


extern buff_pool_info_struct ctrl_buff_pool_info_g[  14 ];

 


extern void stack_init_ctrl_buff_pool_info( void );
extern kal_bool stack_create_ctrl_buff_pools(void);
extern kal_poolid get_ctrl_pool_id_from_buff_size(kal_uint32 buff_size);



#line 90 "interface\ps\nvram_data_items.h"
#line 1 "adaptation\include\tst_buff_pool.h"
 


































 



























































 










 




 


typedef enum {
   TST_BUFF_POOL_SIZE08    = 8,
   TST_BUFF_POOL_SIZE16    = 16,
   TST_BUFF_POOL_SIZE32    = 32,
   TST_BUFF_POOL_SIZE64    = 64,
   TST_BUFF_POOL_SIZE128   = 128,
   TST_BUFF_POOL_SIZE256   = 256,
   TST_BUFF_POOL_SIZE512   = 512,
   TST_BUFF_POOL_SIZE1024  = 1024,
   TST_BUFF_POOL_SIZE2048  = 2048,
   TST_BUFF_POOL_SIZE4096  = 4096,
   TST_BUFF_POOL_SIZE8192  = 8192,
   TST_BUFF_POOL_SIZE16384 = 16384,
   TST_BUFF_POOL_SIZE32768 = 32768,
   TST_BUFF_POOL_SIZE65536 = 65536,
   TST_BUFF_POOL_MAX_BUFF_SIZE = TST_BUFF_POOL_SIZE65536
} tst_buff_pool_size;



















 
typedef enum {
   NUM_TST_BUFF_POOL_SIZE08   = 0,
   NUM_TST_BUFF_POOL_SIZE16   = 0,
   NUM_TST_BUFF_POOL_SIZE32   = 20,
   NUM_TST_BUFF_POOL_SIZE64   = 30,
   NUM_TST_BUFF_POOL_SIZE128  = 40,
   NUM_TST_BUFF_POOL_SIZE256  = 50,
   NUM_TST_BUFF_POOL_SIZE512  = 6,
   NUM_TST_BUFF_POOL_SIZE1024 = 4,
   NUM_TST_BUFF_POOL_SIZE2048 = 2,
   NUM_TST_BUFF_POOL_SIZE4096 = 0,
   NUM_TST_BUFF_POOL_SIZE8192 = 0,
   NUM_TST_BUFF_POOL_SIZE16384 =0,
   NUM_TST_BUFF_POOL_SIZE32768 =0,
   NUM_TST_BUFF_POOL_SIZE65536 =0
} tst_num_buff_pool_size;




















 


 



 



void* get_int_tst_buffer(kal_uint32 buff_size, char* file_name, kal_uint32 line);
   





extern void stack_init_tst_buff_pool_info(void);
extern kal_bool stack_create_tst_buff_pools(void);
extern kal_poolid get_tst_pool_id_from_buff_size(kal_uint32 buff_size);

 


extern buff_pool_info_struct tst_buff_pool_info_g[ 12 ];




#line 91 "interface\ps\nvram_data_items.h"
#line 1 "config\include\sysconf_statistics.h"
 


































 



















































 


enum {
	STACK_STATS_NONE,
	STACK_STATS_UPDATE,
	STACK_STATS_END
};

typedef struct stack_statistics_t {
	kal_uint16 stack_stats_status;													 
	kal_uint32 max_sys_mem_used;														 
	kal_uint32 max_sysdebug_mem_used;												 
	kal_uint16 max_task_stack_used[RPS_TOTAL_STACK_TASKS];					 
	kal_uint16 max_hisr_stack_used[ 20 ];							 

	kal_uint8 max_task_extq_enqued[RPS_TOTAL_STACK_TASKS];					 
        kal_uint8 max_task_intq_enqued[RPS_TOTAL_STACK_TASKS];					 


	kal_uint16 max_ctrl_buff_num_allocated[ 14 ];	 
	kal_uint16 max_tst_buff_num_allocated[ 12 ];	 

} stack_statistics_struct;




#line 92 "interface\ps\nvram_data_items.h"
#line 1 "interface\ps\nvram_defs.h"
 


































 



































     





#line 1 "custom\common\nvram_lid_statistics.h"
 


































 





































#line 79 "interface\ps\nvram_defs.h"




 








     


















































    typedef kal_char NVRAM_FILE_NAME[9];

     
    typedef kal_uint16 nvram_attr_enum;


















 



typedef kal_uint32 nvram_category_enum;











typedef kal_uint16 nvram_lid_enum;
typedef struct
{
    nvram_lid_enum LID;              
    kal_uint16 size;                 
    kal_uint16 total_records;        
    kal_uint8 const *default_value;  
    nvram_attr_enum attr;            
    nvram_category_enum category;    
    kal_char fileprefix[ 4  + 1];
    kal_char fileverno[ 3  + 1];
    kal_char *description;
    kal_uint8 record_ID;             
} ltable_entry_struct;













 



typedef struct
{
   nvram_lid_enum	LID;             		             
	kal_uint8	*offset;					             
	kal_uint32	dirty_records[ 2 ];     
}shadow_ltable_struct;

















extern const kal_uint8 NVRAM_EF_ZERO_DEFAULT[];
extern const kal_uint8 NVRAM_EF_FF_DEFAULT[];
extern const kal_uint8 *NVRAM_EF_CUSTPACK_DEFAULT[];

extern ltable_entry_struct *logical_data_item_table[];

extern ltable_entry_struct logical_data_item_table_core[];
extern ltable_entry_struct logical_data_item_table_comm_app[];
extern ltable_entry_struct logical_data_item_table_cust[];

extern const kal_uint8 NVRAM_TOTAL_LID;
extern kal_uint8 coded_version_lock[];

extern const kal_uint8 NVRAM_LAST_COMMAPP_LID;







#line 93 "interface\ps\nvram_data_items.h"




#line 1 "adaptation\include\stack_common.h"
 


































 


















































































































































































































































































































































































































































 











 





 



 
 




typedef enum {

   MSG_ID_MM_CODE_BEGIN = 501,
   MSG_ID_MM_CODE_RANGE = 100,

   MSG_ID_CC_CODE_BEGIN = (MSG_ID_MM_CODE_BEGIN + MSG_ID_MM_CODE_RANGE),
   MSG_ID_CC_CODE_RANGE = 100,

   MSG_ID_DT_CODE_BEGIN = (MSG_ID_CC_CODE_BEGIN + MSG_ID_CC_CODE_RANGE),
   MSG_ID_DT_CODE_RANGE = 10,

   MSG_ID_CISS_CODE_BEGIN = (MSG_ID_DT_CODE_BEGIN + MSG_ID_DT_CODE_RANGE),
   MSG_ID_CISS_CODE_RANGE = 100,

   MSG_ID_SMS_CODE_BEGIN = (MSG_ID_CISS_CODE_BEGIN + MSG_ID_CISS_CODE_RANGE),
   MSG_ID_SMS_CODE_RANGE = 100,

   MSG_ID_SIM_CODE_BEGIN = (MSG_ID_SMS_CODE_BEGIN + MSG_ID_SMS_CODE_RANGE),
   MSG_ID_SIM_CODE_RANGE = 150,

   MSG_ID_L4C_CODE_BEGIN = (MSG_ID_SIM_CODE_BEGIN + MSG_ID_SIM_CODE_RANGE),
   MSG_ID_L4C_CODE_RANGE = 300,

   MSG_ID_TCM_CODE_BEGIN = (MSG_ID_L4C_CODE_BEGIN + MSG_ID_L4C_CODE_RANGE),
   MSG_ID_TCM_CODE_RANGE = 100,

   MSG_ID_CSM_CODE_BEGIN = (MSG_ID_TCM_CODE_BEGIN + MSG_ID_TCM_CODE_RANGE),
   MSG_ID_CSM_CODE_RANGE = 100,

   MSG_ID_SMSAL_CODE_BEGIN = (MSG_ID_CSM_CODE_BEGIN + MSG_ID_CSM_CODE_RANGE),
   MSG_ID_SMSAL_CODE_RANGE = 100,

   MSG_ID_SMU_CODE_BEGIN = (MSG_ID_SMSAL_CODE_BEGIN + MSG_ID_SMSAL_CODE_RANGE),
   MSG_ID_SMU_CODE_RANGE = 100,

   MSG_ID_UEM_CODE_BEGIN = (MSG_ID_SMU_CODE_BEGIN + MSG_ID_SMU_CODE_RANGE),
   MSG_ID_UEM_CODE_RANGE = 100,

   MSG_ID_RAC_CODE_BEGIN = (MSG_ID_UEM_CODE_BEGIN + MSG_ID_UEM_CODE_RANGE),
   MSG_ID_RAC_CODE_RANGE = 100,

   MSG_ID_USAT_CODE_BEGIN = (MSG_ID_RAC_CODE_BEGIN + MSG_ID_RAC_CODE_RANGE),
   MSG_ID_USAT_CODE_RANGE = 100,

   MSG_ID_PHB_CODE_BEGIN = (MSG_ID_USAT_CODE_BEGIN + MSG_ID_USAT_CODE_RANGE),
   MSG_ID_PHB_CODE_RANGE = 100,

   MSG_ID_ENG_CODE_BEGIN = (MSG_ID_PHB_CODE_BEGIN + MSG_ID_PHB_CODE_RANGE),
   MSG_ID_ENG_CODE_RANGE = 100,

   MSG_ID_L4A_CODE_BEGIN = (MSG_ID_ENG_CODE_BEGIN + MSG_ID_ENG_CODE_RANGE),
   MSG_ID_L4A_CODE_RANGE = 1300,

   MSG_ID_RLC_CODE_BEGIN = (MSG_ID_L4A_CODE_BEGIN + MSG_ID_L4A_CODE_RANGE),
   MSG_ID_RLC_CODE_RANGE = 100,

    
    
   MSG_ID_RRM_COMMON_CODE_BEGIN = (MSG_ID_RLC_CODE_BEGIN + MSG_ID_RLC_CODE_RANGE),
   MSG_ID_RRM_COMMON_CODE_RANGE = 100,
   MSG_ID_RRM_CODE_BEGIN = MSG_ID_RRM_COMMON_CODE_BEGIN,
   MSG_ID_RRM_CODE_RANGE = MSG_ID_RRM_COMMON_CODE_RANGE,

   MSG_ID_RCS_CODE_BEGIN = (MSG_ID_RRM_COMMON_CODE_BEGIN + MSG_ID_RRM_COMMON_CODE_RANGE),
   MSG_ID_RCS_CODE_RANGE = 100,

   MSG_ID_RMPC_CODE_BEGIN = (MSG_ID_RCS_CODE_BEGIN + MSG_ID_RCS_CODE_RANGE),
   MSG_ID_RMPC_CODE_RANGE = 200,
   
   MSG_ID_RRM_MPAL_DM_CODE_BEGIN = (MSG_ID_RMPC_CODE_BEGIN + MSG_ID_RMPC_CODE_RANGE),
   MSG_ID_RRM_MPAL_DM_CODE_RANGE = 100,

   MSG_ID_MAC_CODE_BEGIN = (MSG_ID_RRM_MPAL_DM_CODE_BEGIN + MSG_ID_RRM_MPAL_DM_CODE_RANGE),
   MSG_ID_MAC_CODE_RANGE = 100,
   
   MSG_ID_LAPDM_CODE_BEGIN = (MSG_ID_MAC_CODE_BEGIN + MSG_ID_MAC_CODE_RANGE),
   MSG_ID_LAPDM_CODE_RANGE = 100,
   
   MSG_ID_REASM_CODE_BEGIN = (MSG_ID_LAPDM_CODE_BEGIN + MSG_ID_LAPDM_CODE_RANGE),
   MSG_ID_REASM_CODE_RANGE = 100,
   
   MSG_ID_MPAL_CODE_BEGIN = (MSG_ID_REASM_CODE_BEGIN + MSG_ID_REASM_CODE_RANGE),
   MSG_ID_MPAL_CODE_RANGE = 100,
   
   MSG_ID_LLC_CODE_BEGIN = (MSG_ID_MPAL_CODE_BEGIN + MSG_ID_MPAL_CODE_RANGE),
   MSG_ID_LLC_CODE_RANGE = 100,
   
   MSG_ID_SND_CODE_BEGIN = (MSG_ID_LLC_CODE_BEGIN + MSG_ID_LLC_CODE_RANGE),
   MSG_ID_SND_CODE_RANGE = 100,
   
   MSG_ID_SM_CODE_BEGIN = (MSG_ID_SND_CODE_BEGIN + MSG_ID_SND_CODE_RANGE),
   MSG_ID_SM_CODE_RANGE = 100,
   
   MSG_ID_PPP_CODE_BEGIN = (MSG_ID_SM_CODE_BEGIN + MSG_ID_SM_CODE_RANGE),
   MSG_ID_PPP_CODE_RANGE = 100,
   
   MSG_ID_TDT_CODE_BEGIN = (MSG_ID_PPP_CODE_BEGIN + MSG_ID_PPP_CODE_RANGE),
   MSG_ID_T30_CODE_BEGIN = (MSG_ID_TDT_CODE_BEGIN + 9),
   MSG_ID_FA_CODE_BEGIN = (MSG_ID_T30_CODE_BEGIN + 50),
   MSG_ID_TDT_CODE_RANGE = 100,
   
   MSG_ID_L2R_CODE_BEGIN = (MSG_ID_TDT_CODE_BEGIN + MSG_ID_TDT_CODE_RANGE),
   MSG_ID_L2R_CODE_RANGE = 100,
   
   MSG_ID_RLP_CODE_BEGIN = (MSG_ID_L2R_CODE_BEGIN + MSG_ID_L2R_CODE_RANGE),
   MSG_ID_RLP_CODE_RANGE = 100,
   
   MSG_ID_MMIAPI_CODE_BEGIN = (MSG_ID_RLP_CODE_BEGIN + MSG_ID_RLP_CODE_RANGE),
   MSG_ID_MMIAPI_CODE_RANGE = 100,
   
   MSG_ID_MED_CODE_BEGIN = (MSG_ID_MMIAPI_CODE_BEGIN + MSG_ID_MMIAPI_CODE_RANGE),
   MSG_ID_MED_CODE_RANGE = 500,
   
   MSG_ID_VT_CODE_BEGIN = (MSG_ID_MED_CODE_BEGIN + MSG_ID_MED_CODE_RANGE),
   MSG_ID_VT_CODE_RANGE = 100,

   MSG_ID_F_CSR_CODE_BEGIN = (MSG_ID_VT_CODE_BEGIN + MSG_ID_VT_CODE_RANGE),
   MSG_ID_F_CSR_CODE_RANGE = 100,

   MSG_ID_ABM_CODE_BEGIN = (MSG_ID_F_CSR_CODE_BEGIN + MSG_ID_F_CSR_CODE_RANGE),
   MSG_ID_ABM_CODE_RANGE = 100,
   
   MSG_ID_SOC_CODE_BEGIN = (MSG_ID_ABM_CODE_BEGIN + MSG_ID_ABM_CODE_RANGE),
   MSG_ID_SOC_CODE_RANGE = 100,
   
   MSG_ID_TCPIP_CODE_BEGIN = (MSG_ID_SOC_CODE_BEGIN + MSG_ID_SOC_CODE_RANGE),
   MSG_ID_TCPIP_CODE_RANGE = 100,
   
   MSG_ID_WAP_CODE_BEGIN = (MSG_ID_TCPIP_CODE_BEGIN + MSG_ID_TCPIP_CODE_RANGE),
   MSG_ID_WAP_CODE_RANGE = 300,
   
   MSG_ID_EM_CODE_BEGIN = (MSG_ID_WAP_CODE_BEGIN + MSG_ID_WAP_CODE_RANGE),
   MSG_ID_EM_CODE_RANGE = 100,
   
   MSG_ID_IRDA_CODE_BEGIN = (MSG_ID_EM_CODE_BEGIN + MSG_ID_EM_CODE_RANGE),
   MSG_ID_IRDA_CODE_RANGE = 100,
   
   MSG_ID_OBEX_CODE_BEGIN = (MSG_ID_IRDA_CODE_BEGIN + MSG_ID_IRDA_CODE_RANGE),
   MSG_ID_OBEX_CODE_RANGE = 100,
   
   MSG_ID_IRCOMM_CODE_BEGIN = (MSG_ID_OBEX_CODE_BEGIN + MSG_ID_OBEX_CODE_RANGE),
   MSG_ID_IRCOMM_CODE_RANGE = 100,
   
   MSG_ID_MED_V_CODE_BEGIN = (MSG_ID_IRCOMM_CODE_BEGIN + MSG_ID_IRCOMM_CODE_RANGE),
   MSG_ID_MED_V_CODE_RANGE = 100,
   
   MSG_ID_J2ME_CODE_BEGIN = (MSG_ID_MED_V_CODE_BEGIN + MSG_ID_MED_V_CODE_RANGE),
   MSG_ID_J2ME_CODE_RANGE = 200,
   
   MSG_ID_EMAIL_CODE_BEGIN = (MSG_ID_J2ME_CODE_BEGIN + MSG_ID_J2ME_CODE_RANGE),
   MSG_ID_EMAIL_CODE_RANGE = 180,
   
   MSG_ID_FMT_MSG_CODE_BEGIN = (MSG_ID_EMAIL_CODE_BEGIN + MSG_ID_EMAIL_CODE_RANGE),
   MSG_ID_FMT_MSG_CODE_RANGE = 120,
   
   DRIVER_MSG_CODE_BEGIN = (MSG_ID_FMT_MSG_CODE_BEGIN + MSG_ID_FMT_MSG_CODE_RANGE),
   DRIVER_MSG_CODE_RANGE = 200,
   
   MSG_ID_NVRAM_CODE_BEGIN = (DRIVER_MSG_CODE_BEGIN + DRIVER_MSG_CODE_RANGE),
   MSG_ID_NVRAM_CODE_RANGE = 100,
   
   MSG_ID_DPS_MSG_START = (MSG_ID_NVRAM_CODE_BEGIN + MSG_ID_NVRAM_CODE_RANGE),
   MSG_ID_DPS_MSG_RANGE = 1000,
   
   MSG_ID_UDPS_MSG_START = (MSG_ID_DPS_MSG_START + MSG_ID_DPS_MSG_RANGE),
   MSG_ID_UDPS_MSG_RANGE = 1000,

   L1_MSG_CODE_BEGIN = (MSG_ID_UDPS_MSG_START + MSG_ID_UDPS_MSG_RANGE),
   L1_MSG_CODE_RANGE = 200,
   
   L1HISR_MSG_CODE_BEGIN = (L1_MSG_CODE_BEGIN + L1_MSG_CODE_RANGE),
   L1HISR_MSG_CODE_RANGE = 700,
   
   FT_MSG_CODE_BEGIN = (L1HISR_MSG_CODE_BEGIN + L1HISR_MSG_CODE_RANGE),
   FT_MSG_CODE_RANGE = 100,

   TST_MSG_CODE_BEGIN = (FT_MSG_CODE_BEGIN + FT_MSG_CODE_RANGE),
   TST_MSG_CODE_RANGE = 1200,
   
   SYSDEBUG_MSG_CODE_BEGIN = (TST_MSG_CODE_BEGIN + TST_MSG_CODE_RANGE),
   SYSDEBUG_MSG_CODE_RANGE = 100,
   
   CMUX_MSG_CODE_BEGIN = (SYSDEBUG_MSG_CODE_BEGIN + SYSDEBUG_MSG_CODE_RANGE),
   CMUX_MSG_CODE_RANGE = 1100,
   
   MSG_ID_IMPS_CODE_BEGIN = (CMUX_MSG_CODE_BEGIN + CMUX_MSG_CODE_RANGE),
   MSG_ID_IMPS_CODE_RANGE = 150,
   
   SIP_MSG_CODE_BEGIN = (MSG_ID_IMPS_CODE_BEGIN + MSG_ID_IMPS_CODE_RANGE),
   SIP_MSG_CODE_RANGE = 50,
   
   POC_MSG_CODE_BEGIN = (SIP_MSG_CODE_BEGIN + SIP_MSG_CODE_RANGE),
   POC_MSG_CODE_RANGE = 100,
   
   BCHS_MSG_CODE_BEGIN = (POC_MSG_CODE_BEGIN + POC_MSG_CODE_RANGE),
   BCHS_MSG_CODE_RANGE = 1000,
   
   BT_MSG_CODE_BEGIN = (BCHS_MSG_CODE_BEGIN + BCHS_MSG_CODE_RANGE),
   BT_MSG_CODE_RANGE = 600,
      
   XDM_MSG_CODE_BEGIN = (BT_MSG_CODE_BEGIN + BT_MSG_CODE_RANGE),
   XDM_MSG_CODE_RANGE = 50,
   
   WNDRV_MSG_CODE_BEGIN = (XDM_MSG_CODE_BEGIN + XDM_MSG_CODE_RANGE),
   WNDRV_MSG_CODE_RANGE = 100,

   SUPC_MSG_CODE_BEGIN = (WNDRV_MSG_CODE_BEGIN + WNDRV_MSG_CODE_RANGE),
   SUPC_MSG_CODE_RANGE  = 100,

   MSG_ID_DHCP_CODE_BEGIN = (SUPC_MSG_CODE_BEGIN + SUPC_MSG_CODE_RANGE),
   MSG_ID_DHCP_CODE_RANGE  = 50,
   
   MSG_ID_IPERF_CODE_BEGIN = (MSG_ID_DHCP_CODE_BEGIN + MSG_ID_DHCP_CODE_RANGE),
   MSG_ID_IPERF_CODE_RANGE  = 50,
   
   MSG_ID_TFTP_CODE_BEGIN = (MSG_ID_IPERF_CODE_BEGIN + MSG_ID_IPERF_CODE_RANGE),
   MSG_ID_TFTP_CODE_RANGE  = 50,
     
   SAF_MSG_CODE_BEGIN = (MSG_ID_TFTP_CODE_BEGIN + MSG_ID_TFTP_CODE_RANGE),
   SAF_MSG_CODE_RANGE = 50,
   
   VOIP_MSG_CODE_BEGIN = (SAF_MSG_CODE_BEGIN + SAF_MSG_CODE_RANGE),
   VOIP_MSG_CODE_RANGE = 100,
   
   VUART_MSG_CODE_BEGIN = (VOIP_MSG_CODE_BEGIN + VOIP_MSG_CODE_RANGE),
   VUART_MSG_CODE_RANGE  = 10,
 
   MSG_ID_MED_C_CODE_BEGIN = (VUART_MSG_CODE_BEGIN + VUART_MSG_CODE_RANGE),
   MSG_ID_MED_C_CODE_RANGE = 100,

   MSG_ID_SYNCML_CODE_BEGIN = (MSG_ID_MED_C_CODE_BEGIN + MSG_ID_MED_C_CODE_RANGE),
   MSG_ID_SYNCML_CODE_RANGE = 100,

   RTSP_MSG_CODE_BEGIN = (MSG_ID_SYNCML_CODE_BEGIN + MSG_ID_SYNCML_CODE_RANGE),
   RTSP_MSG_CODE_RANGE = 20,

   MSG_ID_MEXE_CODE_BEGIN = (RTSP_MSG_CODE_BEGIN + RTSP_MSG_CODE_RANGE),
   MSG_ID_MEXE_CODE_RANGE = 10,

   MSG_ID_DM_CODE_BEGIN = (MSG_ID_MEXE_CODE_BEGIN + MSG_ID_MEXE_CODE_RANGE),
   MSG_ID_DM_CODE_RANGE = 50,

   MSG_ID_DRMT_MSG_CODE_BEGIN = (MSG_ID_DM_CODE_BEGIN + MSG_ID_DM_CODE_RANGE),
   MSG_ID_DRMT_MSG_CODE_RANGE = 100,

   MSG_ID_GIS_MSG_CODE_BEGIN = (MSG_ID_DRMT_MSG_CODE_BEGIN + MSG_ID_DRMT_MSG_CODE_RANGE),
   MSG_ID_GIS_MSG_CODE_RANGE = 50,

   MSG_ID_CERTMAN_MSG_CODE_BEGIN = (MSG_ID_GIS_MSG_CODE_BEGIN + MSG_ID_GIS_MSG_CODE_RANGE),
   MSG_ID_CERTMAN_MSG_CODE_RANGE = 100,

   MSG_ID_MMI_CERTMAN_MSG_CODE_BEGIN = (MSG_ID_CERTMAN_MSG_CODE_BEGIN + MSG_ID_CERTMAN_MSG_CODE_RANGE),
   MSG_ID_MMI_CERTMAN_MSG_CODE_RANGE = 20,

   MSG_ID_TLS_CODE_BEGIN = (MSG_ID_MMI_CERTMAN_MSG_CODE_BEGIN + MSG_ID_MMI_CERTMAN_MSG_CODE_RANGE),
   MSG_ID_TLS_CODE_RANGE  = 20,

   MSG_ID_RATCM_CODE_BEGIN = (MSG_ID_TLS_CODE_BEGIN + MSG_ID_TLS_CODE_RANGE),
   MSG_ID_RATCM_CODE_RANGE = 200,

   MSG_ID_RATDM_CODE_BEGIN = (MSG_ID_RATCM_CODE_BEGIN + MSG_ID_RATCM_CODE_RANGE),
   MSG_ID_RATDM_CODE_RANGE = 100,

   MSG_ID_ADR_CODE_BEGIN = (MSG_ID_RATDM_CODE_BEGIN + MSG_ID_RATDM_CODE_RANGE),
   MSG_ID_ADR_CODE_RANGE = 100,

   MSG_ID_CSCE_CODE_BEGIN = (MSG_ID_ADR_CODE_BEGIN + MSG_ID_ADR_CODE_RANGE),
   MSG_ID_CSCE_CODE_RANGE = 100,

   MSG_ID_CSE_CODE_BEGIN = (MSG_ID_CSCE_CODE_BEGIN + MSG_ID_CSCE_CODE_RANGE),
   MSG_ID_CSE_CODE_RANGE = 100,

   MSG_ID_MEME_CODE_BEGIN = (MSG_ID_CSE_CODE_BEGIN + MSG_ID_CSE_CODE_RANGE),
   MSG_ID_MEME_CODE_RANGE = 100,

   MSG_ID_RRCE_CODE_BEGIN = (MSG_ID_MEME_CODE_BEGIN + MSG_ID_MEME_CODE_RANGE),
   MSG_ID_RRCE_CODE_RANGE = 100,

   MSG_ID_SIBE_CODE_BEGIN = (MSG_ID_RRCE_CODE_BEGIN + MSG_ID_RRCE_CODE_RANGE),
   MSG_ID_SIBE_CODE_RANGE = 100,

   MSG_ID_SLCE_CODE_BEGIN = (MSG_ID_SIBE_CODE_BEGIN + MSG_ID_SIBE_CODE_RANGE),
   MSG_ID_SLCE_CODE_RANGE = 200,

   MSG_ID_USIME_CODE_BEGIN = (MSG_ID_SLCE_CODE_BEGIN + MSG_ID_SLCE_CODE_RANGE),
   MSG_ID_USIME_CODE_RANGE = 100,

   MSG_ID_DBME_CODE_BEGIN = (MSG_ID_USIME_CODE_BEGIN + MSG_ID_USIME_CODE_RANGE),
   MSG_ID_DBME_CODE_RANGE = 20,

   MSG_ID_UMAC_CODE_BEGIN = (MSG_ID_DBME_CODE_BEGIN + MSG_ID_DBME_CODE_RANGE),
   MSG_ID_UMAC_CODE_RANGE = 100,

   MSG_ID_URLC_CODE_BEGIN = (MSG_ID_UMAC_CODE_BEGIN + MSG_ID_UMAC_CODE_RANGE),
   MSG_ID_URLC_CODE_RANGE = 100,

   MSG_ID_BMC_CODE_BEGIN = (MSG_ID_URLC_CODE_BEGIN + MSG_ID_URLC_CODE_RANGE),
   MSG_ID_BMC_CODE_RANGE = 100,

   MSG_ID_CSR_CODE_BEGIN = (MSG_ID_BMC_CODE_BEGIN + MSG_ID_BMC_CODE_RANGE),
   MSG_ID_CSR_CODE_RANGE = 100,

   MSG_ID_DRLC_CODE_BEGIN = (MSG_ID_CSR_CODE_BEGIN + MSG_ID_CSR_CODE_RANGE),
   MSG_ID_DRLC_CODE_RANGE = 100,

   MSG_ID_PDCP_CODE_BEGIN = (MSG_ID_DRLC_CODE_BEGIN + MSG_ID_DRLC_CODE_RANGE),
   MSG_ID_PDCP_CODE_RANGE = 100,

   MSG_ID_RABM_CODE_BEGIN = (MSG_ID_PDCP_CODE_BEGIN + MSG_ID_PDCP_CODE_RANGE),
   MSG_ID_RABM_CODE_RANGE = 100,

   MSG_ID_DM_CSCE_CODE_BEGIN = (MSG_ID_RABM_CODE_BEGIN + MSG_ID_RABM_CODE_RANGE),
   MSG_ID_DM_CSCE_CODE_RANGE = 100,

   MSG_ID_DM_GAS_CODE_BEGIN = (MSG_ID_DM_CSCE_CODE_BEGIN + MSG_ID_DM_CSCE_CODE_RANGE),
   MSG_ID_DM_GAS_CODE_RANGE = 200,

   MSG_ID_DM_MEME_CODE_BEGIN = (MSG_ID_DM_GAS_CODE_BEGIN + MSG_ID_DM_GAS_CODE_RANGE),
   MSG_ID_DM_MEME_CODE_RANGE = 100,

   MSG_ID_DM_RRCE_CODE_BEGIN = (MSG_ID_DM_MEME_CODE_BEGIN + MSG_ID_DM_MEME_CODE_RANGE),
   MSG_ID_DM_RRCE_CODE_RANGE = 100,

   MSG_ID_UL1_MSG_CODE_BEGIN = (MSG_ID_DM_RRCE_CODE_BEGIN + MSG_ID_DM_RRCE_CODE_RANGE),
   MSG_ID_UL1_MSG_CODE_RANGE = 200,

   MSG_ID_UL1HISR_MSG_CODE_BEGIN = (MSG_ID_UL1_MSG_CODE_BEGIN + MSG_ID_UL1_MSG_CODE_RANGE),
   MSG_ID_UL1HISR_MSG_CODE_RANGE = 5,

   MSG_ID_UL1C_MSG_CODE_BEGIN = (MSG_ID_UL1HISR_MSG_CODE_BEGIN + MSG_ID_UL1HISR_MSG_CODE_RANGE),
   MSG_ID_UL1C_MSG_CODE_RANGE = 10,

   MSG_ID_LL1_MSG_CODE_BEGIN = (MSG_ID_UL1C_MSG_CODE_BEGIN + MSG_ID_UL1C_MSG_CODE_RANGE),
   MSG_ID_LL1_MSG_CODE_RANGE = 100,

   MSG_ID_UL1TST_MSG_CODE_BEGIN = (MSG_ID_LL1_MSG_CODE_BEGIN + MSG_ID_LL1_MSG_CODE_RANGE),
   MSG_ID_UL1TST_MSG_CODE_RANGE = 50,

    
   CUSTOM_MSG_CODE_BEGIN = (MSG_ID_UL1TST_MSG_CODE_BEGIN + MSG_ID_UL1TST_MSG_CODE_RANGE + 1000)
} MSG_ID_CODE_BEGIN;


 


typedef void (*FSM_FUNCTION) (void*, void*);

typedef enum {
   INVALID_SAP = 0,
 
    
    
   GMMREG_SAP,
    
    
   MM_SMS_SAP,
   MM_CC_SAP,
   MM_SS_SAP,
   MM_AS_SAP,
   MM_SIM_SAP,
   GMM_SM_SAP,
   MNCC_SAP,
   MNSMS_SAP,
   MMREG_SAP,
   MNSS_SAP,
    
   CSM_TDT_SAP,
   CSM_L2R_SAP,
   CSM_T30_SAP,
   CSM_SIM_SAP,
   T30_L4C_SAP,
   CSM_L4C_SAP,
   SMSAL_L4C_SAP,
   UEM_L4C_SAP,
   PHB_L4C_SAP,
   SMU_L4C_SAP,
   TCM_L4C_SAP,
   RAC_L4C_SAP,
   UART_L4C_SAP,
    



   RRM_RMPC_SAP,
   RMC_LAPDM_SAP,
   RLC_RMPC_SAP,
   RMPC_MPAL_SAP,
   MAC_RMPC_SAP,
   RR_PRR_SAP,

   LAPDM_MPAL_SAP,
   RLC_MAC_SAP,
   RLC_RRM_SAP,
   RLC_MPAL_SAP,
   RLC_REASM_SAP,
   MAC_RRM_SAP,
   RRM_MPAL_SAP,
   MAC_MPAL_SAP,
   MMI_AS_SAP,
   SMSAL_AS_SAP,
    
   LLC_GMM_SAP,
   LLC_RLC_SAP,
   LLC_SNDCP_SAP,
   LLC_SMS_SAP,
   GMM_RLC_SAP,
   SNDCP_REG_SAP,
   SM_SNDCP_SAP,
   SMREG_SAP,
   PPP_L4C_SAP,
   TCM_PPP_SAP,
    
   L2R_RLP_SAP,
   RLP_RA_SAP,
   T30_FA_SAP,
   FA_RA_SAP,
   SNDCP_PPP_SAP,
   DATA_MPAL_SAP,
   L2R_SMU_SAP,

    
   PS_NVRAM_SAP,
   PS_SIM_SAP,

    
   CSM_VT_SAP,
   VT_CSR_SAP,
   VT_F_CSR_SAP,

    
   MED_SAP,
   L4_AUD_SAP=MED_SAP,


    
   MED_V_SAP,



    
   MED_C_SAP,


    
   MMI_L4C_SAP,
   ABM_MMI_SAP,
   MMI_ABM_SAP,
   MMI_MMI_SAP,
   MMI_FMT_SAP,
   MMI_WAP_SAP,
   MMI_JASYN_SAP,
   MMI_POC_SAP,
   MMI_SYNCML_SAP,
   SOC_MMI_SAP,

    
   ABM_SOC_SAP,
   L4C_ABM_SAP,
   TCPIP_SOC_SAP,
   TCPIP_DHCP_SAP,
   WAP_MMI_SAP,
   WPS_APP_SAP,
   TDT_PPP_SAP,
   L2R_PPP_SAP,
   PPP_TCPIP_SAP,
   TCM_TCPIP_SAP,
   SOC_APP_SAP,  
   SMSAL_SOC_SAP,
   EM_PS_SAP,

   MMI_J2ME_SAP,
   J2ME_MMI_SAP,
   WAP_J2ME_SAP,
   J2ME_WAP_SAP,
   J2ME_JASYN_SAP,

   EMAIL_MMI_SAP,
   IMPS_MMI_SAP,   
   SIP_APP_SAP,
   POC_MMI_SAP,

   XDM_APP_SAP,
   VOIP_MMI_SAP,
   SAF_APP_SAP,
   RTSP_APP_SAP,

    
   SME_SAP,
   SME_READER_SAP,
   SME_TIMER_SAP,
    

    
   OBEX_APP_SAP,
   IRCOMM_APP_SAP,
   IRDA_OBEX_SAP,
   IRDA_IRCOMM_SAP,   

    
   L1_MPAL_SAP,
   MPAL_L1_SAP,
   MAC_L1_SAP,
   L1_AS_SAP,
   L1HISR_AS_SAP,
   L1_GAS_SAP,
   L1HISR_GAS_SAP,
   L1_LAPDM_SAP,

   L1_L1_SAP,

   DRIVER_PS_SAP,
   DRIVER_L1_SAP,
   FT_TST_SAP,
   STACK_TIMER_SAP,
   STACK_SIM_TIMER_SAP,
   L4C_CMUX_SAP,
   CMUX_SAP,

   WNDRV_WNDRV_SAP,
   FT_WNDRV_SAP,
   WNDRV_SUPC_SAP,
   WNDRV_TCPIP_SAP,
   WNDRV_MMI_SAP,
   WNDRV_BT_SAP,
   
   SUPC_MMI_SAP,
   SUPC_ABM_SAP,

   DHCP_ABM_SAP,
   DHCP_SIP_SAP,

   IPERF_MMI_SAP,

   TFTP_APP_SAP,

   BCHS_L4C_SAP,
   BCHS_MMI_SAP,
   BT_A2DP_SAP,
   BT_APP_SAP,
   BT_AVRCP_SAP,
   BT_HFG_SAP,
   BT_BPP_SAP,
   BT_BIP_SAP,

   DT_L4C_SAP,

   GDC_SAP,
   GDD_SAP,

   DRMT_APP_SAP,
   DRMT_WAP_SAP,
   DRMT_MMI_SAP,

   GIS_SAP,

   CERTMAN_MMI_SAP,
   CERTMAN_APP_SAP,
   MMI_CERTMAN_APP_SAP,

   TLS_APP_SAP,

   RATCM_RRCE_SAP,
   RATCM_SLCE_SAP,
   RATCM_CSCE_SAP,
   RATCM_CSE_SAP,
   RATCM_USIME_SAP,
   RATCM_CSR_SAP,
   RATCM_BMC_SAP,
   RATCM_URLC_SAP,
   RATCM_LLC_SAP,
   RATCM_GAS_SAP,
   RATCM_RLC_SAP,
   MM_RATCM_SAP,
   SMSAL_RATCM_SAP,
   MM_RATDM_SAP,
   SM_RATDM_SAP,
   TCM_RATDM_SAP,
   RATCM_RATDM_SAP,
   RATDM_RATDM_SAP,
   RATDM_RABM_SAP,
   RATDM_SNDCP_SAP,
   RATDM_URLC_SAP,
   RAC_MEME_SAP,
   UAS_GAS_SAP,
   SLCE_URLC_SAP,
   RRCE_URLC_SAP,
   CSR_DRLC_SAP,
   BMC_DRLC_SAP,
   PDCP_DRLC_SAP,
   PDCP_URLC_SAP,
   RRCE_DRLC_SAP,
   MEME_DRLC_SAP,
   ADR_DRLC_SAP,
   ADR_UL1_SAP,
   DRLC_URLC_SAP,
   DRLC_UMAC_SAP,
   SLCE_PDCP_SAP,
   PDCP_RABM_SAP,
   SLCE_BMC_SAP,
   RRCE_BMC_SAP,
   SLCE_RABM_SAP,
   SLCE_CSR_SAP,
   SLCE_UMAC_SAP,
   RRCE_UMAC_SAP,
   MEME_UMAC_SAP,
   URLC_UMAC_SAP,
   URLC_URLC_SAP,
   CSR_UMAC_SAP,
   RRCE_CSCE_SAP,
   RRCE_MEME_SAP,
   CSCE_MEME_SAP,
   CSE_MEME_SAP,
   CSCE_SLCE_SAP,
   RRCE_SLCE_SAP,
   SIBE_SLCE_SAP,
   SIBE_UL1_SAP,
   MEME_SLCE_SAP,
   CSE_SLCE_SAP,
   SLCE_SLCE_SAP,
   CSCE_CSE_SAP,
   CSCE_SIBE_SAP,
   CSCE_USIME_SAP,
   CSE_SIBE_SAP,
   RRCE_SIBE_SAP,
   MEME_SIBE_SAP,
   RRCE_USIME_SAP,
   SLCE_UL1_SAP,
   MEME_UL1_SAP,
   RRCE_UL1_SAP,
   CSE_UL1_SAP,
   UMAC_UL1_SAP,
   UMAC_UMAC_SAP,
   UL1_L1_SAP,
   GAS_CSCE_SAP, 
   GAS_MEME_SAP,
   GAS_RRCE_SAP,
   CSR_L1AUD_SAP,
   UL1HISR_UL1_SAP,
   UL1C_SAP,
   UL1_UL1_SAP,
   UL1TST_FT_SAP,
   FT_UL1TST_SAP,
   VT_SAP,
   TCPIP_ABM_SAP,

   CUSTOM_SAP_BEGIN,

 




   LAST_SAP_CODE = CUSTOM_SAP_BEGIN +  10  
} sap_type;





#line 98 "interface\ps\nvram_data_items.h"









 






    typedef enum
    {
         
        NVRAM_EF_SYS_LID,
         
        NVRAM_EF_BRANCH_VERNO_LID,
         
        NVRAM_EF_CUSTPACK_VERNO_LID,

        NVRAM_EF_START,
        NVRAM_EF_SYS_EXCEPTION_LID = NVRAM_EF_START,
        NVRAM_EF_SYS_STATISTICS_LID,
        NVRAM_EF_L1_START,
        NVRAM_EF_L1_AGCPATHLOSS_LID = NVRAM_EF_L1_START,
        NVRAM_EF_L1_RAMPTABLE_GSM850_LID,
        NVRAM_EF_L1_RAMPTABLE_GSM900_LID,
        NVRAM_EF_L1_RAMPTABLE_DCS1800_LID,
        NVRAM_EF_L1_RAMPTABLE_PCS1900_LID,
        NVRAM_EF_L1_EPSK_START,
        NVRAM_EF_L1_EPSK_RAMPTABLE_GSM850_LID = NVRAM_EF_L1_EPSK_START,
        NVRAM_EF_L1_EPSK_RAMPTABLE_GSM900_LID,
        NVRAM_EF_L1_EPSK_RAMPTABLE_DCS1800_LID,
        NVRAM_EF_L1_EPSK_RAMPTABLE_PCS1900_LID,
        NVRAM_EF_L1_EPSK_INTERSLOT_RAMP_GSM850_LID,
        NVRAM_EF_L1_EPSK_INTERSLOT_RAMP_GSM900_LID,
        NVRAM_EF_L1_EPSK_INTERSLOT_RAMP_DCS1800_LID,
        NVRAM_EF_L1_EPSK_INTERSLOT_RAMP_PCS1900_LID,
        NVRAM_EF_L1_EPSK_END = NVRAM_EF_L1_EPSK_INTERSLOT_RAMP_PCS1900_LID,
        NVRAM_EF_L1_AFCDATA_LID,
        NVRAM_EF_L1_TXIQ_LID,
        NVRAM_EF_L1_RFSPECIALCOEF_LID,
        NVRAM_EF_L1_INTERSLOT_RAMP_GSM850_LID,
        NVRAM_EF_L1_INTERSLOT_RAMP_GSM900_LID,
        NVRAM_EF_L1_INTERSLOT_RAMP_DCS1800_LID,
        NVRAM_EF_L1_INTERSLOT_RAMP_PCS1900_LID,
        NVRAM_EF_L1_CRYSTAL_AFCDATA_LID,
        NVRAM_EF_L1_CRYSTAL_CAPDATA_LID,
        NVRAM_EF_L1_END = NVRAM_EF_L1_CRYSTAL_CAPDATA_LID,
        NVRAM_EF_UL1_START,
        NVRAM_EF_UL1_TEMP_DAC_LID = NVRAM_EF_UL1_START,
        NVRAM_EF_UL1_PATHLOSS_BAND1_LID,
        NVRAM_EF_UL1_PATHLOSS_BAND2_LID,
        NVRAM_EF_UL1_PATHLOSS_BAND3_LID,
        NVRAM_EF_UL1_TXDAC_BAND1_LID,
        NVRAM_EF_UL1_TXDAC_BAND2_LID,
        NVRAM_EF_UL1_TXDAC_BAND3_LID,
        NVRAM_EF_UL1_END = NVRAM_EF_UL1_TXDAC_BAND3_LID,
    









        NVRAM_EF_EXTBCCH_LID,
        NVRAM_EF_EQ_PLMN_LID,
        NVRAM_EF_BAND_INFO_LID,
        NVRAM_EF_TST_FILTER_LID,
        NVRAM_EF_CB_CH_INFO_LID,
        NVRAM_EF_SMSAL_MWIS_LID,
        NVRAM_EF_TCM_STATISTICS_LID,
        NVRAM_EF_CFU_FLAG_LID,
        NVRAM_EF_MM_EQPLMN_LOCIGPRS_LID,
        NVRAM_EF_CTM_DEFAULT_SETTINGS_LID,
        NVRAM_EF_ALS_LINE_ID_LID,
        NVRAM_EF_MSCAP_LID,
        NVRAM_EF_CLASSMARK_RACAP_LID,
        NVRAM_EF_SIM_ASSERT_LID,
        NVRAM_EF_RTC_DATA_LID,

        NVRAM_EF_UMTS_PLMN_LID,
        NVRAM_EF_UMTS_NET_PAR_LID,
        NVRAM_EF_UMTS_IMSI_LID,
        NVRAM_EF_UMTS_START_HFN_LID,
        NVRAM_EF_UMTS_CSE_CACHE_INFO_LID,
        NVRAM_EF_UMTS_USIME_RRC_DYNAMIC_CAP_LID,
        NVRAM_EF_L1_3G_CAL_DATA_LID,
        NVRAM_EF_FLC_STATISTICS_LID,

         
        NVRAM_EF_LAST_LID_CORE
    } nvram_lid_core_enum;

 














 

























 






 





 





 


 









 

 








 





 





 





 





 






























 





 





 





 





 





 





 

































 


















 
 





 





 















































 





 





 





 





 





 





 





 





 












 






 





 











 








 


























    typedef enum
    {
        NVRAM_SYS_AUTO_DETECT = 1,
        NVRAM_SYS_FLIGHTMODE_STATE,
        NVRAM_SYS_DSP_PATCH,
        NVRAM_SYS_SIM_PLUS_SETTING,
        NVRAM_SYS_FIXED_GAIN_MECH_FOR_HELIOS2,
        NVRAM_SYS_FACTORY_FLAG,
        NVRAM_SYS_CV_CALIBRATION,
        NVRAM_SYS_CACHE_MAX
    } NVRAM_SYS_CACHE_OCTETDATA;







#line 522 "custom\common\PLUTO_MMI\nvram_common_defs.h"
#line 1 "custom\common\custom_nvram_sec.h"
 


































 












































































 



 







 





 





 


 


 

 

 




 


 



 



 
 








 










 
typedef struct {
    kal_uint8 state;     
    kal_uint8 key[ 8 ];   
} sml_control_key_struct;

 
typedef struct {
    kal_uint8 state;                         
    kal_uint8 retry_count;               
    kal_uint8 autolock_count;            
    kal_uint8 num;                       
} sml_category_meta_struct;

typedef struct {
    kal_uint32  magic_head;                                  
    sml_category_meta_struct    cat[ 7 ];   
    sml_control_key_struct      key[ 7 ];   
    kal_uint8   code_cat_n[ ( 30  *  3 ) ];              
    kal_uint8   code_cat_ns[ ( 30  *  4 ) ];            
    kal_uint8   code_cat_sp[ ( 30  *  4 ) ];            
    kal_uint8   code_cat_c[ ( 30  *  5 ) ];              
    kal_uint8   code_cat_sim[ ( 30  *  8 ) ];          
    kal_uint8   code_cat_ns_sp[ ( 5  *  10 ) ];      
    kal_uint8   code_cat_sim_c[ ( 10  *  10 ) ];      
    kal_uint8   range_cat_ns[ 2 ];         
    kal_uint32 magic_tail;                                   
} sml_context_struct;                                        
typedef sml_context_struct nvram_sml_context_struct;

 


 


 


































extern const kal_uint8 *NVRAM_EF_SECUPACK_DEFAULT[];

extern const nvram_sml_context_struct NVRAM_EF_SML_DEFAULT;

extern void custom_nvram_get_key(char *init_key, unsigned char *keys);
extern void custom_nvram_encrypt(unsigned char const *keys, unsigned char *buffer, unsigned int length, int scrambleIndex);
extern void custom_nvram_decrypt(unsigned char const *keys, unsigned char *buffer, unsigned int length, int scrambleIndex);






#line 523 "custom\common\PLUTO_MMI\nvram_common_defs.h"
#line 1 "custom\common\nvram_lid_statistics.h"
#line 524 "custom\common\PLUTO_MMI\nvram_common_defs.h"










#line 1 "interface\hwdrv\uart_sw.h"
 


































 










































































































































































































































































































#line 1 "interface\drv_def\drv_features.h"
 


































 











































































































   #line 1 "interface\drv_def\drv_features_6225.h"
 


































 














































































 









 









 



 

 




 



 









 


 


 


 


 


 


 


 


 


 


 


 




 


 




    


#line 145 "interface\drv_def\drv_features.h"
    





































#line 1 "interface\drv_def\drv_features_option.h"
 


































 








































































































































 

	
	
	
	 
	
	
	














 

	











 

	
	
	
	
	















 
 

 


 

 


 

















 






	
	











 





	






 





























   
   
   
   
   
   
   




















































 








   
   


 

   





 







   
   
   












 

   
   




 

































   
   
   
   
   
   
   



































 










   
   
   


 


































































   
   
   
   
   
   
   
   
   


 






   






 






















   
   
   

























 

















   
   
   
   
   



















 





   
   
   


 


 













    




    










 




 

   


   









   




 






 





#line 184 "interface\drv_def\drv_features.h"


#line 336 "interface\hwdrv\uart_sw.h"
#line 1 "config\include\stack_config.h"
#line 337 "interface\hwdrv\uart_sw.h"

#line 1 "interface\hwdrv\bmd.h"
 


































 





















































typedef struct __BUFFER_INFO
{
	kal_uint16	Read;		 
	kal_uint16	Write;		 
	kal_uint16	Length;		 
	kal_uint8	*CharBuffer;		 
}BUFFER_INFO;



































































































 













 














 





































extern void Buff_init(BUFFER_INFO *Buf,kal_uint8 *Buffaddr, kal_uint16 uTotalSize);
extern void Buff_Push(BUFFER_INFO *Buf,kal_uint8 *pushData);
extern void Buff_Pop(BUFFER_INFO *Buf,kal_uint8 *popData);
extern kal_uint8 Buff_IsEmpty(BUFFER_INFO *Buf);
extern kal_uint8 Buff_IsFull (BUFFER_INFO *Buf);
extern kal_uint16 Buff_GetRoomLeft (BUFFER_INFO *Buf);
extern kal_uint16 Buff_GetBytesAvail (BUFFER_INFO *Buf);
extern kal_uint16 Buff_GetLength(BUFFER_INFO *Buf);
extern void Buff_Flush (BUFFER_INFO *Buf);
extern void Buff_look(BUFFER_INFO *Buf,kal_uint8 *popData,kal_uint8 num);
extern void Get32FromBuff(BUFFER_INFO *Buf,kal_uint32 *DATA);
extern void Put32toBuff(BUFFER_INFO *Buf,kal_uint32 *DATA);
extern void MemCPY(kal_uint8 *dst,kal_uint8 *src,kal_uint32 len);
extern void MemSET(kal_uint8 *dst,kal_uint8 data,kal_uint32 len);




#line 338 "interface\hwdrv\uart_sw.h"
#line 1 "interface\hwdrv\drv_comm.h"
 


































 




































































































































































































#line 1 "interface\drv_def\drv_features.h"
#line 234 "interface\hwdrv\drv_comm.h"

#line 1 "kal\include\kal_release.h"
#line 235 "interface\hwdrv\drv_comm.h"

#line 1 "interface\hwdrv\drvpdn.h"
 


































 


















































































































































































































 








































































































































































































































































 















typedef enum {
   PDN_UART1 = 0,
   PDN_UART2,
   PDN_ALTER,
   PDN_GCU,
   PDN_DMA,
   PDN_SIM,
   PDN_ADC,
   PDN_GPT,
   PDN_PWM,
   PDN_PWM2,
   PDN_USB,
   PDN_UART3,   
   PDN_MSDC,
   PDN_NFI,
   PDN_B2PSI,
   PDN_IMGPROC,
   PDN_IMGDMA,
   PDN_GIF,
   PDN_RESZ,
   PDN_IRDA,
   PDN_TRC,
   PDN_PFC,
   PDN_PNG,
   PDN_MSDC2,
   PDN_MAX_DEV
} PDN_DEVICE;


typedef struct
{
   kal_uint32 addr;
   kal_uint16 code;
} PDN_INPUT;
 


extern kal_uint8 L1SM_GetHandle(void);
extern void L1SM_SleepDisable(kal_uint8);
extern void L1SM_SleepEnable(kal_uint8);
extern void L1SM_UnIRQSleepDisable(kal_uint8 handle);
extern void L1SM_UnIRQSleepEnable(kal_uint8 handle);
extern void DRVPDN_Enable(kal_uint32 addr,kal_uint16 code,kal_uint8 handle);
extern void DRVPDN_Disable(kal_uint32 addr,kal_uint16 code,kal_uint8 hanlde);



#line 236 "interface\hwdrv\drv_comm.h"







typedef enum {
    	io_low=0,
	   io_high
} IO_level;



typedef enum {
    	DEV_DMA=0,
    	DEV_USB,
    	DEV_GCU,
    	DEV_CHE,
    	DEV_PPP,
    	DEV_GPT,
    	DEV_KP,
    	DEV_GPIO,
    	DEV_UART1,
    	DEV_UART2,
    	DEV_UART3,
    	DEV_SIM,
    	DEV_PWM1,
    	DEV_PWM2,
    	DEV_ALTER,
    	DEV_LCD,
    	DEV_MSDC,
    	DEV_TRC,
    	DEV_NFI,
    	DEV_B2SPI,
    	DEV_IRDA,
    	DEV_ADC,
    	DEV_RTC,
    	DEV_DIV,
    	DEV_FCS,
    	DEV_RZLB,
    	DEV_CRZ,
    	DEV_TV_OUT,
    	DEV_IPP,
    	DEV_PNG,
    	DEV_GIF,
    	DEV_GCMQ,
    	DEV_G2D,
    	DEV_MP4,
    	DEV_JPEG,
    	DEV_PRZ,
    	DEV_RESZ,
    	DEV_ISP,
    	DEV_DCT,
    	DEV_IMGDMA,
    	DEV_DRZ,
    	DEV_MSDC2,
    	DEV_MAX_ID
} DEVICE_ID_ENUM;



typedef void (* VOID_FUNC)(void);







































































extern void Fast_Memcpy(void *srcaddr, void *dstaddr, kal_uint32 leng);
extern void Fast_SherifWrite(void *srcaddr,void *dstaddr,kal_uint32 len);
extern void Fast_SherifRead(void *srcaddr,void *dstaddr,kal_uint32 len);
extern kal_uint32 SaveAndSetIRQMask(void);
extern void RestoreIRQMask(kal_uint32);
extern kal_uint32 drv_get_current_time(void);
extern kal_uint32 drv_get_duration_tick(kal_uint32 previous_time, kal_uint32 current_time);
extern kal_uint32 drv_get_duration_ms(kal_uint32 previous_time);


void get_NFI_bus(void);
void free_NFI_bus(void);

































   
   
   
   
   
   
   
   
   
   

	 
   








 

























extern void drv_trace0(kal_int32 trc_class, kal_uint32 msg_index, const char *arg_type);
extern void drv_trace1(kal_int32 trc_class, kal_uint32 msg_index, const char *arg_type, kal_uint32 data1);
extern void drv_trace2(kal_int32 trc_class, kal_uint32 msg_index, const char *arg_type, kal_uint32 data1, kal_uint32 data2);
extern void drv_trace4(kal_int32 trc_class, kal_uint32 msg_index, const char *arg_type, kal_uint32 data1, kal_uint32 data2, kal_uint32 data3, kal_uint32 data4);
extern void drv_trace8(kal_int32 trc_class, kal_uint32 msg_index, const char *arg_type, kal_uint32 data1, kal_uint32 data2, kal_uint32 data3, kal_uint32 data4,
                kal_uint32 data5, kal_uint32 data6, kal_uint32 data7, kal_uint32 data8);



#line 339 "interface\hwdrv\uart_sw.h"


   




























typedef enum {
      uart_port1=0,
      uart_port2,
      uart_port3,
		uart_port_irda,
		uart_port_usb,
		uart_port_bluetooth,
      uart_port_swdbg,
		start_of_virtual_port=10,
		end_of_virtual_port=10+ 5 -1,
      uart_max_port,      
      uart_port_null = 99	 
} UART_PORT;

typedef enum {
      RX_BUF,
      TX_BUF
} UART_buffer;

typedef enum {
      uart_sleep_on_tx_allow = 0,
      uart_sleep_on_tx_forbid
} UART_SLEEP_ON_TX;

typedef kal_uint32 UART_baudrate;






















typedef enum {
      len_5=5,
      len_6,
      len_7,
      len_8
} UART_bitsPerCharacter;

typedef enum {
      sb_1=1,
      sb_2,
      sb_1_5
} UART_stopBits;

typedef enum {
      pa_none=0,
      pa_odd,
      pa_even,
      pa_space
} UART_parity;

typedef enum {
      fc_none=1,
      fc_hw,
      fc_sw
} UART_flowCtrlMode;

typedef struct
{
      UART_baudrate                 baud; 
      UART_bitsPerCharacter         dataBits;
      UART_stopBits                 stopBits;
      UART_parity                   parity;
      UART_flowCtrlMode             flowControl;
      kal_uint8                     xonChar;
      kal_uint8                     xoffChar;
      kal_bool                      DSRCheck;
} UARTDCBStruct;

typedef struct
{
      kal_uint8                      EscChar;
      kal_uint16                     GuardTime;
} UART_ESCDetectStruct;

typedef struct
{
      kal_uint8                      *rx_buffer;    
      kal_uint8                      *tx_buffer;    
      kal_uint8                      *txISR_buffer;   
} UART_RingBufferStruct;


   typedef enum {
      uart_null_buffer=0,
      uart_isr_buffer,
      uart_normal_buffer
   } UART_RingBuffer_Type;

   typedef struct
   {
         UART_RingBuffer_Type            type;
         kal_uint16                      index;
   } UART_RingBuffer_SaveIndex;


typedef struct
{
	kal_uint16	       tst_port_ps;
	kal_uint16         ps_port;	
	UART_baudrate      tst_baudrate_ps;
	UART_baudrate      ps_baudrate;
	kal_bool           High_Speed_SIM_Enabled;
	kal_uint8          swdbg;	
   kal_uint8          uart_power_setting;  
   kal_uint8          cti_uart_port;
   UART_baudrate      cti_baudrate;
   kal_uint8           tst_port_l1;
   UART_baudrate       tst_baudrate_l1;
} port_setting_struct;

 
typedef void (*UART_TX_FUNC)(UART_PORT port); 
typedef void (*UART_RX_FUNC)(UART_PORT port) ; 

typedef struct
{
      UART_PORT                      port_no;
      kal_bool                       initialized;
      kal_bool                       power_on;
      module_type                    ownerid;
      module_type                    UART_id;
      kal_bool                       breakDet;
      kal_bool                       EscFound;
      UARTDCBStruct                  DCB;
      UART_RingBufferStruct          RingBuffers;
      UART_ESCDetectStruct           ESCDet;
      BUFFER_INFO                    Tx_Buffer_ISR;  
      BUFFER_INFO                    Rx_Buffer;   
      BUFFER_INFO                    Tx_Buffer;   
      kal_hisrid                     hisr;
      IO_level                       DSR;
       
      kal_uint8                      handle;     
      kal_uint8                      EscCount;
      kal_uint8                      Rec_state;  
      UART_SLEEP_ON_TX               sleep_on_tx;
      kal_bool               		EnableTX;
       
      UART_TX_FUNC                  tx_cb;
      UART_RX_FUNC                  rx_cb;
      
		kal_uint8 							Rx_DMA_Ch;
		kal_uint8 							Tx_DMA_Ch;
      
} UARTStruct;


typedef enum
{
	UART_TYPE = 0,
	IRDA_TYPE,
	USB_TYPE,
	BLUETOOTH_TYPE,
	CMUX_TYPE
}UartType_enum;

typedef struct _uartdriver
{
	
	kal_bool (*Open)(UART_PORT port, module_type ownerid);
	void (*Close)(UART_PORT port, module_type ownerid);
	kal_uint16 (*GetBytes)(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, kal_uint8 *status, module_type ownerid);
	kal_uint16 (*PutBytes)(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, module_type ownerid);
	kal_uint16 (*GetRxAvail)(UART_PORT port);
	kal_uint16 (*GetTxAvail)(UART_PORT port);
	kal_uint16 (*PutISRBytes)(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, module_type ownerid);
	kal_uint16 (*GetISRTxAvail)(UART_PORT port);
	void (*Purge)(UART_PORT port, UART_buffer dir, module_type ownerid);	
	void (*SetOwner)(UART_PORT port, kal_uint8 ownerid);
	void (*SetFlowCtrl)(UART_PORT port, kal_bool XON, module_type ownerid);
	void (*ConfigEscape)(UART_PORT port, kal_uint8 EscChar, kal_uint16 ESCGuardtime, module_type ownerid);
	void (*SetDCBConfig)(UART_PORT port, UARTDCBStruct *UART_Config, module_type ownerid);
	void (*CtrlDCD)(UART_PORT port, IO_level SDCD, module_type ownerid);
	void (*CtrlBreak)(UART_PORT port, IO_level SBREAK, module_type ownerid);
	void (*ClrRxBuffer)(UART_PORT port, module_type ownerid);
	void (*ClrTxBuffer)(UART_PORT port, module_type ownerid);	
	void (*SetBaudRate)(UART_PORT port, UART_baudrate baudrate, module_type ownerid);	
	kal_uint16 (*SendISRData)(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length,kal_uint8 mode, kal_uint8 escape_char, module_type ownerid);
	kal_uint16 (*SendData)(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length,kal_uint8 mode,kal_uint8 escape_char, module_type ownerid);
	module_type (*GetOwnerID)(UART_PORT port);	
	void (*SetAutoBaud_Div)(UART_PORT port, module_type ownerid);			
	 
	void (*UART_Register_TX_cb)(UART_PORT port, module_type ownerid, UART_TX_FUNC func);
	void (*UART_Register_RX_cb)(UART_PORT port, module_type ownerid, UART_RX_FUNC func);	
	 
	kal_uint8 (*GetUARTByte)(UART_PORT port);	
	void (*PutUARTByte)(UART_PORT port, kal_uint8 data);	
	void (*PutUARTBytes)(UART_PORT port, kal_uint8 *data, kal_uint16 len);		
	 
	void (*ReadDCBConfig)(UART_PORT port, UARTDCBStruct *UART_Config);	
	void (*CtrlRI)(UART_PORT port, IO_level SRI, module_type ownerid);	
	void (*CtrlDTR)(UART_PORT port, IO_level SDTR, module_type ownerid);	
	void (*ReadHWStatus)(UART_PORT port, IO_level *SDSR, IO_level *SCTS);	
}UartDriver_strcut;

typedef struct _uarthandle
{
	UartType_enum type;
	UartDriver_strcut* drv;
	void* dev;
}UartHandle_struct;

 

typedef struct  
{       
	kal_uint8 	ref_count;
	kal_uint16 	msg_len;			 	
	UART_PORT 	port;
}uart_ready_to_read_ind_struct; 

typedef struct  
{       
	kal_uint8 	ref_count;
	kal_uint16 	msg_len;			 	
	UART_PORT 	port;
}uart_ready_to_write_ind_struct;
 
 typedef struct  
{       
	kal_uint8 	ref_count;
	kal_uint16 	msg_len;			 	
	UART_PORT 	port;
}uart_dsr_change_ind_struct;
 
 typedef struct  
{       
	kal_uint8 	ref_count;
	kal_uint16 	msg_len;			 	
	UART_PORT 	port;
}uart_escape_detected_ind_struct;

 typedef struct  
{       
	kal_uint8 	ref_count;
	kal_uint16 	msg_len;			 	
	UART_PORT 	port;
}uart_plugin_ind_struct;

 typedef struct  
{       
	kal_uint8 	ref_count;
	kal_uint16 	msg_len;			 	
	UART_PORT 	port;
}uart_plugout_ind_struct;    
 



































































 
typedef struct{
	kal_uint8*	rx_adrs;
	kal_uint8*	tx_adrs;	
	kal_uint8*	txisr_adrs;	
	kal_uint16	rx_len;
	kal_uint16	tx_len;	
	kal_uint16	txisr_len;	
	module_type	owerid;		
}UART_ring_buffer_struct;

typedef struct {
	UART_ring_buffer_struct ring[ 3 ];
	UART_PORT               not_support_VFIFO;
} UART_rings_struct;

typedef struct {  
   const UART_rings_struct * (*UART_Get_Data)(void);
}UART_customize_function_struct; 

 
extern UartDriver_strcut UartDriver;	
extern kal_bool UART_VFIFO_support[ 3 ];

extern UartDriver_strcut UartDriver_VFIFO;


extern kal_bool UART1DMA_Ini(kal_bool Tx);
extern kal_bool UART2DMA_Ini(kal_bool Tx);
extern kal_uint8 GetUARTByte(UART_PORT port);
extern void PutUARTByte(UART_PORT port, kal_uint8 data);
extern void UART_SetBaudRate(UART_PORT port, UART_baudrate baud_rate, module_type ownerid);
extern void UART_SetDCBConfig(UART_PORT port, UARTDCBStruct *UART_Config, module_type ownerid);
extern void UART_ReadDCBConfig (UART_PORT port, UARTDCBStruct *DCB);
extern void UART_loopback(UART_PORT port);
extern void UART_HWInit(UART_PORT port);
extern kal_bool UART_Open(UART_PORT port, module_type ownerid);
extern void UART_Close(UART_PORT port, module_type ownerid);
extern void UART_SetOwner (UART_PORT port, kal_uint8 ownerid);
extern void UART_ConfigEscape (UART_PORT port, kal_uint8 EscChar, kal_uint16 ESCGuardtime, module_type ownerid);
extern void UART_CtrlDTR (UART_PORT port, IO_level SDTR, module_type ownerid);
extern void UART_ReadHWStatus(UART_PORT port, IO_level *SDSR, IO_level *SCTS);
extern void UART_CtrlBreak(UART_PORT port, IO_level SBREAK, module_type ownerid);
extern void UART_Purge(UART_PORT port, UART_buffer dir, module_type ownerid);
extern void UART_Register_RX_cb(UART_PORT port, module_type ownerid, UART_RX_FUNC func);
extern void UART_Register_TX_cb(UART_PORT port, module_type ownerid, UART_TX_FUNC func);

extern kal_uint16 UART_GetBytes(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, kal_uint8 *status, module_type ownerid);
extern kal_uint16 UART_PutBytes(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, module_type ownerid);
extern kal_uint16 UART_PutISRBytes(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, module_type ownerid);
extern kal_uint16 UART_SendISRData(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length,kal_uint8 mode, kal_uint8 escape_char, module_type ownerid);
extern kal_uint16 UART_SendData(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length,kal_uint8 mode,kal_uint8 escape_char, module_type ownerid );
extern void UART_SetFlowCtrl(UART_PORT port, kal_bool XON, module_type ownerid);
extern void UART_CtrlDCD(UART_PORT port, IO_level SDCD, module_type ownerid);
extern void UART_CtrlRI (UART_PORT port, IO_level SRI, module_type ownerid);
extern kal_uint16 UART_GetBytesAvail(UART_PORT port);
extern void UART_SleepOnTx_Enable(UART_PORT port, UART_SLEEP_ON_TX enable_flag);
extern void UART_SwitchPort(UART_PORT *APP_port, UART_PORT new_uart_port);
extern void UART_dafault_tx_cb(UART_PORT port);
extern void UART_dafault_rx_cb(UART_PORT port);
extern void UART_TurnOnPower(UART_PORT port, kal_bool enable);
extern kal_bool UART_CheckTxBufferEmpty(UART_PORT port);
extern kal_bool UART_CheckTxAllSentOut(UART_PORT port);
extern void UART_GetTxBufferSize(UART_PORT port, kal_uint32 *total_size, kal_uint32 *rest_size);
extern void UART1_HISR(void);
extern void UART2_HISR(void);
extern void UART1_LISR(void);
extern void UART2_LISR(void);
extern kal_bool uart_support_autoescape(void);
 












 


   extern void UART3_HISR(void);
   extern void UART3_LISR(void);


extern void UART_Register(UART_PORT port, UartType_enum type, UartDriver_strcut* drv);
 
extern void uart_customize_init(void);
 

 
extern void UART_RecTimeOutHandler(void *parameter);
extern void UART_TrxHandler_VFIFO(void *parameter);
extern void UART_RecHandler_VFIFO(void *parameter);
extern void UART_THRE_hdr_VFIFO(UART_PORT port);
 
extern void U_configure_DMA_VFIFO(void);
extern kal_uint16 U_GetTxISRRoomLeft_VFIFO(UART_PORT port);
extern kal_uint16 U_GetTxRoomLeft_VFIFO(UART_PORT port);
extern kal_uint16 U_GetBytesAvail_VFIFO(UART_PORT port);
extern kal_uint8 U_GetUARTByte_VFIFO(UART_PORT port);
extern void U_PutUARTByte_VFIFO(UART_PORT port, kal_uint8 data);
extern void PutUARTData_VFIFO(UART_PORT port, kal_uint8 escape_char, kal_uint8 data);
extern kal_uint16 U_GetBytes_VFIFO(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, kal_uint8 *status, module_type ownerid);
extern kal_uint16 U_PutBytes_VFIFO(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, module_type ownerid);
extern kal_uint16 U_PutISRBytes_VFIFO(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length, module_type ownerid);
extern kal_uint16 U_SendData_VFIFO(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length,kal_uint8 mode,kal_uint8 escape_char, module_type ownerid);
extern kal_uint16 U_SendISRData_VFIFO(UART_PORT port, kal_uint8 *Buffaddr, kal_uint16 Length,kal_uint8 mode,kal_uint8 escape_char, module_type ownerid);



#line 534 "custom\common\PLUTO_MMI\nvram_common_defs.h"
#line 1 "interface\drv_def\drv_features.h"
#line 535 "custom\common\PLUTO_MMI\nvram_common_defs.h"

 






    extern shadow_ltable_struct shadow_ltable[];
    extern kal_uint8 ShadowBuffer[];
    extern void nvram_shadow_construct(void);
    extern kal_uint16 shadow_buffer_size;
    extern kal_uint8 shadow_item_total;
    extern kal_uint8 dirty_list[];


 




    typedef enum
    {
         
        NVRAM_EF_ADC_LID =  NVRAM_EF_LAST_LID_CORE ,
        NVRAM_EF_CUST_HW_LEVEL_TBL_LID,
        NVRAM_EF_UEM_MANUFACTURE_DATA_LID,
        NVRAM_EF_UEM_RMI_DATA_LID,
        NVRAM_EF_CUST_ACOUSTIC_DATA_LID,
        NVRAM_EF_AUDIO_PARAM_LID,
        NVRAM_EF_AUTOTEST_LID,
        NVRAM_EF_PORT_SETTING_LID,
        NVRAM_EF_BARCODE_NUM_LID,
        NVRAM_EF_SYS_CACHE_OCTET_LID,
        NVRAM_EF_IMEI_IMEISV_LID,
        NVRAM_EF_PHB_LID,
        NVRAM_EF_PHB_LN_ENTRY_LID,
        NVRAM_EF_PHONEBOOK_SOS_LID,
        NVRAM_EF_PHONEBOOK_SPEEDDIAL_LID,
        NVRAM_EF_PHB_IDS_LID,
        NVRAM_EF_PHB_FIELDS_LID,             
        NVRAM_EF_PHB_SETTINGS_LID,
        NVRAM_EF_PHB_CALLER_GROUPS_LID,
        NVRAM_EF_PHB_VCARD_LID,
        NVRAM_EF_PHB_EMAIL_SORT_LID,         
        NVRAM_EF_PHB_VIDEO_LID,              
        NVRAM_EF_PHB_LN_TYPE_SEQ_LID,
        NVRAM_EF_PHB_COMPARE_DIGIT_LID,
        NVRAM_EF_PHB_BIRTHDAY_LID,           
        NVRAM_EF_PHB_INFO_LID,               
        NVRAM_EF_PHB_SNE_LID,                
        NVRAM_EF_PHB_IMPS_LID,               
        NVRAM_EF_PHB_POC_LID,                
        NVRAM_EF_PHB_VOIP_LID,               
        NVRAM_EF_SMS_LID,                    
        NVRAM_EF_SMS_CB_CHNL_LID,            
        NVRAM_EF_SMS_CB_SMS_LID,
        NVRAM_EF_SMS_CB_SMS_INFO_LID,
        NVRAM_EF_EMS_MY_PICTURE_NAME_LID,    
        NVRAM_EF_EMS_MY_ANIMATION_NAME_LID,
        NVRAM_EF_EMS_MY_MELODY_NAME_LID,     
        NVRAM_EF_SMSAL_SMS_LID,
        NVRAM_EF_SMSAL_MAILBOX_ADDR_LID,
        NVRAM_EF_SMSAL_COMMON_PARAM_LID,
        NVRAM_EF_CB_DEFAULT_CH_LID,
        NVRAM_EF_SMSAL_SMSP_LID,
        NVRAM_EF_MSG_CLUB_LID,               
        NVRAM_EF_MSG_CLUB_NUM_LID,           
        NVRAM_EF_CHAT_ROOM_INFO_LID,         
        NVRAM_EF_CALL_TIME_LID,
        NVRAM_EF_CAMERA_SETTING_LID,
        NVRAM_EF_VIDEO_SETTING_LID,          
        NVRAM_EF_CAMERA_PARA_LID,            
        NVRAM_EF_CAMERA_GAMMA_LID,           
        NVRAM_EF_CAMERA_DEFECT_LID,          
        NVRAM_EF_CAMERA_LENS_LID,            
        NVRAM_EF_TCM_PDP_PROFILE_LID,
        NVRAM_EF_IP_NUMBER_LID,              
        NVRAM_EF_CSD_PROFILE_LID,            
        NVRAM_EF_ABM_GPRS_PROFILE_LID,       
        NVRAM_EF_ALM_QUEUE_LID,
        NVRAM_EF_ALM_SPOF_DATA_LID,
        NVRAM_EF_ALM_ALARM_DATA_LID,
        NVRAM_EF_TODO_LIST_LID,              
        NVRAM_EF_SETTING_LID,
        NVRAM_EF_GROUPLIST_LID,
        NVRAM_EF_WPSS_FILENAME_LID,
        NVRAM_EF_SHORTCUTS_LID,
        NVRAM_EF_CALORIE_DATA_LID,
        NVRAM_EF_PROFILES_LID,
        NVRAM_EF_STOPWATCH_LID,              
        NVRAM_PICTURE_EDITOR_LID,            
        NVRAM_EF_PHOTO_EDITOR_SETTING_LID,   
        NVRAM_EF_EXT_MELODY_INFO_LID,
        NVRAM_EF_FM_RADIO_LID,               
        NVRAM_EF_FMSR_SETTING_LID,           
        NVRAM_EF_VRSD_TAG_LID,               
        NVRAM_EF_VRSI_TAG_LID,               
        NVRAM_EF_FMGR_FILEPATH_POOL_HEAD_LID,
        NVRAM_EF_FMGR_FILEPATH_POOL_TAIL_LID,
        NVRAM_EF_BT_INFO_LID,                
        NVRAM_EF_BTRADIO_RFMD3500_LID,    
        NVRAM_EF_BTRADIO_MT6601_LID,      
        NVRAM_EF_BTRADIO_MT6611_LID,      
        NVRAM_EF_BLACK_LIST_LID,             
        NVRAM_EF_IMPS_LID,                   
        NVRAM_EF_AUDIO_EQUALIZER_LID,        
        NVRAM_EF_POC_PROFILE_LID,
        NVRAM_EF_POC_HISTORY_LID,
        NVRAM_EF_POC_PRIVACY_LID,
        NVRAM_EF_THEMES_VALUES,              
        NVRAM_EF_THEME_MANAGER_LID,          
        NVRAM_EF_THEME_DOWNLOAD_LIST_LID,    
        NVRAM_EF_MOTION_DICE_LID,            
        NVRAM_EF_MOTION_DJ_LID,              
        NVRAM_EF_EONS_INFO_LID,              
        NVRAM_EF_USER_CTRL_PLMN_LID,         
        NVRAM_EF_BGSND_SETTING_LID,          
        NVRAM_EF_BGSND_FILEPATH_LID,         

         
         
        NVRAM_EF_BRW_BOOKMARK_TITLE_LID,
        NVRAM_EF_BRW_BOOKMARK_URL_LID,
        NVRAM_EF_BRW_ADDRESS_HISTORY_TITLE_LID,
        NVRAM_EF_BRW_ADDRESS_HISTORY_URL_LID,
         
        NVRAM_EF_JMMS_COMPOSE_SETTINGS_LID,
        NVRAM_EF_JMMS_SENDING_SETTINGS_LID,
        NVRAM_EF_JMMS_INBOX_READ_UNREAD_LID,

         
        NVRAM_EF_WAP_PROFILE_CONTENT_LID,
        NVRAM_EF_MMS_PROFILE_CONTENT_LID,
        NVRAM_EF_WAP_PROFILE_NAMES_LID,
        NVRAM_EF_MMS_PROFILE_NAMES_LID,

	 
        NVRAM_EF_EBOOK_SETTINGS_LID,
        NVRAM_EF_EBOOK_DEFAULT_SETTINGS_LID,

        NVRAM_EF_BARCODEREADER_SETTING_LID,

         
        NVRAM_EF_SML_LID,

        NVRAM_EF_SYNCML_SETTING_LID,
        NVRAM_EF_SYNCML_PROFILE_LID,

         
        NVRAM_EF_AUDIO_PLAYER_BT_SETTINGS_LID,
        NVRAM_EF_VOIP_PROF_LID,              
        NVRAM_EF_VOIP_SETTING_LID,           
        NVRAM_EF_WLAN_SETTING_LID,
        NVRAM_EF_WLAN_PROFILE_LID,        

        NVRAM_EF_EM_NW_EVENT_RINGS_LID,
         
        NVRAM_EF_NITZ_NW_NAME_LID,

        NVRAM_EF_DM_FWU_TFTP_SETTING_LID,
        NVRAM_EF_DM_FWU_HTTP_SETTING_LID,

        NVRAM_EF_MS_SECURITY_LID,
        NVRAM_EF_RAC_PREFERENCE_LID,
        NVRAM_EF_AVATAR_SETTING_LID,
        NVRAM_EF_CSB_SETTINGS_LID,

         
        NVRAM_EF_BRW_LAST_WEB_ADDR_LID,
        NVRAM_EF_BRW_USER_DEFINED_HOMEPAGE_LID,
        NVRAM_EF_PUSH_SETTING_LID,

        NVRAM_EF_VIDEO_PREDEFINED_URL_LID,   
        NVRAM_EF_VIDEO_HISTORY_URL_LID,      
        NVRAM_EF_DRM_SETTING_LID,
        NVRAM_EF_DRM_STIME_LID,
        NVRAM_EF_DRM_CERPATH_LID,
        NVRAM_EF_DM_SR_NUMBER_LID,	     
        NVRAM_EF_CUSTSER_SETTING_LID,        
        NVRAM_EF_UMMS_COMPOSE_SETTINGS_LID,
        NVRAM_EF_UMMS_SENDING_SETTINGS_LID,
        NVRAM_EF_EMAIL_TEMPLATE_LID,         
        NVRAM_EF_LANGLN_LK_SETTING_LID,
        NVRAM_EF_LANGLN_PRESEL_INFO_LID,

        NVRAM_EF_MOBILE_TV_PLAYER_SETTING_LID,   

        NVRAM_EF_LANGLN_BSK_SETTING_LID,
        NVRAM_EF_SLIDE_SHOW_SETTING_LID,     
        NVRAM_EF_VT_SETTING_LID,
        NVRAM_EF_MMS_BGSR_MSG_STRUCT_LID,    
        NVRAM_EF_BT_BIP_SETTING_LID,  
        NVRAM_EF_GIS_GPS_SETTING_DATA_LID,
        NVRAM_EF_CARD2_CB_CHNL_LID,
        NVRAM_EF_CARD2_CB_SMS_LID,
        NVRAM_EF_CARD2_CB_SMS_INFO_LID,

	 
       NVRAM_ANALOG_TV_CHANNEL_LID,   
       NVRAM_ANALOG_TV_CHANNEL_NAME_LID,
	 

	
	
	NVRAM_G_SENSOR_LID,
	NVRAM_G_SENSOR_CALIBRANTION_LID,
	

	




	



	
         
        NVRAM_EF_LAST_LID_COMMAPP
    } nvram_lid_commapp_enum;

     


 








 























































































































     



     



 










 





 












































































































































 







 














 




















































 










     



 





 















 





 






 





 





 





 





 














 





 





 





 



















 








 






     





































     










   






   





   




























     






     










 







 










 












    extern const kal_uint32 NVRAM_EF_CUST_HW_LEVEL_TBL_DEFAULT[ 440 ];

     










































































 






 













 
























 
















 























 










 











































 















 




 























typedef struct
{
    kal_uint8 const* version;
    kal_uint8 const* custpack_default[ 13 ];
}custpack_nvram_header;

    extern const custpack_nvram_header custpack_nvram_ptr;
    extern ltable_entry_struct logical_data_item_table_core[NVRAM_EF_LAST_LID_CORE];
    extern ltable_entry_struct logical_data_item_table_comm_app[NVRAM_EF_LAST_LID_COMMAPP -  NVRAM_EF_LAST_LID_CORE ];
    extern ltable_entry_struct logical_data_item_table_cust[];








#line 115 "custom\app\UNIRISE25_GEMINI_BB\nvram_user_defs.h"



    typedef enum
    {
        NVRAM_EF_CACHE_BYTE_LID =  NVRAM_EF_LAST_LID_COMMAPP ,
        NVRAM_EF_CACHE_SHORT_LID,
        NVRAM_EF_CACHE_DOUBLE_LID,

         

        NVRAM_EF_LAST_LID_CUST
    } nvram_lid_cust_enum;

  



 



 








     


     




    extern const custpack_nvram_header custpack_nvram_ptr;

 







 



#line 195 "custom\common\fs_quota.c"


#line 1 "custom\common\custom_wap_config.h"
 









 













































































































































































































#line 1 "kal\include\kal_release.h"
#line 218 "custom\common\custom_wap_config.h"

#line 1 "custom\app\UNIRISE25_GEMINI_BB\custom_wap_cfg.h"
 


































 









































 














































































#line 219 "custom\common\custom_wap_config.h"


 
 
 

 















































 



































































































































 

 







 


































































































































 




 








typedef struct
{
    kal_uint8 editable;
    kal_uint8 empty;
    kal_uint16 proxy_port;
    kal_uint8 profile_name[ 41 ];
    kal_uint8 homepage_url[ 129 ];
    kal_uint8 data_account;
    kal_uint8 conn_type;
    kal_uint8 proxy_ip[4];
    kal_uint8 username[ 31 ];
    kal_uint8 password[ 31 ];
} custom_profile_content_struct;

typedef struct
{
    kal_uint8 n_wap_profiles;
    custom_profile_content_struct profile[ 10 ];
} custom_wap_profile_struct;

typedef struct
{
    kal_uint8 n_mms_profiles;
    custom_profile_content_struct profile[ 10 ];
} custom_mms_profile_struct;

typedef struct
{
    kal_uint8 editable;
    kal_uint8 empty;
    kal_uint8 bkm_name[ 41 ];
    kal_uint8 bkm_url[ 129 ];
} custom_bkm_content_struct;

typedef struct
{
    kal_uint16 max_n_bkms;
    custom_bkm_content_struct bkm[ 20 ];
} custom_wap_bkm_struct;

typedef struct
{
    kal_uint8 empty;
    kal_uint32 tl_type;
    kal_uint8 tl_address[ 129 ];
} custom_trustList_content_struct;

typedef struct
{
    kal_uint16 max_n_trustLists;
    custom_trustList_content_struct trustList[ 10 ];
} custom_wap_trustList_struct;

typedef struct
{
    kal_uint8 editable;
    kal_uint8 empty;
    kal_uint8 root_ca_type;
    kal_uint8 root_ca_content[ 1024 ];
    kal_uint32 root_ca_content_len;
} custom_root_ca_content_struct;

typedef struct
{
    kal_uint8 n_root_ca;
    custom_root_ca_content_struct root_ca[ 3 ];
} custom_wap_root_ca_struct;

typedef struct
{
    kal_uint32 max_cache_size;
    kal_uint32 browse_timeout;
    kal_uint16 max_n_push_msg;
    kal_uint16 set_push_enable_push;
    kal_uint16 set_push_trust_setting;
    kal_uint16 set_push_SL_setting;
    kal_uint8 ua_header[ 257 ];
    kal_uint8 ua_prof_url[ 257 ];
    custom_wap_trustList_struct const *wap_trustList_default;
} custom_wap_config_struct;

typedef struct
{
    kal_uint32 max_mms_size;
    kal_uint16 max_n_mms_msg;
    kal_uint16 max_n_msg_warning;
    kal_uint8 ua_header[ 257 ];
    kal_uint8 max_n_get_retry;
    kal_uint8 max_n_post_msg_retry;
    kal_uint8 max_n_post_pdu_retry;
    kal_uint32 get_timeout;
    kal_uint32 post_timeout;
    kal_uint32 slide_duration;
    kal_uint8 immed_retrieval_mode;
    kal_uint8 roam_retrieval_mode;
    kal_uint8 allow_advertimsement;
    kal_uint8 allow_anonymous;
    kal_uint8 req_delivery_report;
    kal_uint8 req_read_report;
    kal_uint8 send_delivery_report;
    kal_uint8 send_read_report;
    kal_uint8 mms_version;
    kal_uint8 max_n_slide;
    kal_uint8 max_n_address;
    kal_uint8 max_n_attachment;
} custom_mms_config_struct;

typedef struct
{
    kal_uint8 version;
    custom_wap_profile_struct const *wap_profile_default;
    custom_mms_profile_struct const *mms_profile_default;
    custom_wap_bkm_struct const *wap_bkm_default;
    custom_wap_root_ca_struct const *wap_root_ca_default;
    custom_wap_config_struct const *wap_config_default;
    custom_mms_config_struct const *mms_config_default;
} wap_custpack_header;

 


extern kal_uint8 wap_custom_get_max_wap_prof_num(void);
extern kal_uint8 wap_custom_get_max_mms_prof_num(void);
extern kal_uint32 wap_custom_get_max_cache_size(void);
extern kal_uint16 wap_custom_get_max_bookmark_num(void);
extern kal_uint16 wap_custom_get_max_trustList_num(void);
extern const kal_uint8 *wap_custom_get_ua_header(void);
extern const kal_uint8 *wap_custom_get_ua_prof_url(void);
extern kal_uint16 wap_custom_get_max_push_msg_num(void);
extern kal_uint16 wap_custom_get_set_push_enable_push(void);
extern kal_uint16 wap_custom_get_set_push_trust_setting(void);
extern kal_uint16 wap_custom_get_set_push_SL_setting(void);
extern kal_uint32 wap_custom_get_default_browse_timeout(void);
extern const kal_uint8 *wap_custom_get_mms_user_agent(void);
extern kal_uint16 wap_custom_get_max_mms_num(void);
extern kal_uint32 wap_custom_get_max_mms_msg_size(void);
extern kal_uint16 wap_custom_get_max_mms_warning_num(void);
extern kal_uint32 wap_custom_get_max_mms_get_retry_timeout(void);
extern kal_uint32 wap_custom_get_max_mms_get_retry_nums(void);
extern kal_uint32 wap_custom_get_max_mms_post_retry_timeout(void);
extern kal_uint32 wap_custom_get_max_mms_post_msg_retry_nums(void);
extern kal_uint32 wap_custom_get_max_mms_post_pdu_retry_nums(void);
extern kal_uint32 wap_custom_get_mms_slide_duration(void);
extern kal_uint8 wap_custom_get_mms_immed_retrieval_mode(void);
extern kal_uint8 wap_custom_get_mms_roam_retrieval_mode(void);
extern kal_uint8 wap_custom_get_mms_allow_advertimsement(void);
extern kal_uint8 wap_custom_get_mms_allow_anonymous(void);
extern kal_uint8 wap_custom_get_mms_req_delivery_report(void);
extern kal_uint8 wap_custom_get_mms_req_read_report(void);
extern kal_uint8 wap_custom_get_mms_send_delivery_report(void);
extern kal_uint8 wap_custom_get_mms_send_read_report(void);
extern kal_uint8 wap_custom_get_mms_version(void);
extern kal_uint8 wap_custom_get_max_mms_slide(void);
extern kal_uint8 wap_custom_get_max_mms_address(void);
extern kal_uint8 wap_custom_get_max_mms_attachment(void);

extern const custom_wap_profile_struct wap_profile_default;
extern const custom_mms_profile_struct mms_profile_default;
extern const custom_wap_bkm_struct wap_bkm_default;
extern const custom_wap_trustList_struct wap_trustList_default;
extern const custom_wap_root_ca_struct wap_root_ca_default;
extern const custom_wap_config_struct wap_config_default;
extern const custom_mms_config_struct mms_config_default;
extern const wap_custpack_header custpack_wap_ptr;
extern wap_custpack_header custpack_wap_default;

 





































































































































































#line 198 "custom\common\fs_quota.c"


 













































 























 








 


const FS_QuotaStruct gFS_ExtQuotaSet[] =
{
            {"Z:\\@FACTORY\\",   FS_QP_HIG_ENUM,        0,   0xf1f2f3f4 ,  0x00000001 },







   
      
        
            {"Z:\\@wap\\",       FS_QP_HIG_ENUM, 160*1024,   0xf1f2f3f4 ,  0x00000001 },
        


            {"Z:\\@wcache\\",    FS_QP_DEL_ENUM,  50*1024,   0xf1f2f3f4 ,  0x00000001 },
         
            {"Z:\\@mms\\",       FS_QP_HIG_ENUM,        0,   0xf1f2f3f4 ,  0x00000001 },
         
         



      







   




































































            {"Z:\\@USER\\",      FS_QP_MID_ENUM,       0,  0xf1f2f3f4 ,  0x00000001 },


















            {"Z:\\@ftp\\",       FS_QP_HIG_ENUM, 60*1024,  0xf1f2f3f4 ,  0x00000001 },



















            {"Z:\\@bpp\\",       FS_QP_HIG_ENUM, 10*1024,  0xf1f2f3f4 ,  0x00000001 },











            {"Z:\\@Video\\",     FS_QP_HIG_ENUM, 1*1024,  0xf1f2f3f4 ,  0x00000001 },














   { 0 , 0, 0, 0, 0} 
};

 





const UINT FS_MAX_QSET = ((sizeof(gFS_ExtQuotaSet)/sizeof(FS_QuotaStruct)) - 1);

FS_InternQStruct gFS_IntQuotaSet[FS_MAX_QSET+1]; 




