/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/

/*****************************************************************************
 *
 * Filename:
 * ---------
 *   init.h
 *
 * Project:
 * --------
 *   Maui_Software
 *
 * Description:
 * ------------
 *
 *
 * Author:
 * -------
 * -------
 *
 *============================================================================
 *             HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *------------------------------------------------------------------------------
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *============================================================================
 ****************************************************************************/

#ifndef _INIT_H
#define _INIT_H

typedef struct
{
   kal_char * bb_chip;
   kal_char * dsp_fw;
   kal_char * dsp_ptch;
   kal_char * mcu_sw;
   kal_char * mcu_sw_branch;
   kal_char * bb_board;
} version_struct;

typedef struct {
   kal_uint16    pdn_con0;
   kal_uint16    pdn_con1;
   kal_uint16    pdn_con2;
   kal_uint16    pdn_con3;
} CONFIG_PDN_TYPE;

typedef enum
{
#if defined(MT6205B)

   EN,
   MT6205B_latest_chip

#elif defined(MT6218)

   AN,
   MT6218_latest_chip

#elif defined(MT6218B)

   BN,
   CN,
   DN,
   EN,
   FN,
   GN,
   MT6218B_latest_chip

#elif defined(MT6217)

   BN,
   MT6217_latest_chip

#elif defined(MT6219)

   AV,
   BV,
   EV,
   MT6219_latest_chip
   
#elif defined(MT6227) || defined(MT6226) || defined(MT6226M)

   ECO_E1,
   ECO_E2,
   MT6227_latest_chip

#elif defined(MT6225)

   ECO_E1,
   ECO_E2,
   ECO_E3,
   ECO_E4,
   MT6225_latest_chip

#elif defined(MT6228)

   MT6228_latest_chip

#elif defined(MT6229)

   MT6229_latest_chip
   
#elif defined(MT6230)

   MT6230_latest_chip

#elif defined(MT6223) || defined(MT6223P)

   MT6223_latest_chip

#elif defined(MT6227D) || defined(MT6226D)
   
   MT6227D_latest_chip
#elif defined(MT6238)
   
   MT6238_latest_chip
   
#else

   UNKNOWN

#endif
} ECO_VERSION;

typedef enum
{
   B63216A,
   C63216A,
   C63216B,
   UNKNOWN_ANALOG_DIE
} analog_die_id;	/* analog die identification */

/* MCU clock */
typedef enum mcu_clock_enum_t {
   MCU_13MHZ = 0x0000,
   MCU_26MHZ = 0x0001,
   MCU_39MHZ = 0x0002,
   MCU_52MHZ = 0x0003,
   MCU_65MHZ = 0x0004,
   MCU_78MHZ = 0x0005,
   MCU_91MHZ = 0x0006,
   MCU_104MHZ = 0x0007,
   MCU_208MHZ = 0x0008
} mcu_clock_enum;

typedef enum mem_dev_enum_t {
   DRAM                       = 0xA0,
   NOR_ASYNC                  = 0xB0,
   NOR_ASYNC_PAGE             = 0xB1,
   NOR_SYNC_READ_ASYNC_WRITE  = 0xB2,
   NOR_SYNC_READ_SYNC_WRITE   = 0xB3,
   RAM_ASYNC                  = 0xC0,
   RAM_ASYNC_PAGE             = 0xC1,
   RAM_SYNC_READ_ASYNC_WRITE  = 0xC2,
   RAM_SYNC_READ_SYNC_WRITE   = 0xC3
} MEM_DEV_TYPE;

typedef struct EMI_CS_STRUCT
{
   kal_uint8       CS0;
   kal_uint8       CS1;
   kal_uint8       CS2;
   kal_uint8       CS3;
} EMI_CS;

typedef struct EXTSRAM_REGION_INFO_STRCUT
{
   kal_uint32 addr;
   kal_uint32 len;
} EXTSRAM_REGION_INFO_T;

/*************************************************************************
 * Memory Management
 * For general platform
 *************************************************************************/
#ifdef __SYS_INTERN_RAM__

#if defined(IC_BURNIN_TEST)
#define GLOBAL_INT_SRAM_STACK_MEM_SIZE (2048)
#elif defined(MT6223) || defined(MT6223P)
#define GLOBAL_INT_SRAM_STACK_MEM_SIZE (7*1024 + 256)
#elif defined(MT6205B)
#define GLOBAL_INT_SRAM_STACK_MEM_SIZE (9*1024 + 512)	
#elif defined(MT6225)
#define GLOBAL_INT_SRAM_STACK_MEM_SIZE (12*1024)
#else /* MT6205B */
#define GLOBAL_INT_SRAM_STACK_MEM_SIZE (16*1024)
#endif /* MT6205B */

#endif /* __SYS_INTERN_RAM__ */

/*************************************************************************
 * External global variable declaration
 *************************************************************************/
extern void Initialize(void);
extern void INT_VersionNumbers(version_struct *);
extern void INT_QueryPowerDownStatus(CONFIG_PDN_TYPE *PDN_ptr);
extern void INT_SetPowerDownStatus(CONFIG_PDN_TYPE *PDN_ptr);
extern ECO_VERSION INT_ecoVersion(void);
extern analog_die_id AnalogDieID(void);

#ifdef __MTK_TARGET__
extern kal_bool INT_GetAvailableMemory_Ptr(kal_uint32 **, kal_uint32 *);
extern kal_bool INT_QueryBiggestPool(kal_uint32 *, void **);
#endif

extern kal_uint32 INT_RetrieveFlashBaseAddr(void);
extern kal_bool INT_SwitchMCUClock(mcu_clock_enum inputclk);
extern kal_bool INT_CheckSystemDriveOnNAND(void);
extern void init_32khz_output(kal_uint16 gpio_pin, kal_uint16 gpio_data);
extern kal_int32 enable_32khz_output(void);
extern kal_int32 disable_32khz_output(void); 
extern kal_bool INT_RetrieveDSPTXRXBaseAddr(kal_uint32 *TX_Base, kal_uint32 *RX_Base, kal_uint32 *CS, kal_uint32 *TX_Size, kal_uint32 *RX_Size);
extern kal_int32 INT_QuerySystemRAMInfo(kal_uint32 *addr, kal_uint32 *len);
extern kal_int32 INT_QueryIsNonCachedRAM(kal_uint32 addr, kal_uint32 len);
extern kal_int32 INT_QueryIsCachedRAM(kal_uint32 addr, kal_uint32 len);

#if defined(__MTK_TARGET__)
extern kal_int32 show_sysinit_msg(void);
#else   /* __MTK_TARGET__ */
#define show_sysinit_msg()
#endif  /* __MTK_TARGET__ */


/*************************************************************************
 * Customized functions' prototype
 *************************************************************************/
extern kal_int8 custom_setEMI(void);
extern EMI_CS * custom_getCS(void);
extern void custom_get_EXTSRAM_size(kal_uint32 *);
extern kal_int32 custom_mk_ram_info(void);
extern kal_int32 custom_query_fpt_pool(kal_uint32 **pool, kal_uint32 *pool_size);
extern kal_int32 custom_query_cpt_pool(kal_uint32 **pool, kal_uint32 *pool_size);
extern kal_int32 custom_query_cached_extsram_region(EXTSRAM_REGION_INFO_T **region);
extern kal_int32 custom_query_noncached_extsram_region(EXTSRAM_REGION_INFO_T **region);

#endif /* _INIT_H */


